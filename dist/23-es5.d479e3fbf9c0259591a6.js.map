{"version":3,"sources":["webpack:///src/app/institute/branch/employee/add-employee/add-employee.component.html","webpack:///src/app/institute/branch/employee/add-employee/add-employee-routing.module.ts","webpack:///src/app/institute/branch/employee/add-employee/add-employee.component.ts","webpack:///src/app/institute/branch/employee/add-employee/add-employee.module.ts"],"names":["AddEmployeeComponent","AddEmployeeModule","AddEmployeeRoutingModule","routes","path","component","branchService","employeeService","roleService","dateService","userService","toastrService","branchEmployeeService","encryptService","router","route","mode","this","loading","submit","branchId","getBranchId","employeeId","getEmployeeId","branchEmployeeId","getBranchEmployeeId","queryParams","subscribe","param","showToastr","navigate","relativeTo","roles","getEmployeeRoles","alreadyRegisteredUser","employeeSearchForm","validators","required","employeeForm","name","minLength","email","phone","maxLength","min","max","birthDate","address","qualification","branchEmployeeForm","role","basicSalary","description","getBranchEmployeeForEditing","res","employee","branchEmployee","userExist","patchValue","imsMasterId","disableEmployeeDetails","err","back","get","valid","checkUser","value","exist","error","markAllAsTouched","invalid","searchEmployee","enable","disable","stepper","previous","enableEmployeeDetails","next","newBranchEmployee","branch","_id","editBranchEmployee","newEmployee","password","encrypt","encKey","addEmployee","position","status","message","show","type","getEmployeeType","replaceUrl","deleteEmployeeId","deleteBranchEmployeeId","branchEmployeeFormSubmit","previousStep","saveEmployee","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","forChild"],"mappings":"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","file":"x","sourcesContent":["<nb-card>\r\n  <nb-card-header>\r\n    <button\r\n      type=\"button\"\r\n      class=\"float-right\"\r\n      nbButton\r\n      size=\"small\"\r\n      status=\"warning\"\r\n      (click)=\"back()\"\r\n    >\r\n      Back\r\n    </button>\r\n    <h3 class=\"\">\r\n      {{ !employee ? 'Add New' : 'Edit' + ' Employee ' + (employee.name | uppercase) }}\r\n    </h3>\r\n  </nb-card-header>\r\n  <nb-card-body>\r\n    <nb-stepper #stepper [linear]=\"true\" [disableStepNavigation]=\"true\">\r\n      <nb-step [stepControl]=\"employeeForm\" label=\"Basic Details\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\" *ngIf=\"!employee\">\r\n            <nb-checkbox\r\n              id=\"input-already-registered\"\r\n              name=\"alreadyRegistered\"\r\n              [checked]=\"alreadyRegisteredUser\"\r\n              (checkedChange)=\"alreadyRegister($event)\"\r\n              >Already Registered Employee</nb-checkbox\r\n            >\r\n          </div>\r\n          <div class=\"col-md-6 col-sm-8\" *ngIf=\"alreadyRegisteredUser || employee\">\r\n            <form class=\"\" (submit)=\"searchEmployee()\" [formGroup]=\"employeeSearchForm\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-employee-employee-id\">Employee Id:</label>\r\n                <nb-form-field>\r\n                  <input\r\n                    type=\"text\"\r\n                    nbInput\r\n                    id=\"input-employee-id\"\r\n                    employeeId=\"employeeId\"\r\n                    formControlName=\"employeeId\"\r\n                    placeholder=\"Employee Email or IMS Master Id\"\r\n                    fullWidth\r\n                    [status]=\"\r\n                      employeeSearchForm.get('employeeId').touched\r\n                        ? employeeSearchForm.get('employeeId').invalid\r\n                          ? 'danger'\r\n                          : 'success'\r\n                        : 'basic'\r\n                    \"\r\n                  />\r\n                  <button\r\n                    nbSuffix\r\n                    nbTooltip=\"Fetch\"\r\n                    nbButton\r\n                    size=\"small\"\r\n                    ghost\r\n                    type=\"submit\"\r\n                    *ngIf=\"!employee\"\r\n                  >\r\n                    <nb-icon icon=\"arrow-circle-right-outline\" status=\"success\"> </nb-icon>\r\n                  </button>\r\n                </nb-form-field>\r\n\r\n                <ng-container\r\n                  *ngIf=\"\r\n                    employeeSearchForm.get('employeeId').invalid &&\r\n                    employeeSearchForm.get('employeeId').touched\r\n                  \"\r\n                >\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"employeeSearchForm.get('employeeId').errors?.required\"\r\n                  >\r\n                    Employee Id is required!\r\n                  </p>\r\n                </ng-container>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <form\r\n          class=\"\"\r\n          (submit)=\"employeeFormSubmit()\"\r\n          [formGroup]=\"employeeForm\"\r\n          *ngIf=\"!alreadyRegisteredUser\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-employee-employee-name\">Employee Name:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  nbInput\r\n                  id=\"input-employee-name\"\r\n                  name=\"name\"\r\n                  formControlName=\"name\"\r\n                  placeholder=\"Employee Name\"\r\n                  minlength=\"3\"\r\n                  maxlength=\"30\"\r\n                  fullWidth\r\n                  [status]=\"\r\n                    employeeForm.get('name').touched\r\n                      ? employeeForm.get('name').invalid\r\n                        ? 'danger'\r\n                        : 'success'\r\n                      : 'basic'\r\n                  \"\r\n                />\r\n                <ng-container\r\n                  *ngIf=\"employeeForm.get('name').invalid && employeeForm.get('name').touched\"\r\n                >\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"employeeForm.get('name').errors?.required\"\r\n                  >\r\n                    Employee name is required!\r\n                  </p>\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"employeeForm.get('name').errors?.minlength\"\r\n                  >\r\n                    Employee Name should contain minimum 3 characters\r\n                  </p>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-email\">Email address:</label>\r\n                <input\r\n                  type=\"email\"\r\n                  nbInput\r\n                  id=\"input-email\"\r\n                  name=\"email\"\r\n                  formControlName=\"email\"\r\n                  placeholder=\"Email address\"\r\n                  fullWidth\r\n                  [status]=\"\r\n                    employeeForm.get('email').touched\r\n                      ? employeeForm.get('email').invalid || userExist\r\n                        ? 'danger'\r\n                        : 'success'\r\n                      : 'basic'\r\n                  \"\r\n                  (input)=\"checkUser()\"\r\n                />\r\n                <ng-container\r\n                  *ngIf=\"\r\n                    (employeeForm.get('email').invalid || userExist) &&\r\n                    employeeForm.get('email').touched\r\n                  \"\r\n                >\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"employeeForm.get('email').errors?.required\"\r\n                  >\r\n                    Email is required!\r\n                  </p>\r\n                  <p class=\"caption status-danger\" *ngIf=\"employeeForm.get('email').errors?.email\">\r\n                    Email should be the real one!\r\n                  </p>\r\n                  <p class=\"caption status-danger\" *ngIf=\"userExist\">\r\n                    Email Already registered, Please try another Email!\r\n                  </p>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-phone\">Phone:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  nbInput\r\n                  id=\"input-phone\"\r\n                  name=\"phone\"\r\n                  formControlName=\"phone\"\r\n                  placeholder=\"phone\"\r\n                  minlength=\"10\"\r\n                  maxlength=\"10\"\r\n                  min=\"1000000000\"\r\n                  max=\"9999999999\"\r\n                  fullWidth\r\n                  [status]=\"\r\n                    employeeForm.get('phone').touched\r\n                      ? employeeForm.get('phone').invalid\r\n                        ? 'danger'\r\n                        : 'success'\r\n                      : 'basic'\r\n                  \"\r\n                />\r\n                <ng-container\r\n                  *ngIf=\"employeeForm.get('phone').invalid && employeeForm.get('phone').touched\"\r\n                >\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"employeeForm.get('phone').errors?.required\"\r\n                  >\r\n                    Phone is required!\r\n                  </p>\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"\r\n                      employeeForm.get('phone').errors?.minlength ||\r\n                      employeeForm.get('phone').errors?.maxlength ||\r\n                      employeeForm.get('phone').errors?.min ||\r\n                      employeeForm.get('phone').errors?.max\r\n                    \"\r\n                  >\r\n                    Phone should contain 10 digits\r\n                  </p>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-birth-date\">Birth Date:</label>\r\n                <input\r\n                  type=\"date\"\r\n                  nbInput\r\n                  id=\"input-birth-date\"\r\n                  name=\"birthDate\"\r\n                  [max]=\"dateService.getDateString()\"\r\n                  formControlName=\"birthDate\"\r\n                  placeholder=\"Birth Date\"\r\n                  fullWidth\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-12\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-address\">Address:</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  nbInput\r\n                  id=\"input-address\"\r\n                  name=\"address\"\r\n                  formControlName=\"address\"\r\n                  placeholder=\"Address (Optional)\"\r\n                  fullWidth\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-12\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-qualification\">Qualification:</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  nbInput\r\n                  id=\"input-qualification\"\r\n                  name=\"qualification\"\r\n                  formControlName=\"qualification\"\r\n                  placeholder=\"Qualification (Optional)\"\r\n                  fullWidth\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12 text-right\">\r\n              <button nbButton size=\"small\" type=\"submit\">\r\n                <span>Next</span>\r\n                <nb-icon icon=\"arrow-ios-forward-outline\"></nb-icon>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </nb-step>\r\n\r\n      <nb-step [stepControl]=\"branchEmployeeForm\" label=\"Enrollment Details\">\r\n        <form\r\n          [formGroup]=\"branchEmployeeForm\"\r\n          (ngSubmit)=\"branchEmployeeFormSubmit()\"\r\n          class=\"step-container\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-employee-role\">Role:</label>\r\n                <nb-select\r\n                  id=\"input-role\"\r\n                  name=\"role\"\r\n                  formControlName=\"role\"\r\n                  placeholder=\"Select Role\"\r\n                  fullWidth\r\n                  [status]=\"\r\n                    branchEmployeeForm.get('role').touched\r\n                      ? branchEmployeeForm.get('role').invalid\r\n                        ? 'danger'\r\n                        : 'success'\r\n                      : 'basic'\r\n                  \"\r\n                >\r\n                  <nb-option value=\"\">Select Role</nb-option>\r\n                  <nb-option *ngFor=\"let role of roles\" [value]=\"role\">{{\r\n                    role | uppercase\r\n                  }}</nb-option>\r\n                </nb-select>\r\n                <ng-container\r\n                  *ngIf=\"\r\n                    branchEmployeeForm.get('role').invalid && branchEmployeeForm.get('role').touched\r\n                  \"\r\n                >\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"branchEmployeeForm.get('role').errors?.required\"\r\n                  >\r\n                    Employee Role is required!\r\n                  </p>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-basic-salary\">Basic Salary:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  nbInput\r\n                  id=\"input-basic-salary\"\r\n                  name=\"basicSalary\"\r\n                  formControlName=\"basicSalary\"\r\n                  placeholder=\"Basic Salary\"\r\n                  min=\"0\"\r\n                  fullWidth\r\n                  [status]=\"\r\n                    branchEmployeeForm.get('basicSalary').touched\r\n                      ? branchEmployeeForm.get('basicSalary').invalid\r\n                        ? 'danger'\r\n                        : 'success'\r\n                      : 'basic'\r\n                  \"\r\n                />\r\n                <ng-container\r\n                  *ngIf=\"\r\n                    branchEmployeeForm.get('basicSalary').invalid &&\r\n                    branchEmployeeForm.get('basicSalary').touched\r\n                  \"\r\n                >\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"branchEmployeeForm.get('basicSalary').errors?.required\"\r\n                  >\r\n                    Basic Salary is required!\r\n                  </p>\r\n                  <p\r\n                    class=\"caption status-danger\"\r\n                    *ngIf=\"branchEmployeeForm.get('basicSalary').errors?.min\"\r\n                  >\r\n                    Basic Salary should be more than 0\r\n                  </p>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-12\">\r\n              <div class=\"form-control-group\">\r\n                <label class=\"label\" for=\"input-description\">Description:</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  nbInput\r\n                  id=\"input-description\"\r\n                  name=\"description\"\r\n                  formControlName=\"description\"\r\n                  placeholder=\"Description (Optional)\"\r\n                  fullWidth\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-6 text-left\">\r\n              <button type=\"button\" class=\"\" nbButton size=\"small\" (click)=\"previousStep()\">\r\n                <nb-icon icon=\"arrow-ios-back-outline\"></nb-icon>\r\n                <span>prev</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"col-6 text-right\">\r\n              <button nbButton size=\"small\" type=\"submit\">\r\n                <span>Next</span><nb-icon icon=\"arrow-ios-forward-outline\"></nb-icon>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </nb-step>\r\n\r\n      <nb-step label=\"Submit\">\r\n        <div class=\"step-container\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-bordered\">\r\n              <tbody>\r\n                <tr *ngIf=\"employeeSearchForm.value.employeeId\">\r\n                  <th>IMS Id</th>\r\n                  <td>{{ employeeSearchForm.value.employeeId }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Employee Name</th>\r\n                  <td>{{ employeeForm.value.name }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Email</th>\r\n                  <td>{{ employeeForm.value.email }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Phone</th>\r\n                  <td>{{ employeeForm.value.phone }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Address</th>\r\n                  <td>{{ employeeForm.value.address }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Qualification</th>\r\n                  <td>{{ employeeForm.value.qualification }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Role</th>\r\n                  <td>{{ branchEmployeeForm.value.role | uppercase }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Basic Salary</th>\r\n                  <td>{{ branchEmployeeForm.value.basicSalary }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Description</th>\r\n                  <td>{{ branchEmployeeForm.value.description }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-6 text-left\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"\"\r\n                nbButton\r\n                size=\"small\"\r\n                (click)=\"previousStep()\"\r\n                [disabled]=\"submit\"\r\n              >\r\n                <nb-icon icon=\"arrow-ios-back-outline\"></nb-icon>\r\n                <span>prev</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"col-6 text-right\">\r\n              <button\r\n                nbButton\r\n                size=\"small\"\r\n                (click)=\"saveEmployee()\"\r\n                [disabled]=\"submit\"\r\n                [nbSpinner]=\"submit\"\r\n                nbSpinnerStatus=\"primary\"\r\n                nbSpinnerSize=\"small\"\r\n              >\r\n                <span>Submit</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nb-step>\r\n    </nb-stepper>\r\n  </nb-card-body>\r\n</nb-card>\r\n","import { AddEmployeeComponent } from './add-employee.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddEmployeeComponent,\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddEmployeeRoutingModule {}\n","import { DateService } from './../../../../services/shared-services/date.service';\r\nimport { RoleService } from './../../../../services/role.service';\r\nimport { UserService } from './../../../../services/shared-services/user.service';\r\nimport { environment } from './../../../../../environments/environment.prod';\r\nimport { EncryptService } from './../../../../services/shared-services/encrypt.service';\r\nimport { BranchEmployeeService } from '../../../../services/branch-employee.service';\r\nimport { EmployeeService } from './../../../../services/employee.service';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { EmployeeModel } from './../../../../models/employee.model';\r\nimport { BranchEmployeeModel } from '../../../../models/branch-employee.model';\r\nimport { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { BranchService } from './../../../../services/branch.service';\r\nimport { NbToastrService, NbStepperComponent } from '@nebular/theme';\r\n\r\n@Component({\r\n  selector: 'ngx-add-employee',\r\n  templateUrl: './add-employee.component.html',\r\n  styleUrls: ['./add-employee.component.scss'],\r\n})\r\nexport class AddEmployeeComponent implements OnInit, OnDestroy {\r\n  @ViewChild('stepper', { static: false }) stepper: NbStepperComponent;\r\n\r\n  loading: boolean;\r\n  submit: boolean;\r\n\r\n  private branchId: string;\r\n  private employeeId: string;\r\n  private branchEmployeeId: string;\r\n  roles: string[];\r\n  userExist: boolean;\r\n\r\n  alreadyRegisteredUser: boolean;\r\n\r\n  employee: EmployeeModel;\r\n  branchEmployee: BranchEmployeeModel;\r\n\r\n  employeeForm: FormGroup;\r\n  branchEmployeeForm: FormGroup;\r\n  employeeSearchForm: FormGroup;\r\n  constructor(\r\n    private branchService: BranchService,\r\n    private employeeService: EmployeeService,\r\n    private roleService: RoleService,\r\n    public dateService: DateService,\r\n    private userService: UserService,\r\n    private toastrService: NbToastrService,\r\n    private branchEmployeeService: BranchEmployeeService,\r\n    private encryptService: EncryptService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n  ) {\r\n    // route.queryParams.subscribe((param: Params) => {\r\n    //   // put the code from `ngOnInit` here\r\n    //   this.ngOnInit();\r\n    // });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loading = true;\r\n\r\n    this.submit = false;\r\n\r\n    this.branchId = this.branchService.getBranchId();\r\n    if (!this.branchId) {\r\n      this.router.navigate(['../'], { relativeTo: this.route });\r\n\r\n      return;\r\n    }\r\n\r\n    this.employeeId = this.employeeService.getEmployeeId();\r\n    this.branchEmployeeId = this.branchEmployeeService.getBranchEmployeeId();\r\n\r\n    let mode: string;\r\n\r\n    this.route.queryParams.subscribe((param: Params) => {\r\n      mode = param.mode;\r\n    });\r\n\r\n    if (mode && mode !== 'edit') {\r\n      this.showToastr('top-right', 'danger', 'Invalid Route');\r\n      this.router.navigate(['../page-not-found'], { relativeTo: this.route });\r\n      return;\r\n    } else if (mode && !this.employeeId && !this.branchEmployeeId) {\r\n      this.showToastr('top-right', 'danger', 'Employee Not Found');\r\n      this.router.navigate(['../page-not-found'], { relativeTo: this.route });\r\n      return;\r\n    }\r\n\r\n    this.roles = this.roleService.getEmployeeRoles();\r\n\r\n    this.alreadyRegisteredUser = false;\r\n\r\n    this.employeeSearchForm = new FormGroup({\r\n      employeeId: new FormControl(null, { validators: [Validators.required] }),\r\n    });\r\n\r\n    this.employeeForm = new FormGroup({\r\n      name: new FormControl(null, { validators: [Validators.required, Validators.minLength(3)] }),\r\n      email: new FormControl(null, { validators: [Validators.required, Validators.email] }),\r\n      phone: new FormControl(null, {\r\n        validators: [\r\n          Validators.required,\r\n          Validators.minLength(10),\r\n          Validators.maxLength(10),\r\n          Validators.min(1000000000),\r\n          Validators.max(9999999999),\r\n        ],\r\n      }),\r\n      birthDate: new FormControl(null, {\r\n        validators: [],\r\n      }),\r\n      address: new FormControl(null, { validators: [] }),\r\n      qualification: new FormControl(null, { validators: [] }),\r\n    });\r\n\r\n    this.branchEmployeeForm = new FormGroup({\r\n      role: new FormControl(null, { validators: [Validators.required] }),\r\n      basicSalary: new FormControl(null, {\r\n        validators: [Validators.required, Validators.min(0)],\r\n      }),\r\n      description: new FormControl(null, {\r\n        validators: [],\r\n      }),\r\n    });\r\n\r\n    if (mode && this.employeeId && this.branchEmployeeId) {\r\n      this.branchEmployeeService\r\n        .getBranchEmployeeForEditing(this.branchEmployeeId, this.employeeId)\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.employee = res.employee;\r\n            this.branchEmployee = res.branchEmployee;\r\n            this.userExist = false;\r\n            this.employeeSearchForm.patchValue({\r\n              employeeId: this.employee.imsMasterId,\r\n            });\r\n\r\n            this.employeeForm.patchValue({\r\n              name: this.employee.name,\r\n              email: this.employee.email,\r\n              phone: this.employee.phone,\r\n              birthDate: this.employee.birthDate,\r\n              address: this.employee.address,\r\n            });\r\n\r\n            this.disableEmployeeDetails();\r\n\r\n            this.branchEmployeeForm.patchValue({\r\n              role: this.branchEmployee.role,\r\n              basicSalary: this.branchEmployee.basicSalary,\r\n              description: this.branchEmployee.description,\r\n            });\r\n\r\n            this.loading = false;\r\n          },\r\n          (err: any) => {\r\n            this.showToastr('top-right', 'danger', err);\r\n            this.back();\r\n          },\r\n        );\r\n    } else {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  checkUser() {\r\n    if (this.employeeForm.get('email').valid && !this.employee) {\r\n      this.userService.checkUser(this.employeeForm.value.email).subscribe(\r\n        (res: any) => {\r\n          this.userExist = res.exist;\r\n        },\r\n        (error: any) => {},\r\n      );\r\n    }\r\n  }\r\n\r\n  alreadyRegister(alreadyRegisteredUser: boolean) {\r\n    this.alreadyRegisteredUser = alreadyRegisteredUser;\r\n  }\r\n\r\n  searchEmployee() {\r\n    this.employeeSearchForm.markAllAsTouched();\r\n    if (this.employeeSearchForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'Enter Employee Id');\r\n      return;\r\n    }\r\n    this.employeeId = this.employeeSearchForm.value.employeeId;\r\n    this.loading = true;\r\n    this.employeeService.searchEmployee(this.employeeId).subscribe(\r\n      (employee: EmployeeModel) => {\r\n        this.employee = employee;\r\n\r\n        this.employeeId = employee.imsMasterId;\r\n        this.userExist = false;\r\n        this.alreadyRegisteredUser = false;\r\n\r\n        this.employeeSearchForm.patchValue({\r\n          employeeId: this.employee.imsMasterId,\r\n        });\r\n\r\n        this.employeeForm.patchValue({\r\n          name: this.employee.name,\r\n          email: this.employee.email,\r\n          phone: this.employee.phone,\r\n          birthDate: this.employee.birthDate,\r\n          address: this.employee.address,\r\n        });\r\n\r\n        this.disableEmployeeDetails();\r\n\r\n        this.loading = false;\r\n      },\r\n      (err: any) => {\r\n        this.showToastr('top-right', 'danger', err);\r\n        this.employeeId = null;\r\n        this.loading = false;\r\n      },\r\n    );\r\n  }\r\n\r\n  private enableEmployeeDetails() {\r\n    this.employeeForm.get('name').enable();\r\n    this.employeeForm.get('email').enable();\r\n    this.employeeForm.get('phone').enable();\r\n    this.employeeForm.get('birthDate').enable();\r\n    this.employeeForm.get('address').enable();\r\n    this.employeeForm.get('qualification').enable();\r\n    this.employeeSearchForm.get('employeeId').enable();\r\n  }\r\n\r\n  private disableEmployeeDetails() {\r\n    this.employeeForm.get('name').disable();\r\n    this.employeeForm.get('email').disable();\r\n    this.employeeForm.get('phone').disable();\r\n    this.employeeForm.get('birthDate').disable();\r\n    this.employeeForm.get('address').disable();\r\n    this.employeeForm.get('qualification').disable();\r\n    this.employeeSearchForm.get('employeeId').disable();\r\n  }\r\n\r\n  previousStep() {\r\n    this.stepper.previous();\r\n    if (this.employee) {\r\n      this.disableEmployeeDetails();\r\n    }\r\n  }\r\n\r\n  employeeFormSubmit() {\r\n    this.employeeForm.markAllAsTouched();\r\n    if (this.employeeForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'Employee Details are Required');\r\n      return;\r\n    } else if (this.userExist) {\r\n      this.showToastr('top-right', 'danger', 'User with this email address is already Exist');\r\n      return;\r\n    }\r\n    if (this.employee) {\r\n      this.enableEmployeeDetails();\r\n    }\r\n    this.stepper.next();\r\n  }\r\n\r\n  branchEmployeeFormSubmit() {\r\n    this.branchEmployeeForm.markAllAsTouched();\r\n    if (this.employeeForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'Employee Branch Details are Required');\r\n      return;\r\n    }\r\n    this.stepper.next();\r\n  }\r\n\r\n  saveEmployee() {\r\n    this.employeeForm.markAllAsTouched();\r\n    this.branchEmployeeForm.markAllAsTouched();\r\n\r\n    if (this.employeeForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'Employee Details are Required');\r\n      return;\r\n    } else if (this.employeeForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'Employee Branch Details are Required');\r\n      return;\r\n    }\r\n\r\n    this.submit = true;\r\n\r\n    if (!this.employeeId && !this.branchEmployeeId) {\r\n      const newEmployee: any = this.employeeForm.value;\r\n      newEmployee.password = this.encryptService.encrypt(newEmployee.phone, environment.encKey);\r\n      const newBranchEmployee: any = this.branchEmployeeForm.value;\r\n      newBranchEmployee.branch = this.branchId;\r\n      this.employeeService.addEmployee(newEmployee, newBranchEmployee).subscribe(\r\n        (res: any) => {\r\n          this.showToastr('top-right', 'success', 'New Employee Added Successfully');\r\n          this.back();\r\n        },\r\n        (error: any) => {\r\n          this.showToastr('top-right', 'danger', error);\r\n          this.submit = false;\r\n        },\r\n      );\r\n    } else if (this.employeeId && !this.branchEmployeeId) {\r\n      const newBranchEmployee: any = this.branchEmployeeForm.value;\r\n      newBranchEmployee.branch = this.branchId;\r\n      newBranchEmployee.employee = this.employeeId;\r\n      this.branchEmployeeService.newBranchEmployee(newBranchEmployee).subscribe(\r\n        (res: any) => {\r\n          this.showToastr('top-right', 'success', 'New Branch Employee added Successfully');\r\n          this.back();\r\n        },\r\n        (error: any) => {\r\n          this.showToastr('top-right', 'danger', error);\r\n          this.submit = false;\r\n        },\r\n      );\r\n    } else if (this.employeeId && this.branchEmployeeId) {\r\n      const branchEmployee: any = this.branchEmployeeForm.value;\r\n      branchEmployee._id = this.branchEmployeeId;\r\n      this.branchEmployeeService.editBranchEmployee(branchEmployee).subscribe(\r\n        (res: any) => {\r\n          this.showToastr('top-right', 'success', 'Employee Updated Successfully');\r\n          this.back();\r\n        },\r\n        (error: any) => {\r\n          this.showToastr('top-right', 'danger', error);\r\n          this.submit = false;\r\n        },\r\n      );\r\n    } else {\r\n      this.showToastr('top-right', 'danger', 'Invalid data');\r\n      this.submit = false;\r\n    }\r\n  }\r\n\r\n  private showToastr(position: any, status: any, message: string) {\r\n    this.toastrService.show(status, message, {\r\n      position,\r\n      status,\r\n    });\r\n  }\r\n\r\n  back() {\r\n    const type = this.employeeService.getEmployeeType();\r\n    this.router.navigate(['../'], {\r\n      relativeTo: this.route,\r\n      queryParams: { type },\r\n      replaceUrl: true,\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.employeeService.deleteEmployeeId();\r\n    this.branchEmployeeService.deleteBranchEmployeeId();\r\n  }\r\n}\r\n","import { AddEmployeeComponent } from './add-employee.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AddEmployeeRoutingModule } from './add-employee-routing.module';\n\nimport { ReactiveFormsModule } from '@angular/forms';\nimport {\n  NbCardModule,\n  NbSelectModule,\n  NbInputModule,\n  NbButtonModule,\n  NbSpinnerModule,\n  NbIconModule,\n  NbStepperModule,\n  NbFormFieldModule,\n  NbCheckboxModule,\n  NbTooltipModule,\n} from '@nebular/theme';\n\n@NgModule({\n  declarations: [AddEmployeeComponent],\n  imports: [\n    CommonModule,\n    AddEmployeeRoutingModule,\n\n    NbCardModule,\n    NbSelectModule,\n    NbInputModule,\n    NbCheckboxModule,\n    NbSpinnerModule,\n    NbButtonModule,\n    NbIconModule,\n    NbStepperModule,\n    NbTooltipModule,\n    NbFormFieldModule,\n\n    ReactiveFormsModule,\n  ],\n})\nexport class AddEmployeeModule {}\n"]}