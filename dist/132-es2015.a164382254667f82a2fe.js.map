{"version":3,"sources":["webpack:///src/app/employee/branch/student/student-course/student-course-installment/student-course-installment-receipt/student-course-installment-receipt.component.html","webpack:///src/app/employee/branch/student/student-course/student-course-installment/student-course-installment-receipt/student-course-installment-receipt-routing.module.ts","webpack:///src/app/employee/branch/student/student-course/student-course-installment/student-course-installment-receipt/student-course-installment-receipt.component.ts","webpack:///src/app/employee/branch/student/student-course/student-course-installment/student-course-installment-receipt/student-course-installment-receipt.module.ts"],"names":["routes","path","component","StudentCourseInstallmentReceiptComponent","branchService","studentService","toastrService","studentCourseInstallmentReceiptService","router","route","this","loading","branchId","getBranchId","categoryId","getCategoryId","studentId","getStudentId","studentCourseInstallmentReceiptId","getStudentCourseInstallmentReceiptId","showToastr","back","getStudentCourseInstallmentReceipt","subscribe","res","studentCourseInstallmentReceipt","instituteBilling","course","gstNumber","courseAmount","amount","feeDetails","gst","gstAmount","toFixed","lateFee","totalAmount","err","window","print","navigate","relativeTo","position","status","message","show","deleteStudentCourseInstallmentReceiptId","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","StudentCourseInstallmentReceiptRoutingModule","forChild","StudentCourseInstallmentReceiptModule"],"mappings":"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","file":"x","sourcesContent":["<div class=\"row\">\n  <div class=\"col-sm-10 mx-auto\">\n    <nb-card *ngIf=\"!loading\">\n      <div class=\"row p-4\">\n        <div class=\"col-12\">\n          <h3 class=\"text-center\">{{ instituteBilling.name }}</h3>\n          <h5 class=\"text-center\">{{ instituteBilling.address }}</h5>\n          <h6 *ngIf=\"instituteBilling.gstNumber\">GST Number: {{ instituteBilling.gstNumber }}</h6>\n        </div>\n        <hr />\n        <br />\n        <div class=\"col-12\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th>Description</th>\n                  <th>Amount</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"p-2\">\n                  <td>\n                    {{\n                      studentCourseInstallmentReceipt.description\n                        ? studentCourseInstallmentReceipt.description\n                        : course.basicDetails.courseName\n                    }}\n                  </td>\n                  <td>{{ amount }}/-</td>\n                </tr>\n                <tr class=\"p-2\" *ngIf=\"instituteBilling.gstNumber\">\n                  <td>GST {{ course.feeDetails.gst }}%</td>\n                  <td>{{ gstAmount }}/-</td>\n                </tr>\n                <tr class=\"p-2\" *ngIf=\"studentCourseInstallmentReceipt.lateFee > 0\">\n                  <td>Late Fee</td>\n                  <td>{{ lateFee }}/-</td>\n                </tr>\n                <tr class=\"p-2\">\n                  <td><strong>Total</strong></td>\n                  <td>{{ totalAmount }}/-</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <div class=\"col-12\">\n            <p>\n              Total Amount in Words:\n              <strong>{{ studentCourseInstallmentReceipt.totalAmountInWords }} Only/-</strong>\n            </p>\n          </div>\n          <br /><br />\n          <div class=\"col-12\" *ngIf=\"instituteBilling.termsAndConditions\">\n            <p>\n              <strong>*Terms & Conditions: </strong><br />\n              <small>{{ instituteBilling.termsAndConditions }}</small>\n            </p>\n          </div>\n\n          <hr />\n          <div class=\"col-12\">\n            <p class=\"text-center pt-5 pb-5\">\n              <small>\n                <strong>\n                  <span\n                    >This is Computer Generated receipt, Does not Required any Stamp or\n                    Signature</span\n                  >\n                </strong>\n              </small>\n            </p>\n          </div>\n          <div class=\"col-12\">\n            <button\n              type=\"button\"\n              (click)=\"print()\"\n              class=\"float-right\"\n              nbButton\n              size=\"small\"\n              status=\"success\"\n            >\n              <nb-icon nbTooltip=\"Print\" icon=\"printer-outline\"></nb-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nb-card>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { StudentCourseInstallmentReceiptComponent } from './student-course-installment-receipt.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StudentCourseInstallmentReceiptComponent,\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StudentCourseInstallmentReceiptRoutingModule {}\n","import { CourseModel } from './../../../../../../models/course.model';\r\nimport { NbToastrService } from '@nebular/theme';\r\nimport { StudentCourseInstallmentReceiptService } from './../../../../../../services/student-course-installment-receipt.service';\r\nimport { InstituteBillingModel } from './../../../../../../models/institute-billing.model';\r\nimport { StudentCourseInstallmentReceiptModel } from './../../../../../../models/student-course-installment-receipt.model';\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { BranchService } from '../../../../../../services/branch.service';\r\nimport { StudentService } from '../../../../../../services/student.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'ngx-student-course-installment-receipt',\r\n  templateUrl: './student-course-installment-receipt.component.html',\r\n  styleUrls: ['./student-course-installment-receipt.component.scss'],\r\n})\r\nexport class StudentCourseInstallmentReceiptComponent implements OnInit, OnDestroy {\r\n  private branchId: string;\r\n  private studentId: string;\r\n  private categoryId: string;\r\n  private studentCourseInstallmentReceiptId: string;\r\n  studentCourseInstallmentReceipt: StudentCourseInstallmentReceiptModel;\r\n  instituteBilling: InstituteBillingModel;\r\n  course: CourseModel;\r\n\r\n  loading: boolean;\r\n\r\n  amount: string;\r\n  gstAmount: string;\r\n  lateFee: string;\r\n  totalAmount: string;\r\n\r\n  constructor(\r\n    private branchService: BranchService,\r\n    private studentService: StudentService,\r\n    public toastrService: NbToastrService,\r\n    private studentCourseInstallmentReceiptService: StudentCourseInstallmentReceiptService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loading = true;\r\n    this.branchId = this.branchService.getBranchId();\r\n    this.categoryId = this.branchService.getCategoryId();\r\n    this.studentId = this.studentService.getStudentId();\r\n    // tslint:disable-next-line: max-line-length\r\n    this.studentCourseInstallmentReceiptId = this.studentCourseInstallmentReceiptService.getStudentCourseInstallmentReceiptId();\r\n\r\n    if (\r\n      !this.branchId ||\r\n      !this.categoryId ||\r\n      !this.studentId ||\r\n      !this.studentCourseInstallmentReceiptId\r\n    ) {\r\n      this.showToastr('top-right', 'danger', 'Invalid Receipt');\r\n      this.back();\r\n\r\n      return;\r\n    }\r\n\r\n    this.studentCourseInstallmentReceiptService\r\n      .getStudentCourseInstallmentReceipt(this.studentCourseInstallmentReceiptId)\r\n      .subscribe(\r\n        (res: {\r\n          studentCourseInstallmentReceipt: StudentCourseInstallmentReceiptModel;\r\n          instituteBilling: InstituteBillingModel;\r\n          course: CourseModel;\r\n        }) => {\r\n          this.studentCourseInstallmentReceipt = res.studentCourseInstallmentReceipt;\r\n          this.instituteBilling = res.instituteBilling;\r\n          this.course = res.course;\r\n\r\n          if (!res.instituteBilling.gstNumber) {\r\n            this.amount = res.studentCourseInstallmentReceipt.amount.toFixed(2);\r\n          } else {\r\n            const courseAmount = +res.studentCourseInstallmentReceipt.amount;\r\n            const gstPercentage = +res.course.feeDetails.gst;\r\n\r\n            const amount = courseAmount / (1 + gstPercentage / 100);\r\n            const gstAmount = courseAmount - amount;\r\n\r\n            this.gstAmount = gstAmount.toFixed(2);\r\n            this.amount = amount.toFixed(2);\r\n          }\r\n          this.lateFee = res.studentCourseInstallmentReceipt.lateFee.toFixed(2);\r\n          this.totalAmount = res.studentCourseInstallmentReceipt.totalAmount.toFixed(2);\r\n\r\n          this.loading = false;\r\n        },\r\n        (err: any) => {\r\n          this.showToastr('top-right', 'danger', err);\r\n          this.back();\r\n\r\n          return;\r\n        },\r\n      );\r\n  }\r\n\r\n  print() {\r\n    window.print();\r\n  }\r\n\r\n  back() {\r\n    this.router.navigate(['../'], { relativeTo: this.route });\r\n  }\r\n\r\n  private showToastr(position: any, status: any, message: string) {\r\n    this.toastrService.show(status, message, {\r\n      position,\r\n      status,\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.studentCourseInstallmentReceiptService.deleteStudentCourseInstallmentReceiptId();\r\n  }\r\n}\r\n","import { NbCardModule, NbButtonModule, NbIconModule, NbTooltipModule } from '@nebular/theme';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StudentCourseInstallmentReceiptRoutingModule } from './student-course-installment-receipt-routing.module';\nimport { StudentCourseInstallmentReceiptComponent } from './student-course-installment-receipt.component';\n\n@NgModule({\n  declarations: [StudentCourseInstallmentReceiptComponent],\n  imports: [\n    CommonModule,\n    StudentCourseInstallmentReceiptRoutingModule,\n\n    NbCardModule,\n    NbButtonModule,\n    NbIconModule,\n    NbTooltipModule,\n  ],\n})\nexport class StudentCourseInstallmentReceiptModule {}\n"]}