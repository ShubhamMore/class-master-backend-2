function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"uk+c":function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),o=n("3b5Z"),a=n("nwtg"),l=n("3Pt+"),i=n("5hth"),s=n("AytR"),m=n("fvxu"),d=n("fXoL"),u=n("aceb"),c=n("tyNb");function p(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Full name is required! "),d["\u0275\u0275elementEnd"]())}function f(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Full name should contains minimum 5 "),d["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,p,2,0,"p",25),d["\u0275\u0275template"](2,f,2,0,"p",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.minlength)}}function g(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Email is required! "),d["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Email should be the real one! "),d["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Email Already registered, Please try another Email! "),d["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,g,2,0,"p",25),d["\u0275\u0275template"](2,v,2,0,"p",25),d["\u0275\u0275template"](3,w,2,0,"p",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("email").errors?null:n.form.get("email").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("email").errors?null:n.form.get("email").errors.email),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.userExist)}}function y(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Phone is required! "),d["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Phone should contain 10 digits "),d["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,y,2,0,"p",25),d["\u0275\u0275template"](2,b,2,0,"p",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("phone").errors?null:n.form.get("phone").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",(null==n.form.get("phone").errors?null:n.form.get("phone").errors.pattern)||(null==n.form.get("phone").errors?null:n.form.get("phone").errors.minlength))}}function E(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Password is required! "),d["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Password should contain minimum 7 characters "),d["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,E,2,0,"p",25),d["\u0275\u0275template"](2,C,2,0,"p",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("password").errors?null:n.form.get("password").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("password").errors?null:n.form.get("password").errors.minlength)}}function P(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Password confirmation is required! "),d["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," Password does not match the confirm password. "),d["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,P,2,0,"p",25),d["\u0275\u0275template"](2,k,2,0,"p",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("confirmPassword").errors?null:n.form.get("confirmPassword").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.form.get("password").value!=n.form.get("confirmPassword").value&&!(null!=n.form.get("confirmPassword").errors&&n.form.get("confirmPassword").errors.required))}}function R(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"nb-option",27),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"uppercase"),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,2,n))}}function T(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," User Role is required! "),d["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,T,2,0,"p",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.form.get("userRole").errors?null:n.form.get("userRole").errors.required)}}var L,N,A=[{path:"",component:(L=function(){function e(t,n,r,o,a,l,i){_classCallCheck(this,e),this.authService=t,this.roleService=n,this.toastrService=r,this.router=o,this.route=a,this.encryptService=l,this.userService=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.loading=!0,this.roles=this.roleService.getUserRoles(),this.userExist=!1,this.form=new l.f({name:new l.d(null,{validators:[l.u.required,l.u.minLength(5),l.u.maxLength(30)]}),email:new l.d(null,{validators:[l.u.required,l.u.email]}),phone:new l.d(null,{validators:[l.u.required,l.u.minLength(10),l.u.maxLength(10)]}),password:new l.d(null,{validators:[l.u.required,l.u.minLength(7),l.u.maxLength(20)]}),confirmPassword:new l.d(null,{validators:[l.u.required,l.u.minLength(7),l.u.maxLength(20)]}),userRole:new l.d(this.roles[0],{validators:[l.u.required]})},{validators:this.passwordValidator.bind(this)}),this.loading=!1}},{key:"passwordValidator",value:function(e){return e.value.password!==e.value.confirmPassword?{invalidConfirmPassword:!0}:null}},{key:"checkUser",value:function(){var e=this;this.form.get("email").valid&&this.userService.checkUser(this.form.value.email).subscribe((function(t){e.userExist=t.exist}),(function(e){}))}},{key:"acceptTermsConditions",value:function(e){this.termsConditions=e}},{key:"register",value:function(){var e=this;if(this.form.markAllAsTouched(),this.form.valid)if(this.userExist)this.showToastr("top-right","danger","This user Already exist, Please try another Email");else if(this.termsConditions){this.loading=!0;var t={name:this.form.value.name.toLowerCase(),userRole:this.form.value.userRole,email:this.form.value.email,phone:this.form.value.phone,password:this.encryptService.encrypt(this.form.value.password,s.a.encKey)};this.authService.createUser(t).subscribe((function(t){e.loading=!1,e.showToastr("top-right","success","New User Created Successfully"),e.router.navigate(["/login"],{relativeTo:e.route})}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}else this.showToastr("top-right","warning","Accept Terms & Conditions");else this.showToastr("top-right","danger","All Fields are required")}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}]),e}(),L.\u0275fac=function(e){return new(e||L)(d["\u0275\u0275directiveInject"](a.a),d["\u0275\u0275directiveInject"](o.a),d["\u0275\u0275directiveInject"](u.Db),d["\u0275\u0275directiveInject"](c.c),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](m.a))},L.\u0275cmp=d["\u0275\u0275defineComponent"]({type:L,selectors:[["ngx-register"]],decls:53,vars:14,consts:[[1,"row"],[1,"col-md-6","col-sm-10","col-12","mx-auto"],["id","title",1,"title"],[3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["type","text","nbInput","","id","input-name","name","fullName","placeholder","Full name","formControlName","name","minlength","5","maxlength","30","autofocus","","fullWidth","",3,"status"],[4,"ngIf"],["for","input-email",1,"label"],["type","email","nbInput","","id","input-email","name","email","formControlName","email","placeholder","Email address","fullWidth","",3,"status","input"],["for","input-phone",1,"label"],["type","number","nbInput","","id","input-phone","name","phone","formControlName","phone","placeholder","phone","minlength","10","maxlength","10","min","0","fullWidth","",3,"status"],["for","input-password",1,"label"],["type","password","nbInput","","id","input-password","name","password","formControlName","password","placeholder","Password","minlength","7","maxlength","20","fullWidth","",3,"status"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","formControlName","confirmPassword","placeholder","Confirm Password","minlength","5","maxlength","30","fullWidth","",3,"status"],["for","input-role",1,"label"],["type","text","selected","institute","id","input-role","name","userRole","placeholder","Select User Role","formControlName","userRole","fullWidth","",3,"status"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control-group","accept-group"],["name","terms",3,"checkedChange"],["href","#","target","_blank"],["nbButton","","fullWidth","","status","primary"],["aria-label","Sign in",1,"another-action","text-right"],["routerLink","/login",1,"text-link"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"nb-card"),d["\u0275\u0275elementStart"](3,"nb-card-body"),d["\u0275\u0275elementStart"](4,"h1",2),d["\u0275\u0275text"](5,"Register"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"form",3),d["\u0275\u0275listener"]("ngSubmit",(function(){return t.register()})),d["\u0275\u0275elementStart"](7,"div",4),d["\u0275\u0275elementStart"](8,"label",5),d["\u0275\u0275text"](9,"Full name:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](10,"input",6),d["\u0275\u0275template"](11,h,3,2,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",4),d["\u0275\u0275elementStart"](13,"label",8),d["\u0275\u0275text"](14,"Email address:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"input",9),d["\u0275\u0275listener"]("input",(function(){return t.checkUser()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](16,x,4,3,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",4),d["\u0275\u0275elementStart"](18,"label",10),d["\u0275\u0275text"](19,"Phone:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](20,"input",11),d["\u0275\u0275template"](21,S,3,2,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"div",4),d["\u0275\u0275elementStart"](23,"label",12),d["\u0275\u0275text"](24,"Password:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](25,"input",13),d["\u0275\u0275template"](26,I,3,2,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"div",4),d["\u0275\u0275elementStart"](28,"label",14),d["\u0275\u0275text"](29,"Repeat password:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](30,"input",15),d["\u0275\u0275template"](31,q,3,2,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"div",4),d["\u0275\u0275elementStart"](33,"label",16),d["\u0275\u0275text"](34,"User Role:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"nb-select",17),d["\u0275\u0275template"](36,R,3,4,"nb-option",18),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](37,j,2,1,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](38,"br"),d["\u0275\u0275elementStart"](39,"div",19),d["\u0275\u0275elementStart"](40,"nb-checkbox",20),d["\u0275\u0275listener"]("checkedChange",(function(e){return t.acceptTermsConditions(e)})),d["\u0275\u0275text"](41," Agree to "),d["\u0275\u0275elementStart"](42,"a",21),d["\u0275\u0275elementStart"](43,"strong"),d["\u0275\u0275text"](44,"Terms & Conditions"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](45,"br"),d["\u0275\u0275elementStart"](46,"button",22),d["\u0275\u0275text"](47," Register "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](48,"br"),d["\u0275\u0275elementStart"](49,"section",23),d["\u0275\u0275text"](50," Already have an account? "),d["\u0275\u0275elementStart"](51,"a",24),d["\u0275\u0275text"](52,"Log in"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("formGroup",t.form),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("status",t.form.get("name").touched?t.form.get("name").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.form.get("name").invalid&&t.form.get("name").touched),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("status",t.form.get("email").touched?t.form.get("email").invalid||t.userExist?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",(t.form.get("email").invalid||t.userExist)&&t.form.get("email").touched),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("status",t.form.get("phone").touched?t.form.get("phone").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.form.get("phone").invalid&&t.form.get("phone").touched),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("status",t.form.get("password").touched?t.form.get("password").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.form.get("password").invalid&&t.form.get("password").touched),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("status",t.form.get("confirmPassword").touched?t.form.get("confirmPassword").invalid||t.form.get("password").value!=t.form.get("confirmPassword").value?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.form.get("confirmPassword").invalid&&t.form.get("confirmPassword").touched),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("status",t.form.get("userRole").touched?t.form.get("userRole").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.roles),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.form.get("userRole").invalid&&t.form.get("userRole").touched))},directives:[u.x,u.w,l.v,l.n,l.g,u.P,l.a,l.m,l.e,l.j,l.i,r.n,l.q,u.mb,r.m,u.C,u.u,c.f,u.fb],pipes:[r.v],styles:["",""]}),L),canActivate:[]},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],_=((N=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},imports:[[c.g.forChild(A)],c.g]}),N),F=n("vTDv");n.d(t,"RegisterModule",(function(){return W}));var U,W=((U=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:U}),U.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||U)},imports:[[r.c,_,l.h,l.s,F.a,u.A,u.v,u.O,u.v,u.n,u.Q,u.D,u.p,u.nb]]}),U)}}]);