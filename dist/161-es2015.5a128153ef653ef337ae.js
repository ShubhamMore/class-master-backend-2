(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{Kd2V:function(e,t,s){"use strict";s.r(t);var o=s("ofXK"),n=s("vTDv"),a=s("aceb"),c=s("3Pt+"),r=s("fCOA"),i=s("lJxs"),u=s("JIr8"),b=s("z6cu"),m=s("fXoL");let y=(()=>{class e{constructor(e){this.httpService=e}getInstituteKeys(){return this.httpService.httpPost({api:"getInstituteKeys",data:{}}).pipe(Object(i.a)(e=>e),Object(u.a)(e=>Object(b.a)(e)))}saveInstitutePaymentGatewayKeys(e){return this.httpService.httpPost({api:"saveInstitutePaymentGatewayKeys",data:{keys:e}}).pipe(Object(i.a)(e=>e),Object(u.a)(e=>Object(b.a)(e)))}saveInstituteZoomKeys(e){return this.httpService.httpPost({api:"saveInstituteZoomKeys",data:e}).pipe(Object(i.a)(e=>e),Object(u.a)(e=>Object(b.a)(e)))}generateZoomAuthToken(){return this.httpService.httpGet({api:"generateZoomAuthToken"}).pipe(Object(i.a)(e=>e),Object(u.a)(e=>Object(b.a)(e)))}getZoomAuthLink(){return this.httpService.httpPost({api:"getZoomAuthLink",data:{}}).pipe(Object(i.a)(e=>e),Object(u.a)(e=>Object(b.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(m.ac(r.a))},e.\u0275prov=m.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=s("tyNb");function d(e,t){1&e&&(m.Wb(0,"p",17),m.Cc(1," Zoom Access Token is required! "),m.Vb())}function p(e,t){if(1&e&&(m.Ub(0),m.Ac(1,d,2,0,"p",16),m.Tb()),2&e){const e=m.gc();m.Eb(1),m.mc("ngIf",null==e.zoomKeysForm.get("accessToken").errors?null:e.zoomKeysForm.get("accessToken").errors.required)}}function h(e,t){1&e&&(m.Wb(0,"p",17),m.Cc(1," Zoom Secret Token is required! "),m.Vb())}function g(e,t){if(1&e&&(m.Ub(0),m.Ac(1,h,2,0,"p",16),m.Tb()),2&e){const e=m.gc();m.Eb(1),m.mc("ngIf",null==e.zoomKeysForm.get("secretToken").errors?null:e.zoomKeysForm.get("secretToken").errors.required)}}function k(e,t){1&e&&(m.Wb(0,"p",17),m.Cc(1," Payment Gateway Access Token is required! "),m.Vb())}function v(e,t){if(1&e&&(m.Ub(0),m.Ac(1,k,2,0,"p",16),m.Tb()),2&e){const e=m.gc();m.Eb(1),m.mc("ngIf",null==e.paymentGatewayKeysForm.get("accessToken").errors?null:e.paymentGatewayKeysForm.get("accessToken").errors.required)}}function K(e,t){1&e&&(m.Wb(0,"p",17),m.Cc(1," Payment Gateway Secret Token is required! "),m.Vb())}function T(e,t){if(1&e&&(m.Ub(0),m.Ac(1,K,2,0,"p",16),m.Tb()),2&e){const e=m.gc();m.Eb(1),m.mc("ngIf",null==e.paymentGatewayKeysForm.get("secretToken").errors?null:e.paymentGatewayKeysForm.get("secretToken").errors.required)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,s,o){this.router=e,this.route=t,this.toastrService=s,this.instituteKeysService=o}ngOnInit(){this.loading=!0,this.zoomKeysForm=new c.f({accessToken:new c.d(null,{validators:[c.u.required]}),secretToken:new c.d(null,{validators:[c.u.required]})}),this.paymentGatewayKeysForm=new c.f({accessToken:new c.d(null,{validators:[c.u.required]}),secretToken:new c.d(null,{validators:[c.u.required]})}),this.instituteKeysService.getInstituteKeys().subscribe(e=>{e&&e.onlineClassesKeys&&this.zoomKeysForm.patchValue({accessToken:e.onlineClassesKeys.accessKey,secretToken:e.onlineClassesKeys.secretKey}),e&&e.paymentGatewayKeys&&this.paymentGatewayKeysForm.patchValue({accessToken:e.paymentGatewayKeys.accessKey,secretToken:e.paymentGatewayKeys.secretKey}),this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}saveZoomKeys(){this.zoomKeysForm.markAllAsTouched(),this.zoomKeysForm.invalid?this.showToastr("top-right","danger","Please Enter valid Zoom Keys"):this.instituteKeysService.saveInstituteZoomKeys({accessKey:this.zoomKeysForm.value.accessToken,secretKey:this.zoomKeysForm.value.secretToken}).subscribe(e=>{this.instituteKeysService.getZoomAuthLink().subscribe(e=>{const t=window.open(e.authLink,"_blank","toolbar,scrollbars,resizable,top=200,left=500,width=400,height=400");setTimeout(()=>{t.close()},3e3)}),this.showToastr("top-right","success","Institute Zoom Keys Saved Successfully!")},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}savePaymentGatewayKeys(){this.paymentGatewayKeysForm.markAllAsTouched(),this.paymentGatewayKeysForm.invalid?this.showToastr("top-right","danger","Please Enter valid Payment Gateway Keys"):this.instituteKeysService.saveInstitutePaymentGatewayKeys({accessKey:this.paymentGatewayKeysForm.value.accessToken,secretKey:this.paymentGatewayKeysForm.value.secretToken}).subscribe(e=>{this.showToastr("top-right","success","Institute Payment Gateway Keys Saved Successfully!")},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,s){this.toastrService.show(t,s,{position:e,status:t})}back(){this.router.navigate(["../"],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(m.Qb(l.c),m.Qb(l.a),m.Qb(a.xb),m.Qb(y))},e.\u0275cmp=m.Kb({type:e,selectors:[["ngx-settings"]],decls:56,vars:10,consts:[["nbButton","","status","warning","size","tiny",1,"float-right",3,"click"],[1,"row"],[1,"col-12"],[1,"col-md-8","col-sm-10","col-12","mx-auto"],[3,"formGroup","submit"],[1,"col-md-6","col-12"],[1,"form-control-group"],["for","input-access-token",1,"label"],["type","text","nbInput","","id","input-access-token","name","accessToken","formControlName","accessToken","placeholder","Zoom Access Token","fullWidth","",3,"status"],[4,"ngIf"],["for","input-secret-token",1,"label"],["type","text","nbInput","","id","input-secret-token","name","secretToken","formControlName","secretToken","placeholder","Zoom Secret Token","fullWidth","",3,"status"],[1,"col-12","mt-3"],["type","submit","nbButton","","size","small","status","primary",1,"float-right"],["type","text","nbInput","","id","input-access-token","name","accessToken","formControlName","accessToken","placeholder","Payment Gateway Access Token","fullWidth","",3,"status"],["type","text","nbInput","","id","input-secret-token","name","secretToken","formControlName","secretToken","placeholder","Payment Gateway Secret Token","fullWidth","",3,"status"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(m.Wb(0,"nb-card"),m.Wb(1,"nb-card-header"),m.Wb(2,"button",0),m.ec("click",(function(){return t.back()})),m.Cc(3,"Back"),m.Vb(),m.Wb(4,"h3"),m.Cc(5,"Settings"),m.Vb(),m.Vb(),m.Wb(6,"nb-card-body"),m.Wb(7,"div",1),m.Wb(8,"div",2),m.Wb(9,"h4"),m.Cc(10,"Zoom Online Lectures"),m.Vb(),m.Wb(11,"p"),m.Cc(12,"Instructions..."),m.Vb(),m.Vb(),m.Wb(13,"div",3),m.Wb(14,"form",4),m.ec("submit",(function(){return t.saveZoomKeys()})),m.Wb(15,"div",1),m.Wb(16,"div",5),m.Wb(17,"div",6),m.Wb(18,"label",7),m.Cc(19,"Zoom Access Token:"),m.Vb(),m.Rb(20,"input",8),m.Ac(21,p,2,1,"ng-container",9),m.Vb(),m.Vb(),m.Wb(22,"div",5),m.Wb(23,"div",6),m.Wb(24,"label",10),m.Cc(25,"Zoom Secret Token:"),m.Vb(),m.Rb(26,"input",11),m.Ac(27,g,2,1,"ng-container",9),m.Vb(),m.Vb(),m.Wb(28,"div",12),m.Wb(29,"button",13),m.Cc(30," Save "),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(31,"div",2),m.Rb(32,"hr"),m.Vb(),m.Wb(33,"div",2),m.Wb(34,"h4"),m.Cc(35,"RazorPay Payment Gateway"),m.Vb(),m.Wb(36,"p"),m.Cc(37,"Instructions..."),m.Vb(),m.Vb(),m.Wb(38,"div",3),m.Wb(39,"form",4),m.ec("submit",(function(){return t.savePaymentGatewayKeys()})),m.Wb(40,"div",1),m.Wb(41,"div",5),m.Wb(42,"div",6),m.Wb(43,"label",7),m.Cc(44,"Payment Gateway Access Token:"),m.Vb(),m.Rb(45,"input",14),m.Ac(46,v,2,1,"ng-container",9),m.Vb(),m.Vb(),m.Wb(47,"div",5),m.Wb(48,"div",6),m.Wb(49,"label",10),m.Cc(50,"Payment Gateway Secret Token:"),m.Vb(),m.Rb(51,"input",15),m.Ac(52,T,2,1,"ng-container",9),m.Vb(),m.Vb(),m.Wb(53,"div",12),m.Wb(54,"button",13),m.Cc(55," Save "),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb()),2&e&&(m.Eb(14),m.mc("formGroup",t.zoomKeysForm),m.Eb(6),m.mc("status",t.zoomKeysForm.get("accessToken").touched?t.zoomKeysForm.get("accessToken").invalid?"danger":"success":"basic"),m.Eb(1),m.mc("ngIf",t.zoomKeysForm.get("accessToken").invalid&&t.zoomKeysForm.get("accessToken").touched),m.Eb(5),m.mc("status",t.zoomKeysForm.get("secretToken").touched?t.zoomKeysForm.get("secretToken").invalid?"danger":"success":"basic"),m.Eb(1),m.mc("ngIf",t.zoomKeysForm.get("secretToken").invalid&&t.zoomKeysForm.get("secretToken").touched),m.Eb(12),m.mc("formGroup",t.paymentGatewayKeysForm),m.Eb(6),m.mc("status",t.paymentGatewayKeysForm.get("accessToken").touched?t.paymentGatewayKeysForm.get("accessToken").invalid?"danger":"success":"basic"),m.Eb(1),m.mc("ngIf",t.paymentGatewayKeysForm.get("accessToken").invalid&&t.paymentGatewayKeysForm.get("accessToken").touched),m.Eb(5),m.mc("status",t.paymentGatewayKeysForm.get("secretToken").touched?t.paymentGatewayKeysForm.get("secretToken").invalid?"danger":"success":"basic"),m.Eb(1),m.mc("ngIf",t.paymentGatewayKeysForm.get("secretToken").invalid&&t.paymentGatewayKeysForm.get("secretToken").touched))},directives:[a.x,a.z,a.u,a.w,c.v,c.n,c.g,a.O,c.a,c.m,c.e,o.n],styles:[""]}),e})(),canActivate:[]},{path:"page-not-found",loadChildren:()=>s.e(0).then(s.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let w=(()=>{class e{}return e.\u0275mod=m.Ob({type:e}),e.\u0275inj=m.Nb({factory:function(t){return new(t||e)},imports:[[l.g.forChild(f)],l.g]}),e})();s.d(t,"SettingsModule",(function(){return W}));let W=(()=>{class e{}return e.\u0275mod=m.Ob({type:e}),e.\u0275inj=m.Nb({factory:function(t){return new(t||e)},imports:[[o.c,n.a,c.s,a.A,a.Cb,a.N,a.P,a.v,a.Ab,w]]}),e})()}}]);