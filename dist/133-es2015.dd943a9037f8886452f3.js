(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{sFpH:function(t,c,e){"use strict";e.r(c);var s=e("ofXK"),i=e("IAlr"),a=e("lst6"),n=e("EQut"),b=e("fXoL"),o=e("aceb"),r=e("tyNb");function h(t,c){if(1&t&&(b.Wb(0,"small"),b.Cc(1),b.Vb()),2&t){const t=b.gc();b.Eb(1),b.Ec("of ",t.course.basicDetails.courseName,"")}}function u(t,c){if(1&t){const t=b.Xb();b.Wb(0,"tr"),b.Wb(1,"td"),b.Cc(2),b.Vb(),b.Wb(3,"td"),b.Cc(4),b.Vb(),b.Wb(5,"td"),b.Cc(6),b.Vb(),b.Wb(7,"td"),b.Wb(8,"button",15),b.ec("click",(function(){b.uc(t);const e=c.$implicit;return b.gc(3).editBatch(e._id)})),b.Cc(9," Edit "),b.Vb(),b.Wb(10,"button",16),b.ec("click",(function(){b.uc(t);const e=c.$implicit,s=c.index;return b.gc(3).changeBatchStatus(e._id,!e.status,s)})),b.Cc(11),b.Vb(),b.Vb(),b.Vb()}if(2&t){const t=c.$implicit,e=c.index;b.Eb(2),b.Dc(e+1),b.Eb(2),b.Dc(t.basicDetails.batchName),b.Eb(2),b.Dc(t.basicDetails.startDate),b.Eb(4),b.mc("status",t.status?"danger":"warning"),b.Eb(1),b.Ec(" ",t.status?"Deactivate":"Activate"," ")}}function l(t,c){if(1&t&&(b.Wb(0,"div",12),b.Wb(1,"table",13),b.Wb(2,"thead"),b.Wb(3,"tr"),b.Wb(4,"th"),b.Cc(5,"#"),b.Vb(),b.Wb(6,"th"),b.Cc(7,"Batch"),b.Vb(),b.Wb(8,"th"),b.Cc(9,"Start Date"),b.Vb(),b.Wb(10,"th"),b.Cc(11,"Action"),b.Vb(),b.Vb(),b.Vb(),b.Wb(12,"tbody"),b.Ac(13,u,12,5,"tr",14),b.Vb(),b.Vb(),b.Vb()),2&t){const t=b.gc(2);b.Eb(13),b.mc("ngForOf",t.batches)}}function d(t,c){1&t&&(b.Wb(0,"p",17),b.Cc(1,"No Batches Available"),b.Vb())}function g(t,c){if(1&t&&(b.Ub(0),b.Ac(1,l,14,1,"div",10),b.Ac(2,d,2,0,"ng-template",null,11,b.Bc),b.Tb()),2&t){const t=b.sc(3),c=b.gc();b.Eb(1),b.mc("ngIf",c.batches.length>0)("ngIfElse",t)}}function f(t,c){1&t&&(b.Wb(0,"p",17),b.Cc(1,"Loading..."),b.Vb())}const v=[{path:"",component:(()=>{class t{constructor(t,c,e,s,i,a){this.branchService=t,this.courseService=c,this.batchService=e,this.toastrService=s,this.router=i,this.route=a}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.batches=[],this.courseService.getCourseData().subscribe(t=>{this.course=t,this.course?this.getBatches():this.router.navigate(["../"],{relativeTo:this.route})})):this.router.navigate(["../"],{relativeTo:this.route})}getBatches(){this.loading=!0,this.batchService.getBatches(this.branchId,this.course.basicDetails.category,this.course._id).subscribe(t=>{this.batches=t,this.loading=!1},t=>{this.loading=!1})}addBatch(){this.router.navigate(["../add"],{relativeTo:this.route})}editBatch(t){this.batchService.setBatchId(t),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}changeBatchStatus(t,c,e){this.loading=!0,this.batchService.changeBatchStatus(t,c).subscribe(t=>{this.batches[e].status=c,this.showToastr("top-right","success",`Batch ${c?"Activated":"Deactivated"} Successfully!`),this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}showToastr(t,c,e){this.toastrService.show(c,e,{position:t,status:c})}}return t.\u0275fac=function(c){return new(c||t)(b.Qb(n.a),b.Qb(i.a),b.Qb(a.a),b.Qb(o.xb),b.Qb(r.c),b.Qb(r.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["ngx-manage-batch"]],decls:17,vars:3,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[4,"ngIf"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noBatches",""],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["nbButton","","status","basic","size","small",1,"mr-3",3,"click"],["nbButton","","size","small",1,"",3,"status","click"],[1,"text-center"]],template:function(t,c){if(1&t&&(b.Wb(0,"nb-card"),b.Wb(1,"nb-card-header"),b.Wb(2,"div",0),b.Wb(3,"div",1),b.Wb(4,"h3"),b.Cc(5," Batches "),b.Ac(6,h,2,1,"small",2),b.Vb(),b.Vb(),b.Wb(7,"div",3),b.Wb(8,"button",4),b.ec("click",(function(){return c.addBatch()})),b.Cc(9," Add Batch "),b.Rb(10,"nb-icon",5),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(11,"nb-card-body",6),b.Wb(12,"div",0),b.Wb(13,"div",7),b.Ac(14,g,4,2,"ng-container",8),b.Ac(15,f,2,0,"ng-template",null,9,b.Bc),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&t){const t=b.sc(16);b.Eb(6),b.mc("ngIf",c.course),b.Eb(8),b.mc("ngIf",!c.loading)("ngIfElse",t)}},directives:[o.x,o.z,s.n,o.u,o.L,o.w,s.m],styles:[""]}),t})()},{path:"page-not-found",loadChildren:()=>e.e(0).then(e.bind(null,"DeSt")).then(t=>t.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let m=(()=>{class t{}return t.\u0275mod=b.Ob({type:t}),t.\u0275inj=b.Nb({factory:function(c){return new(c||t)},imports:[[r.g.forChild(v)],r.g]}),t})();e.d(c,"ManageBatchModule",(function(){return p}));let p=(()=>{class t{}return t.\u0275mod=b.Ob({type:t}),t.\u0275inj=b.Nb({factory:function(c){return new(c||t)},imports:[[s.c,m,o.A,o.v,o.kb,o.N,o.P]]}),t})()}}]);