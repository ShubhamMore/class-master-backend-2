function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{Kd2V:function(e,t,n){"use strict";n.r(t);var o,s=n("ofXK"),a=n("vTDv"),c=n("aceb"),r=n("3Pt+"),i=n("fCOA"),u=n("lJxs"),b=n("JIr8"),y=n("z6cu"),l=n("fXoL"),m=((o=function(){function e(t){_classCallCheck(this,e),this.httpService=t}return _createClass(e,[{key:"getInstituteKeys",value:function(){return this.httpService.httpPost({api:"getInstituteKeys",data:{}}).pipe(Object(u.a)((function(e){return e})),Object(b.a)((function(e){return Object(y.a)(e)})))}},{key:"saveInstitutePaymentGatewayKeys",value:function(e){return this.httpService.httpPost({api:"saveInstitutePaymentGatewayKeys",data:{keys:e}}).pipe(Object(u.a)((function(e){return e})),Object(b.a)((function(e){return Object(y.a)(e)})))}},{key:"saveInstituteZoomKeys",value:function(e){return this.httpService.httpPost({api:"saveInstituteZoomKeys",data:e}).pipe(Object(u.a)((function(e){return e})),Object(b.a)((function(e){return Object(y.a)(e)})))}},{key:"generateZoomAuthToken",value:function(){return this.httpService.httpGet({api:"generateZoomAuthToken"}).pipe(Object(u.a)((function(e){return e})),Object(b.a)((function(e){return Object(y.a)(e)})))}},{key:"getZoomAuthLink",value:function(){return this.httpService.httpPost({api:"getZoomAuthLink",data:{}}).pipe(Object(u.a)((function(e){return e})),Object(b.a)((function(e){return Object(y.a)(e)})))}}]),e}()).\u0275fac=function(e){return new(e||o)(l.ac(i.a))},o.\u0275prov=l.Mb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),p=n("tyNb");function d(e,t){1&e&&(l.Wb(0,"p",17),l.Cc(1," Zoom Access Token is required! "),l.Vb())}function f(e,t){if(1&e&&(l.Ub(0),l.Ac(1,d,2,0,"p",16),l.Tb()),2&e){var n=l.gc();l.Eb(1),l.mc("ngIf",null==n.zoomKeysForm.get("accessToken").errors?null:n.zoomKeysForm.get("accessToken").errors.required)}}function h(e,t){1&e&&(l.Wb(0,"p",17),l.Cc(1," Zoom Secret Token is required! "),l.Vb())}function v(e,t){if(1&e&&(l.Ub(0),l.Ac(1,h,2,0,"p",16),l.Tb()),2&e){var n=l.gc();l.Eb(1),l.mc("ngIf",null==n.zoomKeysForm.get("secretToken").errors?null:n.zoomKeysForm.get("secretToken").errors.required)}}function k(e,t){1&e&&(l.Wb(0,"p",17),l.Cc(1," Payment Gateway Access Token is required! "),l.Vb())}function g(e,t){if(1&e&&(l.Ub(0),l.Ac(1,k,2,0,"p",16),l.Tb()),2&e){var n=l.gc();l.Eb(1),l.mc("ngIf",null==n.paymentGatewayKeysForm.get("accessToken").errors?null:n.paymentGatewayKeysForm.get("accessToken").errors.required)}}function K(e,t){1&e&&(l.Wb(0,"p",17),l.Cc(1," Payment Gateway Secret Token is required! "),l.Vb())}function T(e,t){if(1&e&&(l.Ub(0),l.Ac(1,K,2,0,"p",16),l.Tb()),2&e){var n=l.gc();l.Eb(1),l.mc("ngIf",null==n.paymentGatewayKeysForm.get("secretToken").errors?null:n.paymentGatewayKeysForm.get("secretToken").errors.required)}}var w,W,V=[{path:"",component:(w=function(){function e(t,n,o,s){_classCallCheck(this,e),this.router=t,this.route=n,this.toastrService=o,this.instituteKeysService=s}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.zoomKeysForm=new r.f({accessToken:new r.d(null,{validators:[r.u.required]}),secretToken:new r.d(null,{validators:[r.u.required]})}),this.paymentGatewayKeysForm=new r.f({accessToken:new r.d(null,{validators:[r.u.required]}),secretToken:new r.d(null,{validators:[r.u.required]})}),this.instituteKeysService.getInstituteKeys().subscribe((function(t){t&&t.onlineClassesKeys&&e.zoomKeysForm.patchValue({accessToken:t.onlineClassesKeys.accessKey,secretToken:t.onlineClassesKeys.secretKey}),t&&t.paymentGatewayKeys&&e.paymentGatewayKeysForm.patchValue({accessToken:t.paymentGatewayKeys.accessKey,secretToken:t.paymentGatewayKeys.secretKey}),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}},{key:"saveZoomKeys",value:function(){var e=this;this.zoomKeysForm.markAllAsTouched(),this.zoomKeysForm.invalid?this.showToastr("top-right","danger","Please Enter valid Zoom Keys"):this.instituteKeysService.saveInstituteZoomKeys({accessKey:this.zoomKeysForm.value.accessToken,secretKey:this.zoomKeysForm.value.secretToken}).subscribe((function(t){e.instituteKeysService.getZoomAuthLink().subscribe((function(e){var t=window.open(e.authLink,"_blank","toolbar,scrollbars,resizable,top=200,left=500,width=400,height=400");setTimeout((function(){t.close()}),3e3)})),e.showToastr("top-right","success","Institute Zoom Keys Saved Successfully!")}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}},{key:"savePaymentGatewayKeys",value:function(){var e=this;this.paymentGatewayKeysForm.markAllAsTouched(),this.paymentGatewayKeysForm.invalid?this.showToastr("top-right","danger","Please Enter valid Payment Gateway Keys"):this.instituteKeysService.saveInstitutePaymentGatewayKeys({accessKey:this.paymentGatewayKeysForm.value.accessToken,secretKey:this.paymentGatewayKeysForm.value.secretToken}).subscribe((function(t){e.showToastr("top-right","success","Institute Payment Gateway Keys Saved Successfully!")}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}}]),e}(),w.\u0275fac=function(e){return new(e||w)(l.Qb(p.c),l.Qb(p.a),l.Qb(c.xb),l.Qb(m))},w.\u0275cmp=l.Kb({type:w,selectors:[["ngx-settings"]],decls:56,vars:10,consts:[["nbButton","","status","warning","size","tiny",1,"float-right",3,"click"],[1,"row"],[1,"col-12"],[1,"col-md-8","col-sm-10","col-12","mx-auto"],[3,"formGroup","submit"],[1,"col-md-6","col-12"],[1,"form-control-group"],["for","input-access-token",1,"label"],["type","text","nbInput","","id","input-access-token","name","accessToken","formControlName","accessToken","placeholder","Zoom Access Token","fullWidth","",3,"status"],[4,"ngIf"],["for","input-secret-token",1,"label"],["type","text","nbInput","","id","input-secret-token","name","secretToken","formControlName","secretToken","placeholder","Zoom Secret Token","fullWidth","",3,"status"],[1,"col-12","mt-3"],["type","submit","nbButton","","size","small","status","primary",1,"float-right"],["type","text","nbInput","","id","input-access-token","name","accessToken","formControlName","accessToken","placeholder","Payment Gateway Access Token","fullWidth","",3,"status"],["type","text","nbInput","","id","input-secret-token","name","secretToken","formControlName","secretToken","placeholder","Payment Gateway Secret Token","fullWidth","",3,"status"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(l.Wb(0,"nb-card"),l.Wb(1,"nb-card-header"),l.Wb(2,"button",0),l.ec("click",(function(){return t.back()})),l.Cc(3,"Back"),l.Vb(),l.Wb(4,"h3"),l.Cc(5,"Settings"),l.Vb(),l.Vb(),l.Wb(6,"nb-card-body"),l.Wb(7,"div",1),l.Wb(8,"div",2),l.Wb(9,"h4"),l.Cc(10,"Zoom Online Lectures"),l.Vb(),l.Wb(11,"p"),l.Cc(12,"Instructions..."),l.Vb(),l.Vb(),l.Wb(13,"div",3),l.Wb(14,"form",4),l.ec("submit",(function(){return t.saveZoomKeys()})),l.Wb(15,"div",1),l.Wb(16,"div",5),l.Wb(17,"div",6),l.Wb(18,"label",7),l.Cc(19,"Zoom Access Token:"),l.Vb(),l.Rb(20,"input",8),l.Ac(21,f,2,1,"ng-container",9),l.Vb(),l.Vb(),l.Wb(22,"div",5),l.Wb(23,"div",6),l.Wb(24,"label",10),l.Cc(25,"Zoom Secret Token:"),l.Vb(),l.Rb(26,"input",11),l.Ac(27,v,2,1,"ng-container",9),l.Vb(),l.Vb(),l.Wb(28,"div",12),l.Wb(29,"button",13),l.Cc(30," Save "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(31,"div",2),l.Rb(32,"hr"),l.Vb(),l.Wb(33,"div",2),l.Wb(34,"h4"),l.Cc(35,"RazorPay Payment Gateway"),l.Vb(),l.Wb(36,"p"),l.Cc(37,"Instructions..."),l.Vb(),l.Vb(),l.Wb(38,"div",3),l.Wb(39,"form",4),l.ec("submit",(function(){return t.savePaymentGatewayKeys()})),l.Wb(40,"div",1),l.Wb(41,"div",5),l.Wb(42,"div",6),l.Wb(43,"label",7),l.Cc(44,"Payment Gateway Access Token:"),l.Vb(),l.Rb(45,"input",14),l.Ac(46,g,2,1,"ng-container",9),l.Vb(),l.Vb(),l.Wb(47,"div",5),l.Wb(48,"div",6),l.Wb(49,"label",10),l.Cc(50,"Payment Gateway Secret Token:"),l.Vb(),l.Rb(51,"input",15),l.Ac(52,T,2,1,"ng-container",9),l.Vb(),l.Vb(),l.Wb(53,"div",12),l.Wb(54,"button",13),l.Cc(55," Save "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Eb(14),l.mc("formGroup",t.zoomKeysForm),l.Eb(6),l.mc("status",t.zoomKeysForm.get("accessToken").touched?t.zoomKeysForm.get("accessToken").invalid?"danger":"success":"basic"),l.Eb(1),l.mc("ngIf",t.zoomKeysForm.get("accessToken").invalid&&t.zoomKeysForm.get("accessToken").touched),l.Eb(5),l.mc("status",t.zoomKeysForm.get("secretToken").touched?t.zoomKeysForm.get("secretToken").invalid?"danger":"success":"basic"),l.Eb(1),l.mc("ngIf",t.zoomKeysForm.get("secretToken").invalid&&t.zoomKeysForm.get("secretToken").touched),l.Eb(12),l.mc("formGroup",t.paymentGatewayKeysForm),l.Eb(6),l.mc("status",t.paymentGatewayKeysForm.get("accessToken").touched?t.paymentGatewayKeysForm.get("accessToken").invalid?"danger":"success":"basic"),l.Eb(1),l.mc("ngIf",t.paymentGatewayKeysForm.get("accessToken").invalid&&t.paymentGatewayKeysForm.get("accessToken").touched),l.Eb(5),l.mc("status",t.paymentGatewayKeysForm.get("secretToken").touched?t.paymentGatewayKeysForm.get("secretToken").invalid?"danger":"success":"basic"),l.Eb(1),l.mc("ngIf",t.paymentGatewayKeysForm.get("secretToken").invalid&&t.paymentGatewayKeysForm.get("secretToken").touched))},directives:[c.x,c.z,c.u,c.w,r.v,r.n,r.g,c.O,r.a,r.m,r.e,s.n],styles:[""]}),w),canActivate:[]},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],C=((W=function e(){_classCallCheck(this,e)}).\u0275mod=l.Ob({type:W}),W.\u0275inj=l.Nb({factory:function(e){return new(e||W)},imports:[[p.g.forChild(V)],p.g]}),W);n.d(t,"SettingsModule",(function(){return F}));var G,F=((G=function e(){_classCallCheck(this,e)}).\u0275mod=l.Ob({type:G}),G.\u0275inj=l.Nb({factory:function(e){return new(e||G)},imports:[[s.c,a.a,r.s,c.A,c.Cb,c.N,c.P,c.v,c.Ab,C]]}),G)}}]);