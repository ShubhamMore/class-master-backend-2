function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"/z+a":function(e,t,n){"use strict";var i,r=n("3Pt+"),s=n("aceb"),o=n("ofXK"),u=n("tyNb"),c=n("fXoL"),a=[],l=((i=function e(){_classCallCheck(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||i)},imports:[[u.g.forChild(a)],u.g]}),i);n.d(t,"a",(function(){return m}));var d,m=((d=function e(){_classCallCheck(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:d}),d.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||d)},imports:[[o.c,l,s.A,s.v,s.Q,s.O,r.s]]}),d)},"1Alb":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("K8P5"),r=n("7kqb"),s=n("EQut"),o=n("3Pt+"),u=n("fXoL"),c=n("aceb"),a=n("ofXK");function l(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",14),u["\u0275\u0275text"](1," Question is required! "),u["\u0275\u0275elementEnd"]())}function d(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,l,2,0,"p",13),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.lectureQuestionForm.get("question").errors?null:n.lectureQuestionForm.get("question").errors.required)}}var m=function(){var e=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.toastrService=t,this.branchService=n,this.lectureService=i,this.questionAnswersService=r,this.ref=s}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.lectureQuestionForm=new o.f({question:new o.d(null,{validators:[o.u.required]})}),this.questionAnswersService.getQuestion().subscribe((function(t){e.lectureQuestion=t,t&&e.lectureQuestionForm.patchValue({question:e.lectureQuestion.question})})),this.lectureService.getLectureData().subscribe((function(t){e.lecture=t,e.lecture?e.loading=!1:e.onClose()}))):this.onClose()}},{key:"saveLectureQuestion",value:function(){var e=this;if(this.lectureQuestionForm.markAllAsTouched(),this.lectureQuestionForm.invalid)this.showToastr("top-right","danger","Question is Required");else{var t=this.lectureQuestionForm.value.question,n={branch:this.branchId,category:this.lecture.category,course:this.lecture.course,batch:this.lecture.batch,lecture:this.lecture._id,question:t};this.lectureQuestion?(n._id=this.lectureQuestion._id,this.questionAnswersService.editLectureQuestion(n).subscribe((function(n){e.lectureQuestion.question=t,e.showToastr("top-right","success","Question Updated Successfully!"),e.ref.close(e.lectureQuestion)}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))):this.questionAnswersService.newLectureQuestion(n).subscribe((function(t){e.showToastr("top-right","success","New Question Added Successfully!"),e.ref.close(t)}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}}},{key:"onClose",value:function(){this.ref.close()}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"ngOnDestroy",value:function(){this.questionAnswersService.deleteQuestionId(),this.questionAnswersService.deleteQuestion()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](c.Db),u["\u0275\u0275directiveInject"](s.a),u["\u0275\u0275directiveInject"](r.a),u["\u0275\u0275directiveInject"](i.a),u["\u0275\u0275directiveInject"](c.I))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-add-question"]],decls:22,vars:4,consts:[[1,"question-box"],["icon","close-outline",1,"float-right","pointer",3,"click"],[3,"formGroup","submit"],[1,"row"],[1,"col-12"],[1,"form-control-group"],["for","input-question",1,"label"],["type","text","nbInput","","id","input-question","name","question","formControlName","question","placeholder","Question","fullWidth","",3,"status"],[4,"ngIf"],[1,"col-6"],["type","button","nbButton","","size","small","status","danger",3,"click"],[1,"col-6","text-right"],["type","submit","nbButton","","size","small","status","success"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"nb-card",0),u["\u0275\u0275elementStart"](1,"nb-card-header"),u["\u0275\u0275elementStart"](2,"nb-icon",1),u["\u0275\u0275listener"]("click",(function(){return t.onClose()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"h3"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"nb-card-body"),u["\u0275\u0275elementStart"](6,"form",2),u["\u0275\u0275listener"]("submit",(function(){return t.saveLectureQuestion()})),u["\u0275\u0275elementStart"](7,"div",3),u["\u0275\u0275elementStart"](8,"div",4),u["\u0275\u0275elementStart"](9,"div",5),u["\u0275\u0275elementStart"](10,"label",6),u["\u0275\u0275text"](11,"Question:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](12,"textarea",7),u["\u0275\u0275template"](13,d,2,1,"ng-container",8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](14,"hr"),u["\u0275\u0275elementStart"](15,"div",3),u["\u0275\u0275elementStart"](16,"div",9),u["\u0275\u0275elementStart"](17,"button",10),u["\u0275\u0275listener"]("click",(function(){return t.onClose()})),u["\u0275\u0275text"](18," Cancel "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"div",11),u["\u0275\u0275elementStart"](20,"button",12),u["\u0275\u0275text"](21,"Save"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",t.lectureQuestion?"Edit":"New"," Question"),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("formGroup",t.lectureQuestionForm),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("status",t.lectureQuestionForm.get("question").touched?t.lectureQuestionForm.get("question").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.lectureQuestionForm.get("question").invalid&&t.lectureQuestionForm.get("question").touched))},directives:[c.x,c.z,c.M,c.w,o.v,o.n,o.g,c.P,o.a,o.m,o.e,a.n,c.u],styles:[".question-box[_ngcontent-%COMP%]{width:60vw;height:auto}@media only screen and (max-width:1200px){.question-box[_ngcontent-%COMP%]{width:65vw}}@media only screen and (max-width:840px){.question-box[_ngcontent-%COMP%]{width:70vw}}@media only screen and (max-width:420px){.question-box[_ngcontent-%COMP%]{width:90vw}}@media only screen and (max-width:300px){.question-box[_ngcontent-%COMP%]{top:2vh;left:2vw;width:96vw}}"]}),e}()},LeGE:function(e,t,n){"use strict";n.r(t);var i=n("/z+a"),r=n("aceb"),s=n("ofXK"),o=n("1Alb"),u=n("ZatZ"),c=n("nwtg"),a=n("7kqb"),l=n("K8P5"),d=n("EQut"),m=n("fXoL"),h=n("tyNb");function f(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",19),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"](3).editQuestion(e)})),m["\u0275\u0275text"](1," Edit "),m["\u0275\u0275elementEnd"]()}}function v(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",20),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"](3).deleteQuestion(e._id)})),m["\u0275\u0275text"](1," Delete "),m["\u0275\u0275elementEnd"]()}}function p(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"div",0),m["\u0275\u0275elementStart"](3,"div",12),m["\u0275\u0275element"](4,"nb-user",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",14),m["\u0275\u0275template"](6,f,2,0,"button",15),m["\u0275\u0275elementStart"](7,"button",16),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](n);var e=t.$implicit;return m["\u0275\u0275nextContext"](3).viewQuestionAnswer(e)})),m["\u0275\u0275text"](8," View "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](9,v,2,0,"button",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"nb-card-body"),m["\u0275\u0275element"](11,"div",18),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=m["\u0275\u0275nextContext"](3);m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("name",i.name?i.name:"Unknown")("title",r.formatQuestionAnswerDate(i.createdAt)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",i.createdBy===r.user.imsMasterId),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",i.createdBy===r.user.imsMasterId),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("innerHTML",i.question,m["\u0275\u0275sanitizeHtml"])}}function g(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,p,12,5,"nb-card",11),m["\u0275\u0275elementContainerEnd"]()),2&e){var n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",n.questionsAnswers)}}function b(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",21),m["\u0275\u0275text"](1,"You are first to Ask the Question"),m["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",8),m["\u0275\u0275template"](2,g,2,1,"ng-container",9),m["\u0275\u0275template"](3,b,2,0,"ng-template",null,10,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275reference"](4),i=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",i.questionsAnswers.length>0)("ngIfElse",n)}}function S(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",21),m["\u0275\u0275text"](1,"Loading..."),m["\u0275\u0275elementEnd"]())}var Q,y,x=[{path:"",component:(Q=function(){function e(t,n,i,r,s,o,u,c,a){_classCallCheck(this,e),this.authService=t,this.branchService=n,this.lectureService=i,this.questionAnswerService=r,this.toastrService=s,this.router=o,this.route=u,this.dialogService=c,this.dateService=a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.editLectureQuestion=!1,this.user=this.authService.getUserData(),this.questionsAnswers=[],this.lectureService.getLectureData().subscribe((function(t){e.lecture=t,e.lecture?e.getQuestionAnswers():e.router.navigate(["../"],{relativeTo:e.route})}))):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"getQuestionAnswers",value:function(){var e=this;this.loading=!0,this.questionAnswerService.getLectureQuestionAnswers(this.branchId,this.lecture.category,this.lecture.course,this.lecture.batch,this.lecture._id).subscribe((function(t){e.questionsAnswers=t,e.loading=!1}),(function(t){e.loading=!1}))}},{key:"addQuestion",value:function(){this.openQuestionDialog()}},{key:"openQuestionDialog",value:function(){var e=this;this.dialogService.open(o.a,{context:{}}).onClose.subscribe((function(t){return t&&e.saveLectureQuestion(t)}))}},{key:"editQuestion",value:function(e){this.questionAnswerService.setQuestionId(e._id),this.questionAnswerService.setQuestion(e),this.editLectureQuestion=!0,this.openQuestionDialog()}},{key:"formatQuestionAnswerDate",value:function(e){return this.dateService.convertToDate(e).toString().substr(0,21)}},{key:"deleteQuestion",value:function(e,t){var n=this;this.loading=!0,this.questionAnswerService.deleteLectureQuestion(e).subscribe((function(e){n.questionsAnswers.splice(t,1),n.showToastr("top-right","success","Question Deleted Successfully!"),n.loading=!1}),(function(e){n.showToastr("top-right","danger",e),n.loading=!1}))}},{key:"viewQuestionAnswer",value:function(e){this.questionAnswerService.setQuestionAnswersId(e._id),this.questionAnswerService.setQuestionAnswers(e),this.router.navigate(["./view"],{relativeTo:this.route})}},{key:"saveLectureQuestion",value:function(e){if(this.editLectureQuestion){var t=this.questionsAnswers.findIndex((function(t){return t._id===e._id}));t>=0&&(this.questionsAnswers[t]=e),this.editLectureQuestion=!1}else e.name=this.user.name,this.questionsAnswers.push(e)}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}]),e}(),Q.\u0275fac=function(e){return new(e||Q)(m["\u0275\u0275directiveInject"](c.a),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](l.a),m["\u0275\u0275directiveInject"](r.Db),m["\u0275\u0275directiveInject"](h.c),m["\u0275\u0275directiveInject"](h.a),m["\u0275\u0275directiveInject"](r.J),m["\u0275\u0275directiveInject"](u.a))},Q.\u0275cmp=m["\u0275\u0275defineComponent"]({type:Q,selectors:[["ngx-question-answers"]],decls:14,vars:2,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"body-container"],["class","row",4,"ngIf","ngIfElse"],["loadingData",""],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["noQuestions",""],[4,"ngFor","ngForOf"],[1,"col-md-6","col-12"],[3,"name","title"],[1,"col-md-6","col-12","text-right"],["class","mr-3","nbButton","","size","small","status","basic",3,"click",4,"ngIf"],["nbButton","","size","small","status","primary",1,"mr-3",3,"click"],["class","mr-3","nbButton","","size","small","status","danger",3,"click",4,"ngIf"],[3,"innerHTML"],["nbButton","","size","small","status","basic",1,"mr-3",3,"click"],["nbButton","","size","small","status","danger",1,"mr-3",3,"click"],[1,"text-center","pt-5","pb-5"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"div",0),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"h3"),m["\u0275\u0275text"](5," Question & Answers "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",2),m["\u0275\u0275elementStart"](7,"button",3),m["\u0275\u0275listener"]("click",(function(){return t.addQuestion()})),m["\u0275\u0275text"](8," Add Question "),m["\u0275\u0275element"](9,"nb-icon",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"nb-card-body",5),m["\u0275\u0275template"](11,w,5,2,"div",6),m["\u0275\u0275template"](12,S,2,0,"ng-template",null,7,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275reference"](13);m["\u0275\u0275advance"](11),m["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",n)}},directives:[r.x,r.z,r.u,r.M,r.w,s.n,s.m,r.Hb],styles:[""]}),Q)},{path:"view",loadChildren:function(){return n.e(158).then(n.bind(null,"KSmH")).then((function(e){return e.ViewQuestionAnswersModule}))}},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found"}],I=((y=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:y}),y.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||y)},imports:[[h.g.forChild(x)],h.g]}),y);n.d(t,"QuestionAnswersModule",(function(){return q}));var C,q=((C=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:C}),C.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||C)},imports:[[s.c,I,i.a,r.A,r.v,r.O,r.Ib]]}),C)}}]);