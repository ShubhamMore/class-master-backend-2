(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{P9E7:function(t,e,c){"use strict";c.r(e);var i=c("3Pt+"),n=c("aceb"),r=c("ofXK"),s=c("IAlr"),a=c("7kqb"),b=c("ZatZ"),o=c("EQut"),u=c("lst6"),h=c("fXoL"),l=c("tyNb");function d(t,e){if(1&t&&(h.Wb(0,"small"),h.Cc(1),h.Vb()),2&t){const t=h.gc();h.Eb(1),h.Dc(t.batch.basicDetails.batchName)}}function g(t,e){if(1&t){const t=h.Xb();h.Wb(0,"tr"),h.Wb(1,"td"),h.Cc(2),h.Vb(),h.Wb(3,"td"),h.Cc(4),h.Vb(),h.Wb(5,"td"),h.Cc(6),h.Vb(),h.Wb(7,"td"),h.Cc(8),h.Vb(),h.Wb(9,"td"),h.Wb(10,"button",12),h.ec("click",(function(){h.uc(t);const c=e.$implicit;return h.gc(3).markAttendance(c)})),h.Cc(11," Attendance "),h.Vb(),h.Vb(),h.Wb(12,"td"),h.Wb(13,"button",13),h.ec("click",(function(){h.uc(t);const c=e.$implicit;return h.gc(3).lectureMaterial(c)})),h.Cc(14," Study Material "),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit,c=h.gc(3);h.Eb(2),h.Dc(c.getTime(t.startTime,t.endTime)),h.Eb(2),h.Dc(c.getSubject(t.subject)),h.Eb(2),h.Dc(t.topic),h.Eb(2),h.Dc(t.teacher)}}function f(t,e){if(1&t&&(h.Wb(0,"div",9),h.Wb(1,"table",10),h.Ac(2,g,15,4,"tr",11),h.Vb(),h.Vb()),2&t){const t=h.gc(2);h.Eb(2),h.mc("ngForOf",t.lectures)}}function m(t,e){1&t&&(h.Wb(0,"p",14),h.Cc(1,"No Lecture"),h.Vb())}function v(t,e){if(1&t&&(h.Wb(0,"nb-card-body"),h.Ac(1,f,3,1,"div",7),h.Ac(2,m,2,0,"ng-template",null,8,h.Bc),h.Vb()),2&t){const t=h.sc(3),e=h.gc();h.Eb(1),h.mc("ngIf",e.lectures.length>0)("ngIfElse",t)}}function p(t,e){1&t&&(h.Wb(0,"p",14),h.Cc(1,"Loading..."),h.Vb())}const S=[{path:"",component:(()=>{class t{constructor(t,e,c,i,n,r,s,a){this.branchService=t,this.lectureService=e,this.courseService=c,this.batchService=i,this.dateService=n,this.router=r,this.route=s,this.toastrService=a}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.branchService.getCategoryData().subscribe(t=>{this.category=t}),this.courseService.getCourseData().subscribe(t=>{this.course=t}),this.batchService.getBatchData().subscribe(t=>{this.batch=t}),this.date=this.lectureService.getSearchDate(),this.date||(this.date=this.dateService.getDateString()),this.lectures=[],this.getLecture()):this.router.navigate(["../"],{relativeTo:this.route})}getTime(t,e){return(t=this.dateService.formatTime(t))+" - "+this.dateService.formatTime(e)}getSubject(t){const e=this.course.subjects.find(e=>e._id===t);return e?e.subject:"--"}markAttendance(t){this.lectureService.setLectureId(t._id),this.lectureService.setLectureData(t),this.router.navigate(["../attendance"],{relativeTo:this.route})}lectureMaterial(t){this.lectureService.setLectureId(t._id),this.lectureService.setLectureData(t),this.router.navigate(["../material"],{relativeTo:this.route})}getLecture(){this.loading=!0,this.lectureService.getLectures(this.branchId,this.category._id,this.course._id,this.batch._id,this.date).subscribe(t=>{this.lectures=t,this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}dateChanged(){this.date&&(this.lectureService.setSearchDate(this.date),this.getLecture())}showToastr(t,e,c){this.toastrService.show(e,c,{position:t,status:e})}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(o.a),h.Qb(a.a),h.Qb(s.a),h.Qb(u.a),h.Qb(b.a),h.Qb(l.c),h.Qb(l.a),h.Qb(n.xb))},t.\u0275cmp=h.Kb({type:t,selectors:[["ngx-manage-lecture"]],decls:12,vars:4,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[4,"ngIf"],[1,"col-md-3","col-sm-4"],["type","date","nbInput","","fullWidth","",3,"ngModel","ngModelChange","change"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noLecture",""],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["status","primary","nbButton","","size","small",3,"click"],["status","warning","nbButton","","size","small",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(h.Wb(0,"nb-card"),h.Wb(1,"nb-card-header"),h.Wb(2,"div",0),h.Wb(3,"div",1),h.Wb(4,"h3"),h.Cc(5," Lecture of "),h.Ac(6,d,2,1,"small",2),h.Vb(),h.Vb(),h.Wb(7,"div",3),h.Wb(8,"input",4),h.ec("ngModelChange",(function(t){return e.date=t}))("change",(function(){return e.dateChanged()})),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Ac(9,v,4,2,"nb-card-body",5),h.Vb(),h.Ac(10,p,2,0,"ng-template",null,6,h.Bc)),2&t){const t=h.sc(11);h.Eb(6),h.mc("ngIf",e.batch),h.Eb(2),h.mc("ngModel",e.date),h.Eb(1),h.mc("ngIf",!e.loading)("ngIfElse",t)}},directives:[n.x,n.z,r.n,n.O,i.a,i.m,i.p,n.w,r.m,n.u],styles:[""]}),t})()},{path:"page-not-found",loadChildren:()=>c.e(0).then(c.bind(null,"DeSt")).then(t=>t.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found"}];let W=(()=>{class t{}return t.\u0275mod=h.Ob({type:t}),t.\u0275inj=h.Nb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(S)],l.g]}),t})();c.d(e,"ManageLectureModule",(function(){return V}));let V=(()=>{class t{}return t.\u0275mod=h.Ob({type:t}),t.\u0275inj=h.Nb({factory:function(e){return new(e||t)},imports:[[r.c,W,n.A,n.Ab,n.N,n.v,n.P,n.k,n.K,i.h]]}),t})()}}]);