function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{pDpf:function(e,t,n){"use strict";n.r(t);var i=n("aceb"),r=n("ofXK"),a=n("tyNb"),s=n("nwtg"),o=n("cbqz"),d=n("ZatZ"),l=n("AVwh"),c=n("EQut"),m=n("fXoL");function u(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th"),m["\u0275\u0275text"](1," Mark Grades "),m["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td"),m["\u0275\u0275elementStart"](1,"button",8),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().markGrade(e)})),m["\u0275\u0275text"](2," Mark "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("disabled",!i.status)}}function g(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"td"),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"td"),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](9,h,3,1,"td",6),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](i+1),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](n.studentName),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](n.status?"Submitted":"Pending"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"](" ",n.grades?n.grades:"--","/",r.assignment.totalGrades," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",r.assignment.generatedBy===r.user.imsMasterId)}}var f,v,b=[{path:"",component:(f=function(){function e(t,n,i,r,a,s,o,d){_classCallCheck(this,e),this.branchService=t,this.assignmentSubmissionService=n,this.assignmentService=i,this.authService=r,this.dateService=a,this.router=s,this.route=o,this.toastrService=d}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.user=this.authService.getUserData(),this.assignmentService.getAssignmentData().subscribe((function(t){if(e.assignment=t,!t)return e.showToastr("top-right","danger","Assignment Not Found"),void e.back();e.assignmentSubmissions=[],e.assignmentSubmissionService.getAssignmentSubmissions(t._id).subscribe((function(t){e.assignmentSubmissions=t,e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}))):this.back()}},{key:"markGrade",value:function(e){this.assignment.generatedBy===this.user.imsMasterId&&(this.assignmentSubmissionService.setAssignmentSubmissionData(e),this.router.navigate(["./grade"],{relativeTo:this.route}))}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"back",value:function(){this.router.navigate(["../manage"],{relativeTo:this.route})}}]),e}(),f.\u0275fac=function(e){return new(e||f)(m["\u0275\u0275directiveInject"](c.a),m["\u0275\u0275directiveInject"](o.a),m["\u0275\u0275directiveInject"](l.a),m["\u0275\u0275directiveInject"](s.a),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](a.c),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](i.Db))},f.\u0275cmp=m["\u0275\u0275defineComponent"]({type:f,selectors:[["ngx-assignment-submission"]],decls:26,vars:2,consts:[[1,"row"],[1,"col-md-12"],["nbButton","","status","warning","size","tiny",1,"float-right",3,"click"],[1,"col-12"],[1,"table-responsive"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["nbButton","","status","primary","size","small",1,"",3,"disabled","click"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"nb-card"),m["\u0275\u0275elementStart"](1,"nb-card-header"),m["\u0275\u0275elementStart"](2,"div",0),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"button",2),m["\u0275\u0275listener"]("click",(function(){return t.back()})),m["\u0275\u0275text"](5," Back "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"h3"),m["\u0275\u0275text"](7,"Submission"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"nb-card-body"),m["\u0275\u0275elementStart"](9,"div",0),m["\u0275\u0275elementStart"](10,"div",3),m["\u0275\u0275elementStart"](11,"div",4),m["\u0275\u0275elementStart"](12,"table",5),m["\u0275\u0275elementStart"](13,"thead"),m["\u0275\u0275elementStart"](14,"tr"),m["\u0275\u0275elementStart"](15,"th"),m["\u0275\u0275text"](16," # "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"th"),m["\u0275\u0275text"](18," Student "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"th"),m["\u0275\u0275text"](20," Submission Status "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"th"),m["\u0275\u0275text"](22," Grades "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](23,u,2,0,"th",6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"tbody"),m["\u0275\u0275template"](25,g,10,6,"tr",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](23),m["\u0275\u0275property"]("ngIf",t.assignment.generatedBy===t.user.imsMasterId),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",t.assignmentSubmissions))},directives:[i.x,i.z,i.u,i.w,r.n,r.m],styles:[""]}),f)},{path:"grade",loadChildren:function(){return n.e(140).then(n.bind(null,"59Cr")).then((function(e){return e.SubmissionGradingModule}))}},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found"}],S=((v=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)},imports:[[a.g.forChild(b)],a.g]}),v);n.d(t,"AssignmentSubmissionModule",(function(){return E}));var p,E=((p=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||p)},imports:[[r.c,S,i.A,i.v,i.O,i.Gb]]}),p)}}]);