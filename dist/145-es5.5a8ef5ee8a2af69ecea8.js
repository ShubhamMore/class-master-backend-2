!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{pDpf:function(n,i,a){"use strict";a.r(i),a.d(i,"AssignmentSubmissionModule",(function(){return w}));var r=a("aceb"),s=a("ofXK"),o=a("tyNb"),d=a("fXoL"),l=a("EQut"),c=a("cbqz"),m=a("AVwh"),u=a("nwtg"),g=a("ZatZ");function f(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"th"),d["\u0275\u0275text"](1,"Mark Grades"),d["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"td"),d["\u0275\u0275elementStart"](1,"button",10),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).markGrade(e)})),d["\u0275\u0275text"](2," Mark "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var i=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",!i.status)}}function v(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"td"),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"td"),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](9,h,3,1,"td",8),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](i+1),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.studentName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.status?"Submitted":"Pending"),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" ",n.grades?n.grades:"--","/",a.assignment.totalGrades," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",a.assignment.generatedBy===a.user.imsMasterId)}}function b(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"table",7),d["\u0275\u0275elementStart"](2,"thead"),d["\u0275\u0275elementStart"](3,"tr"),d["\u0275\u0275elementStart"](4,"th"),d["\u0275\u0275text"](5,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275text"](7,"Student"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"th"),d["\u0275\u0275text"](9,"Submission Status"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"th"),d["\u0275\u0275text"](11,"Grades"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](12,f,2,0,"th",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"tbody"),d["\u0275\u0275template"](14,v,10,6,"tr",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](12),d["\u0275\u0275property"]("ngIf",n.assignment.generatedBy===n.user.imsMasterId),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",n.assignmentSubmissions)}}function p(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",11),d["\u0275\u0275text"](1,"No Submissions Found"),d["\u0275\u0275elementEnd"]())}var S,x,E,I=[{path:"",component:(S=function(){function n(t,i,a,r,s,o,d,l){e(this,n),this.branchService=t,this.assignmentSubmissionService=i,this.assignmentService=a,this.authService=r,this.dateService=s,this.router=o,this.route=d,this.toastrService=l}var i,a,r;return i=n,(a=[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.user=this.authService.getUserData(),this.assignmentService.getAssignmentData().subscribe((function(t){if(e.assignment=t,!t)return e.showToastr("top-right","danger","Assignment Not Found"),void e.back();e.assignmentSubmissions=[],e.assignmentSubmissionService.getAssignmentSubmissions(t._id).subscribe((function(t){e.assignmentSubmissions=t,e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}))):this.back()}},{key:"markGrade",value:function(e){this.assignment.generatedBy===this.user.imsMasterId&&(this.assignmentSubmissionService.setAssignmentSubmissionData(e),this.router.navigate(["./grade"],{relativeTo:this.route}))}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"back",value:function(){this.router.navigate(["../manage"],{relativeTo:this.route})}}])&&t(i.prototype,a),r&&t(i,r),n}(),S.\u0275fac=function(e){return new(e||S)(d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.a),d["\u0275\u0275directiveInject"](g.a),d["\u0275\u0275directiveInject"](o.c),d["\u0275\u0275directiveInject"](o.a),d["\u0275\u0275directiveInject"](r.Gb))},S.\u0275cmp=d["\u0275\u0275defineComponent"]({type:S,selectors:[["ngx-assignment-submission"]],decls:14,vars:2,consts:[[1,"row"],[1,"col-md-12"],["nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,"col-12"],["class","table-responsive",4,"ngIf","ngIfElse"],["noSubmissions",""],[1,"table-responsive"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["nbButton","","size","small","status","primary",1,"",3,"disabled","click"],[1,"pt-5","pb-5","text-center"]],template:function(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-header"),d["\u0275\u0275elementStart"](2,"div",0),d["\u0275\u0275elementStart"](3,"div",1),d["\u0275\u0275elementStart"](4,"button",2),d["\u0275\u0275listener"]("click",(function(){return t.back()})),d["\u0275\u0275text"](5," Back "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"h3"),d["\u0275\u0275text"](7,"Submission"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"nb-card-body"),d["\u0275\u0275elementStart"](9,"div",0),d["\u0275\u0275elementStart"](10,"div",3),d["\u0275\u0275template"](11,b,15,2,"div",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](12,p,2,0,"ng-template",null,5,d["\u0275\u0275templateRefExtractor"])),2&e){var n=d["\u0275\u0275reference"](13);d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngIf",t.assignmentSubmissions.length>0)("ngIfElse",n)}},directives:[r.y,r.A,r.v,r.x,s.n,s.m],styles:[""]}),S)},{path:"grade",loadChildren:function(){return a.e(146).then(a.bind(null,"59Cr")).then((function(e){return e.SubmissionGradingModule}))}},{path:"page-not-found",loadChildren:function(){return a.e(0).then(a.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found"}],y=((E=function t(){e(this,t)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||E)},imports:[[o.g.forChild(I)],o.g]}),E),w=((x=function t(){e(this,t)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||x)},imports:[[s.c,y,r.B,r.w,r.P,r.Jb]]}),x)}}])}();
//# sourceMappingURL=145-es5.5a8ef5ee8a2af69ecea8.js.map