function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{SZ6b:function(e,t,n){"use strict";n.r(t);var i=n("aceb"),a=n("ofXK"),l=n("gmaa"),o=n("RSY0"),r=n("EQut"),s=n("fXoL"),c=n("tyNb");function u(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",9),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().addOnlineExamQuestion()})),s["\u0275\u0275text"](1," Add Question "),s["\u0275\u0275element"](2,"nb-icon",10),s["\u0275\u0275elementEnd"]()}}function d(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"td"),s["\u0275\u0275elementStart"](7,"button",17),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"](3).editOnlineExamQuestion(e)})),s["\u0275\u0275text"](8," Edit "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275elementStart"](10,"button",18),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit,i=t.index;return s["\u0275\u0275nextContext"](3).deleteOnlineExamQuestion(e._id,i)})),s["\u0275\u0275text"](11," Delete "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=t.index;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](a+1),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](i.question.substring(0,15)+(i.question.length>15?"..":""))}}function m(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",13),s["\u0275\u0275elementStart"](1,"table",14),s["\u0275\u0275elementStart"](2,"thead"),s["\u0275\u0275elementStart"](3,"tr"),s["\u0275\u0275elementStart"](4,"th"),s["\u0275\u0275text"](5,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"th"),s["\u0275\u0275text"](7,"Question"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"th",15),s["\u0275\u0275text"](9,"Action"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"tbody"),s["\u0275\u0275template"](11,d,12,2,"tr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngForOf",n.onlineExamQuestions)}}function f(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1,"No Online Exams Available"),s["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,m,12,1,"div",11),s["\u0275\u0275template"](2,f,2,0,"ng-template",null,12,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275reference"](3),i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.onlineExamQuestions.length>0)("ngIfElse",n)}}function E(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1,"Loading..."),s["\u0275\u0275elementEnd"]())}var v,x,g=[{path:"",component:(v=function(){function e(t,n,i,a,l,o){_classCallCheck(this,e),this.branchService=t,this.toastrService=n,this.onlineExamService=i,this.onlineExamQuestionService=a,this.router=l,this.route=o}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.onlineExamQuestions=[],this.onlineExamService.getOnlineExamData().subscribe((function(t){e.onlineExam=t,t?e.onlineExamQuestionService.getOnlineExamQuestions(t._id).subscribe((function(t){e.onlineExamQuestions=t,e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1})):e.back()}))):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"addOnlineExamQuestion",value:function(){this.router.navigate(["../add"],{relativeTo:this.route})}},{key:"editOnlineExamQuestion",value:function(e){this.onlineExamQuestionService.setOnlineExamQuestionId(e._id),this.onlineExamQuestionService.setOnlineExamQuestionData(e),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}},{key:"changeOnlineExamQuestionStatus",value:function(e,t,n){var i=this;this.loading=!0,this.onlineExamQuestionService.changeOnlineExamQuestionStatus(e,t).subscribe((function(e){i.onlineExamQuestions[n].status=t,i.loading=!1}),(function(e){i.showToastr("top-right","danger",e),i.loading=!1}))}},{key:"deleteOnlineExamQuestion",value:function(e,t){var n=this;this.loading=!0,this.onlineExamQuestionService.deleteOnlineExamQuestion(e).subscribe((function(e){n.onlineExamQuestions.splice(t,1),n.loading=!1}),(function(e){n.showToastr("top-right","danger",e),n.loading=!1}))}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"back",value:function(){this.router.navigate(["../../manage"],{relativeTo:this.route})}},{key:"ngOnDestroy",value:function(){}}]),e}(),v.\u0275fac=function(e){return new(e||v)(s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](i.Db),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](c.c),s["\u0275\u0275directiveInject"](c.a))},v.\u0275cmp=s["\u0275\u0275defineComponent"]({type:v,selectors:[["ngx-manage-online-test-questions"]],decls:24,vars:5,consts:[[1,"row"],[1,"col-md-12"],["nbButton","","size","tiny","status","warning",1,"float-right",3,"click"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","size","small","fullWidth","","status","primary",3,"click",4,"ngIf"],[1,"body-container"],[4,"ngIf","ngIfElse"],["loadingData",""],["nbButton","","size","small","fullWidth","","status","primary",3,"click"],["icon","plus-circle-outline"],["class","table-responsive",4,"ngIf","ngIfElse"],["noBatches",""],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],["nbButton","","status","primary","size","small",3,"click"],["nbButton","","status","danger","size","small",3,"click"],[1,"text-center","pt-5","pb-5"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"button",2),s["\u0275\u0275listener"]("click",(function(){return t.back()})),s["\u0275\u0275text"](5," Back "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"h3"),s["\u0275\u0275text"](7,"Online Exam Questions"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"nb-card"),s["\u0275\u0275elementStart"](9,"nb-card-header"),s["\u0275\u0275elementStart"](10,"div",0),s["\u0275\u0275elementStart"](11,"div",3),s["\u0275\u0275elementStart"](12,"h5"),s["\u0275\u0275text"](13),s["\u0275\u0275elementStart"](14,"small"),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",4),s["\u0275\u0275template"](17,u,3,0,"button",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"nb-card-body",6),s["\u0275\u0275elementStart"](19,"div",0),s["\u0275\u0275elementStart"](20,"div",1),s["\u0275\u0275template"](21,h,4,2,"ng-container",7),s["\u0275\u0275template"](22,E,2,0,"ng-template",null,8,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](23);s["\u0275\u0275advance"](13),s["\u0275\u0275textInterpolate1"](" Add ",t.onlineExam.totalQuestions-t.onlineExamQuestions.length," more Questions "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("of ",t.onlineExam.totalQuestions,""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.onlineExamQuestions.length<=t.onlineExam.totalQuestions),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",n)}},directives:[i.x,i.z,i.u,a.n,i.w,i.M,a.m],styles:[""]}),v)},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],p=((x=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||x)},imports:[[c.g.forChild(g)],c.g]}),x);n.d(t,"ManageOnlineTestQuestionsModule",(function(){return S}));var b,S=((b=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[a.c,p,i.A,i.nb,i.v,i.O]]}),b)}}]);