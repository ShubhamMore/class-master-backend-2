!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{YfTX:function(n,i,l){"use strict";l.r(i),l.d(i,"ReceiptInfoModule",(function(){return w}));var r=l("3Pt+"),a=l("aceb"),o=l("ofXK"),s=l("fXoL"),d=l("EQut"),m=l("fDUG"),u=l("tyNb");function c(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1," User Name is required! "),s["\u0275\u0275elementEnd"]())}function g(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1," Company Name should contain minimum 5 characters "),s["\u0275\u0275elementEnd"]())}function p(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,c,2,0,"p",18),s["\u0275\u0275template"](2,g,2,0,"p",18),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.billingForm.get("name").errors?null:n.billingForm.get("name").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.billingForm.get("name").errors?null:n.billingForm.get("name").errors.minlength)}}function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1," Company address is required! "),s["\u0275\u0275elementEnd"]())}function h(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1," Company address should be 10 characters "),s["\u0275\u0275elementEnd"]())}function f(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,b,2,0,"p",18),s["\u0275\u0275template"](2,h,2,0,"p",18),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.billingForm.get("address").errors?null:n.billingForm.get("address").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.billingForm.get("address").errors?null:n.billingForm.get("address").errors.minlength)}}var v,S,y,E=[{path:"",component:(v=function(){function n(t,i,l,r,a){e(this,n),this.branchService=t,this.toastrService=i,this.billingService=l,this.router=r,this.route=a}var i,l,a;return i=n,(l=[{key:"ngOnInit",value:function(){this.loading=!0,this.submit=!1,this.branchId=this.branchService.getBranchId(),this.branchId?(this.billingForm=new r.f({name:new r.d(null,{validators:[r.u.required,r.u.minLength(5)]}),address:new r.d(null,{validators:[r.u.required,r.u.minLength(10)]}),gstNumber:new r.d(null,{validators:[]}),termsAndConditions:new r.d(null,{validators:[]})}),this.getBillingDetails()):this.back()}},{key:"getBillingDetails",value:function(){var e=this;this.billingService.getBillingDetails(this.branchId).subscribe((function(t){e.billingDetails=t,e.billingDetails&&e.billingForm.patchValue({name:e.billingDetails.name,address:e.billingDetails.address,gstNumber:e.billingDetails.gstNumber,termsAndConditions:e.billingDetails.termsAndConditions}),e.loading=!1}),(function(t){e.loading=!1}))}},{key:"saveBillingDetails",value:function(){var e=this;if(this.billingForm.markAllAsTouched(),this.billingForm.invalid)this.showToastr("top-right","danger","Fill Billing Details Correctly");else{this.submit=!0;var t=this.billingForm.value;t.branch=this.branchId,this.billingDetails&&(t._id=this.billingDetails._id),this.billingService.saveBillingDetails(t).subscribe((function(t){e.showToastr("top-right","success","Billing Details Updated Successfully!"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}])&&t(i.prototype,l),a&&t(i,a),n}(),v.\u0275fac=function(e){return new(e||v)(s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](a.Gb),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](u.c),s["\u0275\u0275directiveInject"](u.a))},v.\u0275cmp=s["\u0275\u0275defineComponent"]({type:v,selectors:[["ngx-receipt-info"]],decls:36,vars:7,consts:[["id","title",1,"title"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-control-group"],["for","input-billing-name",1,"label"],["type","text","nbInput","","id","input-billing-name","name","name","formControlName","name","placeholder","Company Name","minlength","5","maxlength","30","fullWidth","",3,"status"],[4,"ngIf"],["for","input-gst-number",1,"label"],["type","text","nbInput","","id","input-gst-number","name","gstNumber","formControlName","gstNumber","placeholder","GST Number (Optional)","fullWidth",""],[1,"col-md-12"],["for","input-billing-address",1,"label"],["type","text","nbInput","","id","input-billing-address","name","address","formControlName","address","placeholder","Company Address","rows","2","minlength","10","maxlength","150","fullWidth","",3,"status"],["for","input-terms-conditions",1,"label"],["type","text","nbInput","","id","input-terms-conditions","name","termsAndConditions","formControlName","termsAndConditions","placeholder","Terms & Conditions (Optional)","rows","2","minlength","25","fullWidth",""],[1,"col-12","text-right"],["type","submit","nbButton","","size","small","status","primary","nbSpinnerStatus","primary","nbSpinnerSize","small",3,"disabled","nbSpinner"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"h3",0),s["\u0275\u0275text"](3,"Receipt Details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"nb-card-body"),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275elementStart"](6,"div",2),s["\u0275\u0275elementStart"](7,"form",3),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.saveBillingDetails()})),s["\u0275\u0275elementStart"](8,"div",1),s["\u0275\u0275elementStart"](9,"div",4),s["\u0275\u0275elementStart"](10,"div",5),s["\u0275\u0275elementStart"](11,"label",6),s["\u0275\u0275text"](12,"Company Name:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](13,"input",7),s["\u0275\u0275template"](14,p,3,2,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",4),s["\u0275\u0275elementStart"](16,"div",5),s["\u0275\u0275elementStart"](17,"label",9),s["\u0275\u0275text"](18,"GST Number:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"input",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",11),s["\u0275\u0275elementStart"](21,"div",5),s["\u0275\u0275elementStart"](22,"label",12),s["\u0275\u0275text"](23,"Company Address:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](24,"textarea",13),s["\u0275\u0275template"](25,f,3,2,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",11),s["\u0275\u0275elementStart"](27,"div",5),s["\u0275\u0275elementStart"](28,"label",14),s["\u0275\u0275text"](29,"Terms & Conditions:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](30,"textarea",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](31,"br"),s["\u0275\u0275elementStart"](32,"div",1),s["\u0275\u0275elementStart"](33,"div",16),s["\u0275\u0275elementStart"](34,"button",17),s["\u0275\u0275text"](35," Save "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("formGroup",t.billingForm),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("status",t.billingForm.get("name").touched?t.billingForm.get("name").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.billingForm.get("name").invalid&&t.billingForm.get("name").touched),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("status",t.billingForm.get("address").touched?t.billingForm.get("address").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.billingForm.get("address").invalid&&t.billingForm.get("address").touched),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("disabled",t.submit)("nbSpinner",t.submit))},directives:[a.y,a.A,a.x,r.v,r.n,r.g,a.Q,r.a,r.m,r.e,r.j,r.i,o.n,a.v,a.sb],styles:[""]}),v)},{path:"page-not-found",loadChildren:function(){return l.e(0).then(l.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],C=((y=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:y}),y.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||y)},imports:[[u.g.forChild(E)],u.g]}),y),w=((S=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:S}),S.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||S)},imports:[[o.c,C,a.R,a.w,a.tb,a.B,r.s]]}),S)}}])}();
//# sourceMappingURL=195-es5.344b78d021fdbaba1346.js.map