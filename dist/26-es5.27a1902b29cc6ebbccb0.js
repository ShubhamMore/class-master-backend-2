function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function _createClass(r,e,o){return e&&_defineProperties(r.prototype,e),o&&_defineProperties(r,o),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{c28y:function(r,e,o){"use strict";o.r(e);var t=o("ofXK"),n=o("3Pt+"),s=o("fCOA"),a=o("5hth"),i=o("AytR"),c=o("fXoL"),u=o("tyNb"),l=o("aceb");function d(r,e){1&r&&(c.Wb(0,"p",16),c.Cc(1," Password is required! "),c.Vb())}function f(r,e){1&r&&(c.Wb(0,"p",16),c.Cc(1," Password should contain minimum 7 characters "),c.Vb())}function b(r,e){if(1&r&&(c.Ub(0),c.Ac(1,d,2,0,"p",15),c.Ac(2,f,2,0,"p",15),c.Tb()),2&r){var o=c.gc();c.Eb(1),c.mc("ngIf",null==o.form.get("password").errors?null:o.form.get("password").errors.required),c.Eb(1),c.mc("ngIf",null==o.form.get("password").errors?null:o.form.get("password").errors.minlength)}}function p(r,e){1&r&&(c.Wb(0,"p",16),c.Cc(1," Password confirmation is required! "),c.Vb())}function m(r,e){1&r&&(c.Wb(0,"p",16),c.Cc(1," Password does not match the confirm password. "),c.Vb())}function g(r,e){if(1&r&&(c.Ub(0),c.Ac(1,p,2,0,"p",15),c.Ac(2,m,2,0,"p",15),c.Tb()),2&r){var o=c.gc();c.Eb(1),c.mc("ngIf",null==o.form.get("confirmPassword").errors?null:o.form.get("confirmPassword").errors.required),c.Eb(1),c.mc("ngIf",o.form.get("password").value!=o.form.get("confirmPassword").value&&!(null!=o.form.get("confirmPassword").errors&&o.form.get("confirmPassword").errors.required))}}var h,w,v=[{path:"",component:(h=function(){function r(e,o,t,n,s){_classCallCheck(this,r),this.httpService=e,this.roure=o,this.encryptService=t,this.router=n,this.formBuilder=s}return _createClass(r,[{key:"ngOnInit",value:function(){var r=this;this.loading=!0,this.form=this.formBuilder.group({password:new n.d(null,{validators:[n.u.required,n.u.minLength(7),n.u.maxLength(20)]}),confirmPassword:new n.d(null,{validators:[n.u.required,n.u.minLength(7),n.u.maxLength(20)]})}),this.roure.queryParams.subscribe((function(e){void 0===e.key?r.router.navigate(["/page_not_found"],{relativeTo:r.roure}):(r.token=e.key,r.httpService.httpPost({api:"validateToken",data:{token:r.token}}).subscribe((function(e){e.valid_token?r.loading=!1:r.router.navigate(["/page_not_found"],{relativeTo:r.roure})}),(function(e){r.router.navigate(["/page_not_found"],{relativeTo:r.roure})})))}))}},{key:"reset",value:function(){var r=this;if(this.form.valid&&!this.form.hasError("invalidPassword")){this.error=null,this.loading=!0;var e={password:this.encryptService.encrypt(this.form.value.password,i.a.encKey),token:this.token};this.httpService.httpPost({api:"resetPassword",data:e}).subscribe((function(e){r.form.reset(),r.router.navigate(["/login"],{relativeTo:r.roure})}),(function(e){r.error=e,r.loading=!1}))}else this.error="PLease Fill All the Fields Correctly"}},{key:"onErrorClose",value:function(){this.error=null}}]),r}(),h.\u0275fac=function(r){return new(r||h)(c.Qb(s.a),c.Qb(u.a),c.Qb(a.a),c.Qb(u.c),c.Qb(n.c))},h.\u0275cmp=c.Kb({type:h,selectors:[["ngx-reset-password"]],decls:31,vars:5,consts:[[1,"row"],[1,"col-md-6","col-sm-10","col-12","mx-auto"],["id","title",1,"title"],[1,"sub-title"],[3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-password",1,"label"],["type","password","nbInput","","id","input-password","name","password","formControlName","password","placeholder","Password","minlength","7","maxlength","20","fullWidth","",3,"status"],[4,"ngIf"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","formControlName","confirmPassword","placeholder","Confirm Password","minlength","5","maxlength","30","fullWidth","",3,"status"],["nbButton","","status","primary","fullWidth",""],[1,"sign-in-or-up","text-right"],["routerLink","/login",1,"text-link"],["routerLink","/register",1,"text-link"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(r,e){1&r&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"nb-card"),c.Wb(3,"nb-card-body"),c.Wb(4,"h1",2),c.Cc(5,"Change password"),c.Vb(),c.Wb(6,"p",3),c.Cc(7,"Please set a new password"),c.Vb(),c.Wb(8,"form",4),c.ec("ngSubmit",(function(){return e.reset()})),c.Wb(9,"div",5),c.Wb(10,"label",6),c.Cc(11,"Password:"),c.Vb(),c.Rb(12,"input",7),c.Ac(13,b,3,2,"ng-container",8),c.Vb(),c.Wb(14,"div",5),c.Wb(15,"label",9),c.Cc(16,"Repeat password:"),c.Vb(),c.Rb(17,"input",10),c.Ac(18,g,3,2,"ng-container",8),c.Vb(),c.Rb(19,"br"),c.Wb(20,"button",11),c.Cc(21,"Change password"),c.Vb(),c.Vb(),c.Rb(22,"br"),c.Wb(23,"section",12),c.Wb(24,"p"),c.Cc(25," Back to "),c.Wb(26,"a",13),c.Cc(27,"Log In"),c.Vb(),c.Cc(28,"\xa0|\xa0 "),c.Wb(29,"a",14),c.Cc(30,"Register"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&r&&(c.Eb(8),c.mc("formGroup",e.form),c.Eb(4),c.mc("status",e.form.get("password").touched?e.form.get("password").invalid?"danger":"success":"basic"),c.Eb(1),c.mc("ngIf",e.form.get("password").invalid&&e.form.get("password").touched),c.Eb(4),c.mc("status",e.form.get("confirmPassword").touched?e.form.get("confirmPassword").invalid||e.form.get("password").value!=e.form.get("confirmPassword").value?"danger":"success":"basic"),c.Eb(1),c.mc("ngIf",e.form.get("confirmPassword").invalid&&e.form.get("confirmPassword").touched))},directives:[l.r,l.q,n.v,n.n,n.g,l.G,n.a,n.m,n.e,n.j,n.i,t.n,l.o,u.f],styles:["",""]}),h),canActivate:[]},{path:"page-not-found",loadChildren:function(){return o.e(0).then(o.bind(null,"DeSt")).then((function(r){return r.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],C=((w=function r(){_classCallCheck(this,r)}).\u0275mod=c.Ob({type:w}),w.\u0275inj=c.Nb({factory:function(r){return new(r||w)},imports:[[u.g.forChild(v)],u.g]}),w),P=o("vTDv");o.d(e,"ResetPasswordModule",(function(){return k}));var y,k=((y=function r(){_classCallCheck(this,r)}).\u0275mod=c.Ob({type:y}),y.\u0275inj=c.Nb({factory:function(r){return new(r||y)},imports:[[t.c,C,n.h,n.s,P.a,l.t,l.p,l.F,l.p,l.i,l.H,l.w,l.k,l.W]]}),y)}}]);