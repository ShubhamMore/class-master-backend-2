(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{"7+vQ":function(t,e,i){"use strict";i.r(e);var c=i("aceb"),r=i("ofXK"),a=i("7kqb"),s=i("ziii"),n=i("EQut"),l=i("fXoL"),u=i("tyNb");function o(t,e){if(1&t){const t=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td"),l.Cc(2),l.Vb(),l.Wb(3,"td"),l.Cc(4),l.Vb(),l.Wb(5,"td"),l.Wb(6,"button",15),l.ec("click",(function(){l.uc(t);const i=e.$implicit;return l.gc(3).viewLectureMaterial(i)})),l.Cc(7," View "),l.Vb(),l.Vb(),l.Wb(8,"td"),l.Wb(9,"button",16),l.ec("click",(function(){l.uc(t);const i=e.$implicit,c=e.index;return l.gc(3).changeLectureMaterialStatus(i._id,!i.status,c)})),l.Cc(10),l.Vb(),l.Vb(),l.Wb(11,"td"),l.Wb(12,"button",17),l.ec("click",(function(){l.uc(t);const i=e.$implicit;return l.gc(3).deleteLectureMaterial(i._id)})),l.Cc(13," Delete "),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit,i=e.index;l.Eb(2),l.Dc(i+1),l.Eb(2),l.Dc(t.title),l.Eb(5),l.mc("status",t.status?"danger":"warning"),l.Eb(1),l.Ec(" ",t.status?"Deactivate":"Activate"," ")}}function b(t,e){if(1&t&&(l.Wb(0,"div",11),l.Wb(1,"table",12),l.Wb(2,"thead"),l.Wb(3,"tr"),l.Wb(4,"th"),l.Cc(5,"#"),l.Vb(),l.Wb(6,"th"),l.Cc(7,"Title"),l.Vb(),l.Wb(8,"th",13),l.Cc(9,"Action"),l.Vb(),l.Vb(),l.Vb(),l.Wb(10,"tbody"),l.Ac(11,o,14,4,"tr",14),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.gc(2);l.Eb(11),l.mc("ngForOf",t.lectureMaterials)}}function h(t,e){1&t&&(l.Wb(0,"p",18),l.Cc(1,"No Lecture Material Available"),l.Vb())}function d(t,e){if(1&t&&(l.Ub(0),l.Ac(1,b,12,1,"div",9),l.Ac(2,h,2,0,"ng-template",null,10,l.Bc),l.Tb()),2&t){const t=l.sc(3),e=l.gc();l.Eb(1),l.mc("ngIf",e.lectureMaterials.length>0)("ngIfElse",t)}}function g(t,e){1&t&&(l.Wb(0,"p",18),l.Cc(1,"Loading..."),l.Vb())}const f=[{path:"",component:(()=>{class t{constructor(t,e,i,c,r,a){this.branchService=t,this.lectureService=e,this.lectureMaterialService=i,this.toastrService=c,this.router=r,this.route=a}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.subject="",this.lectureMaterials=[],this.lectureService.getLectureData().subscribe(t=>{this.lecture=t,this.lecture?this.getLectureMaterials(this.subject):this.router.navigate(["../"],{relativeTo:this.route})})):this.router.navigate(["../"],{relativeTo:this.route})}getLectureMaterials(t){this.loading=!0,this.subject=t,this.lectureMaterialService.getLectureMaterials(this.branchId,this.lecture.category,this.lecture.course,this.lecture.batch,this.lecture._id).subscribe(t=>{this.lectureMaterials=t,this.loading=!1},t=>{this.loading=!1})}addLectureMaterial(){this.router.navigate(["../add"],{relativeTo:this.route})}deleteLectureMaterial(t,e){this.loading=!0,this.lectureMaterialService.deleteLectureMaterial(t).subscribe(t=>{this.lectureMaterials.splice(e,1),this.showToastr("top-right","success","LectureMaterial Deleted Successfully!"),this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}viewLectureMaterial(t){this.lectureMaterialService.setLectureMaterialId(t._id),this.lectureMaterialService.setLectureMaterialData(t),this.router.navigate(["../view"],{relativeTo:this.route})}getSubject(t){const e=this.course.subjects.find(e=>e._id===t);return e?e.subject:"--"}changeLectureMaterialStatus(t,e,i){this.loading=!0,this.lectureMaterialService.changeLectureMaterialStatus(t,e).subscribe(t=>{this.lectureMaterials[i].status=e,this.showToastr("top-right","success",`LectureMaterial ${e?"Activated":"Deactivated"} Successfully!`),this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}showToastr(t,e,i){this.toastrService.show(e,i,{position:t,status:e})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(n.a),l.Qb(a.a),l.Qb(s.a),l.Qb(c.xb),l.Qb(u.c),l.Qb(u.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["ngx-manage-study-material"]],decls:16,vars:2,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noLectureMaterials",""],[1,"table-responsive"],[1,"table"],["colspan","3"],[4,"ngFor","ngForOf"],["nbButton","","status","info","size","small",3,"click"],["nbButton","","size","small",3,"status","click"],["nbButton","","status","danger","size","small",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(l.Wb(0,"nb-card"),l.Wb(1,"nb-card-header"),l.Wb(2,"div",0),l.Wb(3,"div",1),l.Wb(4,"h3"),l.Cc(5," Lecture Material "),l.Vb(),l.Vb(),l.Wb(6,"div",2),l.Wb(7,"button",3),l.ec("click",(function(){return e.addLectureMaterial()})),l.Cc(8," Add Lecture Material "),l.Rb(9,"nb-icon",4),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(10,"nb-card-body",5),l.Wb(11,"div",0),l.Wb(12,"div",6),l.Ac(13,d,4,2,"ng-container",7),l.Ac(14,g,2,0,"ng-template",null,8,l.Bc),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.sc(15);l.Eb(13),l.mc("ngIf",!e.loading)("ngIfElse",t)}},directives:[c.x,c.z,c.u,c.L,c.w,r.n,r.m],styles:[""]}),t})()},{path:"page-not-found",loadChildren:()=>i.e(0).then(i.bind(null,"DeSt")).then(t=>t.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found"}];let v=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)},imports:[[u.g.forChild(f)],u.g]}),t})();i.d(e,"ManageStudyMaterialModule",(function(){return p}));let p=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)},imports:[[r.c,v,c.A,c.v,c.N,c.kb]]}),t})()}}]);