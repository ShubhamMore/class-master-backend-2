function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{"n/oW":function(t,e,i){"use strict";i.r(e);var a=i("aceb"),c=i("ofXK"),r=i("7kqb"),n=i("ziii"),s=i("EQut"),u=i("fXoL"),l=i("tyNb");function o(t,e){if(1&t){var i=u.Xb();u.Wb(0,"tr"),u.Wb(1,"td"),u.Cc(2),u.Vb(),u.Wb(3,"td"),u.Cc(4),u.Vb(),u.Wb(5,"td"),u.Wb(6,"button",15),u.ec("click",(function(){u.uc(i);var t=e.$implicit;return u.gc(3).viewLectureMaterial(t)})),u.Cc(7," View "),u.Vb(),u.Vb(),u.Wb(8,"td"),u.Wb(9,"button",16),u.ec("click",(function(){u.uc(i);var t=e.$implicit,a=e.index;return u.gc(3).changeLectureMaterialStatus(t._id,!t.status,a)})),u.Cc(10),u.Vb(),u.Vb(),u.Wb(11,"td"),u.Wb(12,"button",17),u.ec("click",(function(){u.uc(i);var t=e.$implicit;return u.gc(3).deleteLectureMaterial(t._id)})),u.Cc(13," Delete "),u.Vb(),u.Vb(),u.Vb()}if(2&t){var a=e.$implicit,c=e.index;u.Eb(2),u.Dc(c+1),u.Eb(2),u.Dc(a.title),u.Eb(5),u.mc("status",a.status?"danger":"warning"),u.Eb(1),u.Ec(" ",a.status?"Deactivate":"Activate"," ")}}function b(t,e){if(1&t&&(u.Wb(0,"div",11),u.Wb(1,"table",12),u.Wb(2,"thead"),u.Wb(3,"tr"),u.Wb(4,"th"),u.Cc(5,"#"),u.Vb(),u.Wb(6,"th"),u.Cc(7,"Title"),u.Vb(),u.Wb(8,"th",13),u.Cc(9,"Action"),u.Vb(),u.Vb(),u.Vb(),u.Wb(10,"tbody"),u.Ac(11,o,14,4,"tr",14),u.Vb(),u.Vb(),u.Vb()),2&t){var i=u.gc(2);u.Eb(11),u.mc("ngForOf",i.lectureMaterials)}}function d(t,e){1&t&&(u.Wb(0,"p",18),u.Cc(1,"No Lecture Material Available"),u.Vb())}function h(t,e){if(1&t&&(u.Ub(0),u.Ac(1,b,12,1,"div",9),u.Ac(2,d,2,0,"ng-template",null,10,u.Bc),u.Tb()),2&t){var i=u.sc(3),a=u.gc();u.Eb(1),u.mc("ngIf",a.lectureMaterials.length>0)("ngIfElse",i)}}function f(t,e){1&t&&(u.Wb(0,"p",18),u.Cc(1,"Loading..."),u.Vb())}var g,v,p=[{path:"",component:(g=function(){function t(e,i,a,c,r,n){_classCallCheck(this,t),this.branchService=e,this.lectureService=i,this.lectureMaterialService=a,this.toastrService=c,this.router=r,this.route=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.subject="",this.lectureMaterials=[],this.lectureService.getLectureData().subscribe((function(e){t.lecture=e,t.lecture?t.getLectureMaterials(t.subject):t.router.navigate(["../"],{relativeTo:t.route})}))):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"getLectureMaterials",value:function(t){var e=this;this.loading=!0,this.subject=t,this.lectureMaterialService.getLectureMaterials(this.branchId,this.lecture.category,this.lecture.course,this.lecture.batch,this.lecture._id).subscribe((function(t){e.lectureMaterials=t,e.loading=!1}),(function(t){e.loading=!1}))}},{key:"addLectureMaterial",value:function(){this.router.navigate(["../add"],{relativeTo:this.route})}},{key:"deleteLectureMaterial",value:function(t,e){var i=this;this.loading=!0,this.lectureMaterialService.deleteLectureMaterial(t).subscribe((function(t){i.lectureMaterials.splice(e,1),i.showToastr("top-right","success","LectureMaterial Deleted Successfully!"),i.loading=!1}),(function(t){i.showToastr("top-right","danger",t),i.loading=!1}))}},{key:"viewLectureMaterial",value:function(t){this.lectureMaterialService.setLectureMaterialId(t._id),this.lectureMaterialService.setLectureMaterialData(t),this.router.navigate(["../view"],{relativeTo:this.route})}},{key:"getSubject",value:function(t){var e=this.course.subjects.find((function(e){return e._id===t}));return e?e.subject:"--"}},{key:"changeLectureMaterialStatus",value:function(t,e,i){var a=this;this.loading=!0,this.lectureMaterialService.changeLectureMaterialStatus(t,e).subscribe((function(t){a.lectureMaterials[i].status=e,a.showToastr("top-right","success","LectureMaterial ".concat(e?"Activated":"Deactivated"," Successfully!")),a.loading=!1}),(function(t){a.showToastr("top-right","danger",t),a.loading=!1}))}},{key:"showToastr",value:function(t,e,i){this.toastrService.show(e,i,{position:t,status:e})}}]),t}(),g.\u0275fac=function(t){return new(t||g)(u.Qb(s.a),u.Qb(r.a),u.Qb(n.a),u.Qb(a.xb),u.Qb(l.c),u.Qb(l.a))},g.\u0275cmp=u.Kb({type:g,selectors:[["ngx-manage-study-material"]],decls:16,vars:2,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noLectureMaterials",""],[1,"table-responsive"],[1,"table"],["colspan","3"],[4,"ngFor","ngForOf"],["nbButton","","status","info","size","small",3,"click"],["nbButton","","size","small",3,"status","click"],["nbButton","","status","danger","size","small",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(u.Wb(0,"nb-card"),u.Wb(1,"nb-card-header"),u.Wb(2,"div",0),u.Wb(3,"div",1),u.Wb(4,"h3"),u.Cc(5," Lecture Material "),u.Vb(),u.Vb(),u.Wb(6,"div",2),u.Wb(7,"button",3),u.ec("click",(function(){return e.addLectureMaterial()})),u.Cc(8," Add Lecture Material "),u.Rb(9,"nb-icon",4),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(10,"nb-card-body",5),u.Wb(11,"div",0),u.Wb(12,"div",6),u.Ac(13,h,4,2,"ng-container",7),u.Ac(14,f,2,0,"ng-template",null,8,u.Bc),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&t){var i=u.sc(15);u.Eb(13),u.mc("ngIf",!e.loading)("ngIfElse",i)}},directives:[a.x,a.z,a.u,a.L,a.w,c.n,c.m],styles:[""]}),g)},{path:"page-not-found",loadChildren:function(){return i.e(0).then(i.bind(null,"DeSt")).then((function(t){return t.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found"}],M=((v=function t(){_classCallCheck(this,t)}).\u0275mod=u.Ob({type:v}),v.\u0275inj=u.Nb({factory:function(t){return new(t||v)},imports:[[l.g.forChild(p)],l.g]}),v);i.d(e,"ManageStudyMaterialModule",(function(){return W}));var m,W=((m=function t(){_classCallCheck(this,t)}).\u0275mod=u.Ob({type:m}),m.\u0275inj=u.Nb({factory:function(t){return new(t||m)},imports:[[c.c,M,a.A,a.v,a.N,a.kb]]}),m)}}]);