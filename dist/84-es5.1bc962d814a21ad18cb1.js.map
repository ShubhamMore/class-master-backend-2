{"version":3,"sources":["webpack:///src/app/employee/branch/employee/manage-employee-salary/manage-employee-salary.component.html","webpack:///src/app/employee/branch/employee/manage-employee-salary/manage-employee-salary-routing.module.ts","webpack:///src/app/employee/branch/employee/manage-employee-salary/manage-employee-salary.component.ts","webpack:///src/app/employee/branch/employee/manage-employee-salary/manage-employee-salary.module.ts"],"names":["ManageEmployeeSalaryComponent","ManageEmployeeSalaryModule","ManageEmployeeSalaryRoutingModule","routes","path","component","employeeService","branchEmployeeService","branchService","router","route","toastrService","this","loading","getBranchId","getBranchEmployeeData","subscribe","branchEmployee","showToastr","back","getEmployeeByIMSId","employee","setEmployeeData","err","position","status","message","show","type","getEmployeeType","navigate","relativeTo","queryParams","deleteEmployeeData","children","loadChildren","then","m","AddSalaryModule","ViewSalaryReceiptModule","ManageSalaryModule","PageNotFoundModule","redirectTo","pathMatch","forChild"],"mappings":"2hBAAA,4CCIA,ICSaA,ECHAC,EF6CAC,EAnDPC,EAAiB,CACrB,CACEC,KAAM,GACNC,WCMSL,EAAN,WAGL,WACUM,EACAC,EACAC,EACAC,EACAC,EACAC,aALA,KAAAL,kBACA,KAAAC,wBACA,KAAAC,gBACA,KAAAC,SACA,KAAAC,QACA,KAAAC,gB,UATL,O,EAAA,G,EAAA,kCAYK,WACRC,KAAKC,WAEYD,KAAKJ,cAAcM,cAMpCF,KAAKL,sBACFQ,wBACAC,WAAWC,YACV,IAAKA,EAGH,OAFAL,EAAKM,WAAW,YAAa,SAAU,kCACvCN,EAAKO,OAIPP,EAAKN,gBAAgBc,mBAAmBH,EAAeI,UAAUL,WAC9DK,YACCT,EAAKN,gBAAgBgB,gBAAgBD,GACrCT,EAAKC,cAENU,YACCX,EAAKM,WAAW,YAAa,SAAUK,GACvCX,EAAKO,aApBXP,KAAKO,SAjBJ,iCA2CcK,EAAeC,EAAaC,GAC7Cd,KAAKD,cAAcgB,KAAKF,EAAQC,EAAS,CACvCF,WACAC,aA9CC,6BAmDH,IAAMG,EAAOhB,KAAKN,gBAAgBuB,kBAClCjB,KAAKH,OAAOqB,SAAS,CAAC,OAAQ,CAAEC,WAAYnB,KAAKF,MAAOsB,YAAa,CAAEJ,YApDpE,oCAwDHhB,KAAKN,gBAAgB2B,0B,2BAxDlB,K,sCAAMjC,GAA6B,uO,mDAA7BA,EAA6B,0GFb1C,qD,KAAe,8C,sCCQXkC,SAAU,CACR,CACE9B,KAAM,MACN+B,aAAc,kBAAM,wDAAyCC,MAAMC,YAACA,OAAKA,EAAEC,qBAG7E,CACElC,KAAM,OACN+B,aAAc,kBACZ,wDAA2DC,MACxDC,YAACA,OAAKA,EAAEE,6BAIf,CACEnC,KAAM,GACN+B,aAAc,kBACZ,wDAA+CC,MAAMC,YAACA,OAAKA,EAAEG,wBASjE,CACEpC,KAAM,iBACN+B,aAAc,kBACZ,iCAAkEC,MAC/DC,YAACA,OAAKA,EAAEI,wBAIf,CACErC,KAAM,KACNsC,WAAY,iBACZC,UAAW,WAUZ,IAAMzC,EAAN,yB,gDAAMA,I,+EAAAA,IAAiC,SAHnC,CAAC,IAAa0C,SAASzC,IACtB,O,GE3CL,IAAMF,EAAN,yB,gDAAMA,I,+EAAAA,IAA0B,SAF5B,CAAC,IAAc,M","file":"x","sourcesContent":["<router-outlet *ngIf=\"!loading\"></router-outlet>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ManageEmployeeSalaryComponent } from './manage-employee-salary.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ManageEmployeeSalaryComponent,\n    children: [\n      {\n        path: 'add',\n        loadChildren: () => import('./add-salary/add-salary.module').then((m) => m.AddSalaryModule),\n      },\n\n      {\n        path: 'view',\n        loadChildren: () =>\n          import('./view-salary-receipt/view-salary-receipt.module').then(\n            (m) => m.ViewSalaryReceiptModule,\n          ),\n      },\n\n      {\n        path: '',\n        loadChildren: () =>\n          import('./manage-salary/manage-salary.module').then((m) => m.ManageSalaryModule),\n      },\n\n      // {\n      //   path: '',\n      //   redirectTo: 'manage?type=active',\n      //   pathMatch: 'full',\n      // },\n\n      {\n        path: 'page-not-found',\n        loadChildren: () =>\n          import('../../../../shared/page-not-found/page-not-found.module').then(\n            (m) => m.PageNotFoundModule,\n          ),\n      },\n\n      {\n        path: '**',\n        redirectTo: 'page-not-found',\n        pathMatch: 'full',\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageEmployeeSalaryRoutingModule {}\n","import { NbToastrService } from '@nebular/theme';\nimport { BranchEmployeeModel } from './../../../../models/branch-employee.model';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BranchService } from './../../../../services/branch.service';\nimport { BranchEmployeeService } from './../../../../services/branch-employee.service';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { EmployeeService } from '../../../../services/employee.service';\n\n@Component({\n  selector: 'ngx-manage-employee-salary',\n  templateUrl: './manage-employee-salary.component.html',\n  styleUrls: ['./manage-employee-salary.component.scss'],\n})\nexport class ManageEmployeeSalaryComponent implements OnInit, OnDestroy {\n  loading: boolean;\n\n  constructor(\n    private employeeService: EmployeeService,\n    private branchEmployeeService: BranchEmployeeService,\n    private branchService: BranchService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private toastrService: NbToastrService,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = true;\n\n    const branchId = this.branchService.getBranchId();\n    if (!branchId) {\n      this.back();\n      return;\n    }\n\n    this.branchEmployeeService\n      .getBranchEmployeeData()\n      .subscribe((branchEmployee: BranchEmployeeModel) => {\n        if (!branchEmployee) {\n          this.showToastr('top-right', 'danger', 'Branch Employee Not Found');\n          this.back();\n          return;\n        }\n\n        this.employeeService.getEmployeeByIMSId(branchEmployee.employee).subscribe(\n          (employee: any) => {\n            this.employeeService.setEmployeeData(employee);\n            this.loading = false;\n          },\n          (err: any) => {\n            this.showToastr('top-right', 'danger', err);\n            this.back();\n          },\n        );\n      });\n  }\n\n  private showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n\n  back() {\n    const type = this.employeeService.getEmployeeType();\n    this.router.navigate(['../'], { relativeTo: this.route, queryParams: { type } });\n  }\n\n  ngOnDestroy() {\n    this.employeeService.deleteEmployeeData();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ManageEmployeeSalaryRoutingModule } from './manage-employee-salary-routing.module';\nimport { ManageEmployeeSalaryComponent } from './manage-employee-salary.component';\n\n@NgModule({\n  declarations: [ManageEmployeeSalaryComponent],\n  imports: [CommonModule, ManageEmployeeSalaryRoutingModule],\n})\nexport class ManageEmployeeSalaryModule {}\n"]}