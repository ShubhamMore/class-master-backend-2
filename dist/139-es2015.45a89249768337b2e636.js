(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{iy8L:function(t,e,c){"use strict";c.r(e);var s=c("ofXK"),i=c("IAlr"),o=c("EQut"),r=c("fXoL"),n=c("aceb"),a=c("tyNb");function b(t,e){if(1&t&&(r.Wb(0,"nb-option",14),r.Cc(1),r.Vb()),2&t){const t=e.$implicit;r.mc("value",t._id),r.Eb(1),r.Dc(t.category)}}function u(t,e){if(1&t){const t=r.Xb();r.Wb(0,"tr"),r.Wb(1,"td"),r.Cc(2),r.Vb(),r.Wb(3,"td"),r.Cc(4),r.Vb(),r.Wb(5,"td"),r.Cc(6),r.Vb(),r.Wb(7,"td"),r.Cc(8),r.Vb(),r.Wb(9,"td"),r.Wb(10,"button",21),r.ec("click",(function(){r.uc(t);const c=e.$implicit;return r.gc(3).courseBatches(c)})),r.Cc(11," Batches "),r.Vb(),r.Vb(),r.Wb(12,"td"),r.Wb(13,"button",22),r.ec("click",(function(){r.uc(t);const c=e.$implicit;return r.gc(3).courseMaterial(c)})),r.Cc(14," Course Material "),r.Vb(),r.Vb(),r.Wb(15,"td"),r.Wb(16,"button",23),r.ec("click",(function(){r.uc(t);const c=e.$implicit;return r.gc(3).editCourse(c._id)})),r.Cc(17," Edit "),r.Vb(),r.Vb(),r.Wb(18,"td"),r.Wb(19,"button",24),r.ec("click",(function(){r.uc(t);const c=e.$implicit,s=e.index;return r.gc(3).changeCourseStatus(c._id,!c.status,s)})),r.Cc(20),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit,c=e.index,s=r.gc(3);r.Eb(2),r.Dc(c+1),r.Eb(2),r.Dc(t.basicDetails.courseName),r.Eb(2),r.Dc(s.getCategory(t.basicDetails.category)),r.Eb(2),r.Dc(t.feeDetails.totalFees),r.Eb(11),r.mc("status",t.status?"danger":"warning"),r.Eb(1),r.Ec(" ",t.status?"Deactivate":"Activate"," ")}}function l(t,e){if(1&t&&(r.Wb(0,"div",17),r.Wb(1,"table",18),r.Wb(2,"thead"),r.Wb(3,"tr"),r.Wb(4,"th"),r.Cc(5,"#"),r.Vb(),r.Wb(6,"th"),r.Cc(7,"Course"),r.Vb(),r.Wb(8,"th"),r.Cc(9,"Category"),r.Vb(),r.Wb(10,"th"),r.Cc(11,"Fees"),r.Vb(),r.Wb(12,"th",19),r.Cc(13,"Action"),r.Vb(),r.Vb(),r.Vb(),r.Wb(14,"tbody"),r.Ac(15,u,21,6,"tr",20),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.gc(2);r.Eb(15),r.mc("ngForOf",t.courses)}}function d(t,e){1&t&&(r.Wb(0,"p",25),r.Cc(1,"No Courses Available"),r.Vb())}function h(t,e){if(1&t&&(r.Ub(0),r.Ac(1,l,16,1,"div",15),r.Ac(2,d,2,0,"ng-template",null,16,r.Bc),r.Tb()),2&t){const t=r.sc(3),e=r.gc();r.Eb(1),r.mc("ngIf",e.courses.length>0)("ngIfElse",t)}}function g(t,e){1&t&&(r.Wb(0,"p",25),r.Cc(1,"Loading..."),r.Vb())}const C=[{path:"",component:(()=>{class t{constructor(t,e,c,s,i){this.branchService=t,this.courseService=e,this.toastrService=c,this.router=s,this.route=i}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.courses=[],this.categories=[],this.category="",this.branchService.getBranch(this.branchId).subscribe(t=>{this.branchService.setBranchData(t),this.categories=t.categories,this.getCourses("")},t=>{})):this.router.navigate(["../"],{relativeTo:this.route})}getCourses(t){this.loading=!0,this.category=t,this.courseService.getCourses(this.branchId,t).subscribe(t=>{this.courses=t,this.loading=!1},t=>{this.loading=!1})}getCategory(t){const e=this.categories.find(e=>e._id===t);return e?e.category:"--"}addCourse(){this.router.navigate(["../add"],{relativeTo:this.route})}courseBatches(t){this.courseService.setCourseId(t._id),this.courseService.setCourseData(t),this.router.navigate(["../batch"],{relativeTo:this.route})}courseMaterial(t){this.courseService.setCourseId(t._id),this.courseService.setCourseData(t),this.router.navigate(["../course-material"],{relativeTo:this.route})}editCourse(t){this.courseService.setCourseId(t),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}changeCourseStatus(t,e,c){this.loading=!0,this.courseService.changeCourseStatus(t,e).subscribe(t=>{this.courses[c].status=e,this.showToastr("top-right","success",`Course ${e?"Activated":"Deactivated"} Successfully!`),this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}showToastr(t,e,c){this.toastrService.show(e,c,{position:t,status:e})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(o.a),r.Qb(i.a),r.Qb(n.xb),r.Qb(a.c),r.Qb(a.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["ngx-manage-course"]],decls:27,vars:4,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"col-md-9"],[1,"col-md-3"],["id","select-category","name","category","fullWidth","","placeholder","Select Category",3,"selected","selectedChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],[3,"value"],["class","table-responsive",4,"ngIf","ngIfElse"],["noCourses",""],[1,"table-responsive"],[1,"table"],["colspan","4"],[4,"ngFor","ngForOf"],["nbButton","","status","info","size","small",1,"mr-3",3,"click"],["nbButton","","status","success","size","small",1,"mr-3",3,"click"],["nbButton","","status","basic","size","small",1,"mr-3",3,"click"],["nbButton","","size","small",1,"",3,"status","click"],[1,"text-center"]],template:function(t,e){if(1&t&&(r.Wb(0,"nb-card"),r.Wb(1,"nb-card-header"),r.Wb(2,"div",0),r.Wb(3,"div",1),r.Wb(4,"h3"),r.Cc(5,"Courses"),r.Vb(),r.Vb(),r.Wb(6,"div",2),r.Wb(7,"button",3),r.ec("click",(function(){return e.addCourse()})),r.Cc(8," Add Course "),r.Rb(9,"nb-icon",4),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(10,"nb-card"),r.Wb(11,"nb-card-header"),r.Wb(12,"div",0),r.Wb(13,"div",5),r.Wb(14,"h5"),r.Cc(15,"Select Category"),r.Vb(),r.Vb(),r.Wb(16,"div",6),r.Wb(17,"nb-select",7),r.ec("selectedChange",(function(t){return e.getCourses(t)})),r.Wb(18,"nb-option",8),r.Cc(19,"All"),r.Vb(),r.Ac(20,b,2,2,"nb-option",9),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(21,"nb-card-body",10),r.Wb(22,"div",0),r.Wb(23,"div",11),r.Ac(24,h,4,2,"ng-container",12),r.Ac(25,g,2,0,"ng-template",null,13,r.Bc),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.sc(26);r.Eb(17),r.mc("selected",e.category),r.Eb(3),r.mc("ngForOf",e.categories),r.Eb(4),r.mc("ngIf",!e.loading)("ngIfElse",t)}},directives:[n.x,n.z,n.u,n.L,n.jb,n.eb,s.m,n.w,s.n],styles:[".body-container[_ngcontent-%COMP%]{height:25rem;max-height:25rem;overflow-y:auto}"]}),t})()},{path:"page-not-found",loadChildren:()=>c.e(0).then(c.bind(null,"DeSt")).then(t=>t.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let f=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[a.g.forChild(C)],a.g]}),t})();c.d(e,"ManageCourseModule",(function(){return v}));let v=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[s.c,f,n.A,n.v,n.kb,n.N,n.P]]}),t})()}}]);