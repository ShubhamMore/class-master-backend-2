(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{iHL5:function(e,t,c){"use strict";c.r(t);var n=c("ofXK"),i=c("pjuo"),a=c("Pj/w"),s=c("EQut"),o=c("fXoL"),r=c("tyNb"),b=c("aceb");function l(e,t){if(1&e){const e=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Cc(2),o.Vb(),o.Wb(3,"td"),o.Cc(4),o.Vb(),o.Wb(5,"td"),o.Cc(6),o.hc(7,"uppercase"),o.Vb(),o.Wb(8,"td"),o.Wb(9,"button",10),o.ec("click",(function(){o.uc(e);const c=t.$implicit;return o.gc(3).editBranchEmployee(c._id,c.employee)})),o.Cc(10," Edit "),o.Vb(),o.Wb(11,"button",11),o.ec("click",(function(){o.uc(e);const c=t.$implicit;return o.gc(3).branchEmployeeSalary(c)})),o.Cc(12," Salary "),o.Vb(),o.Wb(13,"button",12),o.ec("click",(function(){o.uc(e);const c=t.$implicit,n=t.index;return o.gc(3).changeBranchEmployeeStatus(c._id,!c.status,n)})),o.Cc(14),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,c=t.index;o.Eb(2),o.Dc(c+1),o.Eb(2),o.Dc(e.name),o.Eb(2),o.Dc(o.ic(7,5,e.role)),o.Eb(7),o.mc("status",e.status?"danger":"warning"),o.Eb(1),o.Ec(" ",e.status?"Deactivate":"Activate"," ")}}function h(e,t){if(1&e&&(o.Wb(0,"div",7),o.Wb(1,"table",8),o.Wb(2,"thead"),o.Wb(3,"tr"),o.Wb(4,"th"),o.Cc(5,"#"),o.Vb(),o.Wb(6,"th"),o.Cc(7,"Employee"),o.Vb(),o.Wb(8,"th"),o.Cc(9,"Role"),o.Vb(),o.Wb(10,"th"),o.Cc(11,"Action"),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"tbody"),o.Ac(13,l,15,7,"tr",9),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.gc(2);o.Eb(13),o.mc("ngForOf",e.branchEmployees)}}function u(e,t){1&e&&(o.Wb(0,"p",13),o.Cc(1,"No Employees Available"),o.Vb())}function p(e,t){if(1&e&&(o.Ub(0),o.Ac(1,h,14,1,"div",5),o.Ac(2,u,2,0,"ng-template",null,6,o.Bc),o.Tb()),2&e){const e=o.sc(3),t=o.gc();o.Eb(1),o.mc("ngIf",t.branchEmployees.length>0)("ngIfElse",e)}}function d(e,t){1&e&&(o.Wb(0,"p",13),o.Cc(1,"Loading..."),o.Vb())}const m=[{path:"",component:(()=>{class e{constructor(e,t,c,n,i){this.branchService=e,this.employeeService=t,this.branchEmployeeService=c,this.router=n,this.route=i,this.route.queryParams.subscribe(e=>{this.ngOnInit()})}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.route.queryParams.subscribe(e=>{this.type=e.type}),"active"===this.type||"inactive"===this.type?(this.employeeService.setEmployeeType(this.type),this.branchEmployees=[],this.branchEmployeeService.getBranchEmployeeNameIds(this.branchId,this.type).subscribe(e=>{this.branchEmployees=e,this.loading=!1},e=>{this.loading=!1})):this.router.navigate(["../page-not-found"],{relativeTo:this.route})):this.router.navigate(["../"],{relativeTo:this.route})}editBranchEmployee(e,t){this.employeeService.setEmployeeId(t),this.branchEmployeeService.setBranchEmployeeId(e),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}branchEmployeeSalary(e){this.branchEmployeeService.setBranchEmployeeData(e),this.router.navigate(["../salary"],{relativeTo:this.route})}changeBranchEmployeeStatus(e,t,c){this.branchEmployeeService.changeBranchEmployeeStatus(e,t).subscribe(e=>{this.branchEmployees.splice(c,1),this.loading=!1},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(s.a),o.Qb(i.a),o.Qb(a.a),o.Qb(r.c),o.Qb(r.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["ngx-manage-employee"]],decls:13,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"body-container"],[4,"ngIf","ngIfElse"],["loadingData",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noBranchEmployees",""],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["nbButton","","status","basic","size","small",1,"mr-3",3,"click"],["nbButton","","status","success","size","small",1,"mr-3",3,"click"],["nbButton","","size","small",1,"",3,"status","click"],[1,"text-center"]],template:function(e,t){if(1&e&&(o.Wb(0,"nb-card"),o.Wb(1,"nb-card-header"),o.Wb(2,"div",0),o.Wb(3,"div",1),o.Wb(4,"h3"),o.Cc(5),o.hc(6,"uppercase"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(7,"nb-card-body",2),o.Wb(8,"div",0),o.Wb(9,"div",1),o.Ac(10,p,4,2,"ng-container",3),o.Ac(11,d,2,0,"ng-template",null,4,o.Bc),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.sc(12);o.Eb(5),o.Ec("",o.ic(6,3,t.type)," Employees"),o.Eb(5),o.mc("ngIf",!t.loading)("ngIfElse",e)}},directives:[b.x,b.z,b.w,n.n,n.m,b.u],pipes:[n.v],styles:[""]}),e})()},{path:"page-not-found",loadChildren:()=>c.e(0).then(c.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let y=(()=>{class e{}return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[r.g.forChild(m)],r.g]}),e})();c.d(t,"ManageEmployeeModule",(function(){return g}));let g=(()=>{class e{}return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[n.c,y,b.A,b.v,b.N,b.Ab]]}),e})()}}]);