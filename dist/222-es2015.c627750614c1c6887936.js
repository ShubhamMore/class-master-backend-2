(window.webpackJsonp=window.webpackJsonp||[]).push([[222],{Kd2V:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsModule",(function(){return f}));var o=n("ofXK"),a=n("vTDv"),s=n("aceb"),r=n("3Pt+"),c=n("fXoL"),m=n("tyNb"),i=n("nPMn");function l(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",21),c["\u0275\u0275text"](1," Zoom Access Token is required! "),c["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,l,2,0,"p",20),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.zoomKeysForm.get("accessToken").errors?null:e.zoomKeysForm.get("accessToken").errors.required)}}function d(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",21),c["\u0275\u0275text"](1," Zoom Secret Token is required! "),c["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,d,2,0,"p",20),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.zoomKeysForm.get("secretToken").errors?null:e.zoomKeysForm.get("secretToken").errors.required)}}function p(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",21),c["\u0275\u0275text"](1," Payment Gateway Access Token is required! "),c["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,p,2,0,"p",20),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.paymentGatewayKeysForm.get("accessToken").errors?null:e.paymentGatewayKeysForm.get("accessToken").errors.required)}}function S(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",21),c["\u0275\u0275text"](1," Payment Gateway Secret Token is required! "),c["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,S,2,0,"p",20),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.paymentGatewayKeysForm.get("secretToken").errors?null:e.paymentGatewayKeysForm.get("secretToken").errors.required)}}const g=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.router=e,this.route=t,this.toastrService=n,this.instituteKeysService=o}ngOnInit(){this.loading=!0,this.zoomShowSecret=!1,this.zoomKeysForm=new r.f({accessToken:new r.d(null,{validators:[r.u.required]}),secretToken:new r.d(null,{validators:[r.u.required]})}),this.paymentGatewayShowSecret=!1,this.paymentGatewayKeysForm=new r.f({accessToken:new r.d(null,{validators:[r.u.required]}),secretToken:new r.d(null,{validators:[r.u.required]})}),this.instituteKeysService.getInstituteKeys().subscribe(e=>{e&&e.onlineClassesKeys&&this.zoomKeysForm.patchValue({accessToken:e.onlineClassesKeys.accessKey,secretToken:e.onlineClassesKeys.secretKey}),e&&e.paymentGatewayKeys&&this.paymentGatewayKeysForm.patchValue({accessToken:e.paymentGatewayKeys.accessKey,secretToken:e.paymentGatewayKeys.secretKey}),this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}saveZoomKeys(){this.zoomKeysForm.markAllAsTouched(),this.zoomKeysForm.invalid?this.showToastr("top-right","danger","Please Enter valid Zoom Keys"):this.instituteKeysService.saveInstituteZoomKeys({accessKey:this.zoomKeysForm.value.accessToken,secretKey:this.zoomKeysForm.value.secretToken}).subscribe(e=>{this.instituteKeysService.getZoomAuthLink().subscribe(e=>{window.open(e.authLink,"_blank","toolbar,scrollbars,resizable,top=200,left=500,width=400,height=400")}),this.showToastr("top-right","success","Institute Zoom Keys Saved Successfully!")},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}toggleShowZoomSecret(){this.zoomShowSecret=!this.zoomShowSecret}toggleShowPaymentGatewaySecret(){this.paymentGatewayShowSecret=!this.paymentGatewayShowSecret}savePaymentGatewayKeys(){this.paymentGatewayKeysForm.markAllAsTouched(),this.paymentGatewayKeysForm.invalid?this.showToastr("top-right","danger","Please Enter valid Payment Gateway Keys"):this.instituteKeysService.saveInstitutePaymentGatewayKeys({accessKey:this.paymentGatewayKeysForm.value.accessToken,secretKey:this.paymentGatewayKeysForm.value.secretToken}).subscribe(e=>{this.showToastr("top-right","success","Institute Payment Gateway Keys Saved Successfully!")},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}back(){this.router.navigate(["../"],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](m.c),c["\u0275\u0275directiveInject"](m.a),c["\u0275\u0275directiveInject"](s.Gb),c["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-settings"]],decls:62,vars:16,consts:[["nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,"row"],[1,"col-12"],[1,"col-md-8","col-sm-10","col-12","mx-auto"],[3,"formGroup","submit"],[1,"col-md-6","col-12"],[1,"form-control-group"],["for","input-zoom-access-token",1,"label"],["type","text","nbInput","","id","input-zoom-access-token","name","zoomAccessToken","formControlName","accessToken","placeholder","Zoom Access Token","fullWidth","",3,"status"],[4,"ngIf"],["for","input-zoom-secret-token",1,"label"],["nbInput","","id","input-zoom-secret-token","name","zoomSecretToken","formControlName","secretToken","placeholder","Zoom Secret Token","fullWidth","",3,"type","status"],["type","button","nbSuffix","","nbButton","","size","small","ghost","",3,"click"],["pack","eva",3,"icon"],[1,"col-12","mt-3"],["type","submit","nbButton","","size","small","status","primary",1,"float-right"],["for","input-payment-gateway-access-token",1,"label"],["type","text","nbInput","","id","input-payment-gateway-access-token","name","paymentGatewayAccessToken","formControlName","accessToken","placeholder","Payment Gateway Access Token","fullWidth","",3,"status"],["for","input-payment-gateway-secret-token",1,"label"],["nbInput","","id","input-payment-gateway-secret-token","name","paymentGatewaySecretToken","formControlName","secretToken","placeholder","Payment Gateway Secret Token","fullWidth","",3,"type","status"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"nb-card"),c["\u0275\u0275elementStart"](1,"nb-card-header"),c["\u0275\u0275elementStart"](2,"button",0),c["\u0275\u0275listener"]("click",(function(){return t.back()})),c["\u0275\u0275text"](3," Back "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"h3"),c["\u0275\u0275text"](5,"Settings"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"nb-card-body"),c["\u0275\u0275elementStart"](7,"div",1),c["\u0275\u0275elementStart"](8,"div",2),c["\u0275\u0275elementStart"](9,"h4"),c["\u0275\u0275text"](10,"Zoom Online Lectures"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"p"),c["\u0275\u0275text"](12,"Instructions Comming Soon..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",3),c["\u0275\u0275elementStart"](14,"form",4),c["\u0275\u0275listener"]("submit",(function(){return t.saveZoomKeys()})),c["\u0275\u0275elementStart"](15,"div",1),c["\u0275\u0275elementStart"](16,"div",5),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"label",7),c["\u0275\u0275text"](19,"Zoom Access Token:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](20,"input",8),c["\u0275\u0275template"](21,y,2,1,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",5),c["\u0275\u0275elementStart"](23,"div",6),c["\u0275\u0275elementStart"](24,"label",10),c["\u0275\u0275text"](25,"Zoom Secret Token:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"nb-form-field"),c["\u0275\u0275element"](27,"input",11),c["\u0275\u0275elementStart"](28,"button",12),c["\u0275\u0275listener"]("click",(function(){return t.toggleShowZoomSecret()})),c["\u0275\u0275element"](29,"nb-icon",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](30,u,2,1,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",14),c["\u0275\u0275elementStart"](32,"button",15),c["\u0275\u0275text"](33," Save "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"div",2),c["\u0275\u0275element"](35,"hr"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"div",2),c["\u0275\u0275elementStart"](37,"h4"),c["\u0275\u0275text"](38,"RazorPay Payment Gateway"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"p"),c["\u0275\u0275text"](40,"Instructions Comming Soon..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"div",3),c["\u0275\u0275elementStart"](42,"form",4),c["\u0275\u0275listener"]("submit",(function(){return t.savePaymentGatewayKeys()})),c["\u0275\u0275elementStart"](43,"div",1),c["\u0275\u0275elementStart"](44,"div",5),c["\u0275\u0275elementStart"](45,"div",6),c["\u0275\u0275elementStart"](46,"label",16),c["\u0275\u0275text"](47,"Payment Gateway Access Token:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](48,"input",17),c["\u0275\u0275template"](49,h,2,1,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"div",5),c["\u0275\u0275elementStart"](51,"div",6),c["\u0275\u0275elementStart"](52,"label",18),c["\u0275\u0275text"](53,"Payment Gateway Secret Token:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"nb-form-field"),c["\u0275\u0275element"](55,"input",19),c["\u0275\u0275elementStart"](56,"button",12),c["\u0275\u0275listener"]("click",(function(){return t.toggleShowPaymentGatewaySecret()})),c["\u0275\u0275element"](57,"nb-icon",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](58,w,2,1,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"div",14),c["\u0275\u0275elementStart"](60,"button",15),c["\u0275\u0275text"](61," Save "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](14),c["\u0275\u0275property"]("formGroup",t.zoomKeysForm),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("status",t.zoomKeysForm.get("accessToken").touched?t.zoomKeysForm.get("accessToken").invalid?"danger":"success":"basic"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.zoomKeysForm.get("accessToken").invalid&&t.zoomKeysForm.get("accessToken").touched),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("type",t.zoomShowSecret?"text":"password")("status",t.zoomKeysForm.get("secretToken").touched?t.zoomKeysForm.get("secretToken").invalid?"danger":"success":"basic"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("icon",t.zoomShowSecret?"eye-outline":"eye-off-2-outline"),c["\u0275\u0275attribute"]("aria-label",t.zoomShowSecret?"show secret":"hide secret"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.zoomKeysForm.get("secretToken").invalid&&t.zoomKeysForm.get("secretToken").touched),c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("formGroup",t.paymentGatewayKeysForm),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("status",t.paymentGatewayKeysForm.get("accessToken").touched?t.paymentGatewayKeysForm.get("accessToken").invalid?"danger":"success":"basic"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.paymentGatewayKeysForm.get("accessToken").invalid&&t.paymentGatewayKeysForm.get("accessToken").touched),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("type",t.paymentGatewayShowSecret?"text":"password")("status",t.paymentGatewayKeysForm.get("secretToken").touched?t.paymentGatewayKeysForm.get("secretToken").invalid?"danger":"success":"basic"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("icon",t.paymentGatewayShowSecret?"eye-outline":"eye-off-2-outline"),c["\u0275\u0275attribute"]("aria-label",t.paymentGatewayShowSecret?"show secret":"hide secret"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.paymentGatewayKeysForm.get("secretToken").invalid&&t.paymentGatewayKeysForm.get("secretToken").touched))},directives:[s.y,s.A,s.v,s.x,r.v,r.n,r.g,s.Q,r.a,r.m,r.e,o.n,s.L,s.yb,s.N],styles:[""]}),e})(),canActivate:[]},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let v=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[m.g.forChild(g)],m.g]}),e})(),f=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,a.a,r.s,s.B,s.Lb,s.P,s.R,s.w,s.Jb,s.M,v]]}),e})()}}]);
//# sourceMappingURL=222-es2015.c627750614c1c6887936.js.map