(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{cbBQ:function(e,t,n){"use strict";n.r(t),n.d(t,"ManageOnlineTestQuestionsModule",(function(){return f}));var i=n("aceb"),a=n("ofXK"),l=n("fXoL"),o=n("EQut"),s=n("RSY0"),r=n("gmaa"),m=n("tyNb");function d(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",9),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().addOnlineExamQuestion()})),l["\u0275\u0275text"](1," Add Question "),l["\u0275\u0275element"](2,"nb-icon",10),l["\u0275\u0275elementEnd"]()}}function c(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275elementStart"](4,"span"),l["\u0275\u0275text"](5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"td"),l["\u0275\u0275elementStart"](7,"button",17),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](3).editOnlineExamQuestion(n)})),l["\u0275\u0275text"](8," Edit "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"td"),l["\u0275\u0275elementStart"](10,"button",18),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit,i=t.index;return l["\u0275\u0275nextContext"](3).deleteOnlineExamQuestion(n._id,i)})),l["\u0275\u0275text"](11," Delete "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n+1),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.question.substring(0,15)+(e.question.length>15?"..":""))}}function u(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275elementStart"](1,"table",14),l["\u0275\u0275elementStart"](2,"thead"),l["\u0275\u0275elementStart"](3,"tr"),l["\u0275\u0275elementStart"](4,"th"),l["\u0275\u0275text"](5,"#"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"th"),l["\u0275\u0275text"](7,"Question"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th",15),l["\u0275\u0275text"](9,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"tbody"),l["\u0275\u0275template"](11,c,12,2,"tr",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](11),l["\u0275\u0275property"]("ngForOf",e.onlineExamQuestions)}}function h(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p",19),l["\u0275\u0275text"](1,"No Online Exams Available"),l["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,u,12,1,"div",11),l["\u0275\u0275template"](2,h,2,0,"ng-template",null,12,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=l["\u0275\u0275reference"](3),t=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.onlineExamQuestions.length>0)("ngIfElse",e)}}function x(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p",19),l["\u0275\u0275text"](1,"Loading..."),l["\u0275\u0275elementEnd"]())}const g=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a,l){this.branchService=e,this.toastrService=t,this.onlineExamService=n,this.onlineExamQuestionService=i,this.router=a,this.route=l}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.onlineExamQuestions=[],this.onlineExamService.getOnlineExamData().subscribe(e=>{this.onlineExam=e,e?this.onlineExamQuestionService.getOnlineExamQuestions(e._id).subscribe(e=>{this.onlineExamQuestions=e,this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1}):this.back()})):this.router.navigate(["../"],{relativeTo:this.route})}addOnlineExamQuestion(){this.router.navigate(["../add"],{relativeTo:this.route})}editOnlineExamQuestion(e){this.onlineExamQuestionService.setOnlineExamQuestionId(e._id),this.onlineExamQuestionService.setOnlineExamQuestionData(e),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}changeOnlineExamQuestionStatus(e,t,n){this.loading=!0,this.onlineExamQuestionService.changeOnlineExamQuestionStatus(e,t).subscribe(e=>{this.onlineExamQuestions[n].status=t,this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}deleteOnlineExamQuestion(e,t){this.loading=!0,this.onlineExamQuestionService.deleteOnlineExamQuestion(e).subscribe(e=>{this.onlineExamQuestions.splice(t,1),this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}back(){this.router.navigate(["../../manage"],{relativeTo:this.route})}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](i.Gb),l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](r.a),l["\u0275\u0275directiveInject"](m.c),l["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-manage-online-test-questions"]],decls:24,vars:5,consts:[[1,"row"],[1,"col-md-12"],["nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","size","small","fullWidth","","status","primary",3,"click",4,"ngIf"],[1,"body-container"],[4,"ngIf","ngIfElse"],["loadingData",""],["nbButton","","size","small","fullWidth","","status","primary",3,"click"],["icon","plus-circle-outline"],["class","table-responsive",4,"ngIf","ngIfElse"],["noBatches",""],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],["nbButton","","size","small","status","primary",3,"click"],["nbButton","","size","small","status","danger",3,"click"],[1,"text-center","pt-5","pb-5"]],template:function(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275elementStart"](2,"div",0),l["\u0275\u0275elementStart"](3,"div",1),l["\u0275\u0275elementStart"](4,"button",2),l["\u0275\u0275listener"]("click",(function(){return t.back()})),l["\u0275\u0275text"](5," Back "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"h3"),l["\u0275\u0275text"](7,"Online Exam Questions"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"nb-card"),l["\u0275\u0275elementStart"](9,"nb-card-header"),l["\u0275\u0275elementStart"](10,"div",0),l["\u0275\u0275elementStart"](11,"div",3),l["\u0275\u0275elementStart"](12,"h5"),l["\u0275\u0275text"](13),l["\u0275\u0275elementStart"](14,"small"),l["\u0275\u0275text"](15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"div",4),l["\u0275\u0275template"](17,d,3,0,"button",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"nb-card-body",6),l["\u0275\u0275elementStart"](19,"div",0),l["\u0275\u0275elementStart"](20,"div",1),l["\u0275\u0275template"](21,E,4,2,"ng-container",7),l["\u0275\u0275template"](22,x,2,0,"ng-template",null,8,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275reference"](23);l["\u0275\u0275advance"](13),l["\u0275\u0275textInterpolate1"](" Add ",t.onlineExam.totalQuestions-t.onlineExamQuestions.length," more Questions "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("of ",t.onlineExam.totalQuestions,""),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.onlineExamQuestions.length<=t.onlineExam.totalQuestions),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",e)}},directives:[i.y,i.A,i.v,a.n,i.x,i.N,a.m],styles:[""]}),e})()},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let p=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[m.g.forChild(g)],m.g]}),e})(),f=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,p,i.B,i.ob,i.w,i.P]]}),e})()}}]);
//# sourceMappingURL=91-es2015.45cb4f09f520e87cab3d.js.map