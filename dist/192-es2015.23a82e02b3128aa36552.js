(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{eXDF:function(e,t,r){"use strict";r.r(t);var n=r("AytR"),o=r("nwtg"),a=r("3Pt+"),s=r("fvxu"),l=r("5hth"),d=r("fXoL"),i=r("aceb"),m=r("ofXK");function p(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"h3"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"uppercase"),d["\u0275\u0275elementStart"](3,"small",26),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"uppercase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,e.profile.name)," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,e.profile.imsMasterId))}}function c(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"small",26),d["\u0275\u0275elementStart"](1,"em"),d["\u0275\u0275text"](2),d["\u0275\u0275pipe"](3,"lowercase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](3,1,e.profile.email))}}function u(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," User Name is required! "),d["\u0275\u0275elementEnd"]())}function h(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," User Name should contain minimum 5 characters "),d["\u0275\u0275elementEnd"]())}function g(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,u,2,0,"p",27),d["\u0275\u0275template"](2,h,2,0,"p",27),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.profileForm.get("name").errors?null:e.profileForm.get("name").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.profileForm.get("name").errors?null:e.profileForm.get("name").errors.minlength)}}function f(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," User phone is required! "),d["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," User phone should be 10 digits "),d["\u0275\u0275elementEnd"]())}function v(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,f,2,0,"p",27),d["\u0275\u0275template"](2,w,2,0,"p",27),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.profileForm.get("phone").errors?null:e.profileForm.get("phone").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",(null==e.profileForm.get("phone").errors?null:e.profileForm.get("phone").errors.minlength)||(null==e.profileForm.get("phone").errors?null:e.profileForm.get("phone").errors.maxlength)||(null==e.profileForm.get("phone").errors?null:e.profileForm.get("phone").errors.pattern)||(null==e.profileForm.get("phone").errors?null:e.profileForm.get("phone").errors.min)||(null==e.profileForm.get("phone").errors?null:e.profileForm.get("phone").errors.max))}}function P(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," User address is required! "),d["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," User address should be 10 characters "),d["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,P,2,0,"p",27),d["\u0275\u0275template"](2,S,2,0,"p",27),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.profileForm.get("address").errors?null:e.profileForm.get("address").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.profileForm.get("address").errors?null:e.profileForm.get("address").errors.minlength)}}function x(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," Old Password is required! "),d["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," Old Password should contain minimum 7 characters "),d["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,x,2,0,"p",27),d["\u0275\u0275template"](2,E,2,0,"p",27),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.changePasswordForm.get("oldPassword").errors?null:e.changePasswordForm.get("oldPassword").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.changePasswordForm.get("oldPassword").errors?null:e.changePasswordForm.get("oldPassword").errors.minlength)}}function b(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," Password is required! "),d["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," Password should contain minimum 7 characters "),d["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,b,2,0,"p",27),d["\u0275\u0275template"](2,I,2,0,"p",27),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.changePasswordForm.get("password").errors?null:e.changePasswordForm.get("password").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.changePasswordForm.get("password").errors?null:e.changePasswordForm.get("password").errors.minlength)}}function q(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," Password confirmation is required! "),d["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",28),d["\u0275\u0275text"](1," Password does not match the confirm password. "),d["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,q,2,0,"p",27),d["\u0275\u0275template"](2,N,2,0,"p",27),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.changePasswordForm.get("confirmPassword").errors?null:e.changePasswordForm.get("confirmPassword").errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("password").value!=e.changePasswordForm.get("confirmPassword").value&&!e.changePasswordForm.hasError("invalidConfirmPassword"))}}let T=(()=>{class e{constructor(e,t,r,n){this.userService=e,this.toastrService=t,this.authService=r,this.encryptService=n}ngOnInit(){this.loading=!0,this.profileForm=new a.f({name:new a.d(null,{validators:[a.u.required,a.u.minLength(5)]}),phone:new a.d(null,{validators:[a.u.required,a.u.minLength(10),a.u.maxLength(10),a.u.min(1e9),a.u.max(9999999999)]}),address:new a.d(null,{validators:[a.u.required,a.u.minLength(10)]})}),this.changePasswordForm=new a.f({oldPassword:new a.d(null,{validators:[a.u.required,a.u.minLength(7),a.u.maxLength(20)]}),password:new a.d(null,{validators:[a.u.required,a.u.minLength(7),a.u.maxLength(20)]}),confirmPassword:new a.d(null,{validators:[a.u.required,a.u.minLength(7),a.u.maxLength(20)]})},{validators:this.passwordValidator.bind(this)}),this.getProfile()}passwordValidator(e){return e.value.password!==e.value.confirmPassword?{invalidConfirmPassword:!0}:null}getProfile(){this.userService.getProfile().subscribe(e=>{this.profile=e,this.profileForm.patchValue({name:this.profile.name,phone:this.profile.phone,address:this.profile.address}),this.loading=!1},e=>{this.loading=!1})}saveProfile(){this.profileForm.markAllAsTouched(),this.profileForm.invalid?this.showToastr("top-right","danger","Fill Profile Details Correctly"):(this.loading=!0,this.userService.saveProfile(this.profileForm.value).subscribe(e=>{this.showToastr("top-right","success","Profile updated Successfully!"),this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1}))}changePassword(){if(this.changePasswordForm.markAllAsTouched(),this.changePasswordForm.invalid)return void this.showToastr("top-right","danger","Fill change Password Data Correctly");if(this.changePasswordForm.hasError("invalidPassword"))return void this.showToastr("top-right","danger","New Password and Confirm Password Does Noy Match");this.loading=!0;const e={email:this.authService.getUserData().email,password:this.encryptService.encrypt(this.changePasswordForm.value.oldPassword,n.a.encKey),newPassword:this.encryptService.encrypt(this.changePasswordForm.value.password,n.a.encKey)};this.userService.changePassword(e).subscribe(e=>{this.changePasswordForm.reset(),this.showToastr("top-right","success","Password Changed Successfully!"),this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,r){this.toastrService.show(t,r,{position:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](i.Db),d["\u0275\u0275directiveInject"](o.a),d["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-profile"]],decls:68,vars:16,consts:[[4,"ngIf"],[1,"row"],[1,"col-12"],["id","title",1,"title"],["class","float-right",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"sub-title"],[1,"col-md-6"],[1,"form-control-group"],["for","input-name",1,"label"],["type","text","nbInput","","id","input-name","name","name","formControlName","name","placeholder","User Name","minlength","5","maxlength","20","fullWidth","",3,"status"],["for","input-phone",1,"label"],["type","text","pattern","\\d*","nbInput","","id","input-phone","name","phone","formControlName","phone","placeholder","User phone","minlength","10","maxlength","10","min","1000000000","max","9999999999","fullWidth","",3,"status"],[1,"col-md-12"],["for","input-address",1,"label"],["type","text","nbInput","","id","input-address","name","address","formControlName","address","placeholder","User Address","rows","2","minlength","10","maxlength","150","fullWidth","",3,"status"],[1,"col-12","text-right"],["type","submit","nbButton","","status","primary"],[1,"col-md-4"],["for","input-old-password",1,"label"],["type","password","nbInput","","id","input-old-password","name","oldPassword","formControlName","oldPassword","placeholder","Old Password","minlength","7","maxlength","20","fullWidth","",3,"status"],["for","input-password",1,"label"],["type","password","nbInput","","id","input-password","name","password","formControlName","password","placeholder","Password","minlength","7","maxlength","20","fullWidth","",3,"status"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","formControlName","confirmPassword","placeholder","Confirm Password","minlength","5","maxlength","30","fullWidth","",3,"status"],[1,"col-md-12","text-right"],[1,"float-right"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"nb-card"),d["\u0275\u0275elementStart"](1,"nb-card-header"),d["\u0275\u0275template"](2,p,6,6,"h3",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"nb-card-body"),d["\u0275\u0275elementStart"](4,"div",1),d["\u0275\u0275elementStart"](5,"div",2),d["\u0275\u0275elementStart"](6,"h4",3),d["\u0275\u0275text"](7," User Profile "),d["\u0275\u0275template"](8,c,4,3,"small",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"form",5),d["\u0275\u0275listener"]("ngSubmit",(function(){return t.saveProfile()})),d["\u0275\u0275elementStart"](10,"p",6),d["\u0275\u0275text"](11,"Personal Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",1),d["\u0275\u0275elementStart"](13,"div",7),d["\u0275\u0275elementStart"](14,"div",8),d["\u0275\u0275elementStart"](15,"label",9),d["\u0275\u0275text"](16,"User Name:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"input",10),d["\u0275\u0275template"](18,g,3,2,"ng-container",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",7),d["\u0275\u0275elementStart"](20,"div",8),d["\u0275\u0275elementStart"](21,"label",11),d["\u0275\u0275text"](22,"User phone:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](23,"input",12),d["\u0275\u0275template"](24,v,3,2,"ng-container",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",13),d["\u0275\u0275elementStart"](26,"div",8),d["\u0275\u0275elementStart"](27,"label",14),d["\u0275\u0275text"](28,"User Address:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](29,"textarea",15),d["\u0275\u0275template"](30,F,3,2,"ng-container",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](31,"br"),d["\u0275\u0275elementStart"](32,"div",1),d["\u0275\u0275elementStart"](33,"div",16),d["\u0275\u0275elementStart"](34,"button",17),d["\u0275\u0275text"](35,"Save Profile"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](36,"hr"),d["\u0275\u0275elementStart"](37,"div",1),d["\u0275\u0275elementStart"](38,"div",13),d["\u0275\u0275elementStart"](39,"h4",3),d["\u0275\u0275text"](40,"Change password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](41,"p",6),d["\u0275\u0275text"](42,"Please set a new password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"form",5),d["\u0275\u0275listener"]("ngSubmit",(function(){return t.changePassword()})),d["\u0275\u0275elementStart"](44,"div",1),d["\u0275\u0275elementStart"](45,"div",18),d["\u0275\u0275elementStart"](46,"div",8),d["\u0275\u0275elementStart"](47,"label",19),d["\u0275\u0275text"](48,"Old Password:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](49,"input",20),d["\u0275\u0275template"](50,y,3,2,"ng-container",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](51,"div",18),d["\u0275\u0275elementStart"](52,"div",8),d["\u0275\u0275elementStart"](53,"label",21),d["\u0275\u0275text"](54,"Password:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](55,"input",22),d["\u0275\u0275template"](56,C,3,2,"ng-container",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](57,"div",18),d["\u0275\u0275elementStart"](58,"div",8),d["\u0275\u0275elementStart"](59,"label",23),d["\u0275\u0275text"](60,"Repeat password:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](61,"input",24),d["\u0275\u0275template"](62,U,3,2,"ng-container",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](63,"br"),d["\u0275\u0275elementStart"](64,"div",1),d["\u0275\u0275elementStart"](65,"div",25),d["\u0275\u0275elementStart"](66,"button",17),d["\u0275\u0275text"](67,"Change password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.profile),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngIf",t.profile),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.profileForm),d["\u0275\u0275advance"](8),d["\u0275\u0275property"]("status",t.profileForm.get("name").touched?t.profileForm.get("name").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.profileForm.get("name").invalid&&t.profileForm.get("name").touched),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("status",t.profileForm.get("phone").touched?t.profileForm.get("phone").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.profileForm.get("phone").invalid&&t.profileForm.get("phone").touched),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("status",t.profileForm.get("address").touched?t.profileForm.get("address").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.profileForm.get("address").invalid&&t.profileForm.get("address").touched),d["\u0275\u0275advance"](13),d["\u0275\u0275property"]("formGroup",t.changePasswordForm),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("status",t.changePasswordForm.get("oldPassword").touched?t.changePasswordForm.get("oldPassword").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.changePasswordForm.get("oldPassword").invalid&&t.changePasswordForm.get("oldPassword").touched),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("status",t.changePasswordForm.get("password").touched?t.changePasswordForm.get("password").invalid?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.changePasswordForm.get("password").invalid&&t.changePasswordForm.get("password").touched),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("status",t.changePasswordForm.get("confirmPassword").touched?t.changePasswordForm.get("confirmPassword").invalid||t.changePasswordForm.get("password").value!=t.changePasswordForm.get("confirmPassword").value?"danger":"success":"basic"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.changePasswordForm.get("confirmPassword").invalid&&t.changePasswordForm.get("confirmPassword").touched))},directives:[i.x,i.z,m.n,i.w,a.v,a.n,a.g,i.P,a.a,a.m,a.e,a.j,a.i,a.r,i.u],pipes:[m.v,m.k],styles:[""]}),e})();var L=r("tyNb");const j=[{path:"",component:T,canActivate:[]},{path:"page-not-found",loadChildren:()=>r.e(0).then(r.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let A=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[L.g.forChild(j)],L.g]}),e})();var D=r("vTDv");r.d(t,"ProfileModule",(function(){return M}));let M=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[m.c,A,D.a,a.s,i.A,i.Ib,i.O,i.Q,i.v,i.Gb]]}),e})()}}]);