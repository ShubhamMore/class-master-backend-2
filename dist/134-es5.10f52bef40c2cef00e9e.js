function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{iHL5:function(e,t,n){"use strict";n.r(t);var a=n("ofXK"),r=n("pjuo"),i=n("Pj/w"),l=n("EQut"),o=n("fXoL"),c=n("tyNb"),s=n("aceb");function m(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275pipe"](7,"uppercase"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"td"),o["\u0275\u0275elementStart"](9,"button",10),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](3).editBranchEmployee(e._id,e.employee)})),o["\u0275\u0275text"](10," Edit "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"button",11),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](3).branchEmployeeSalary(e)})),o["\u0275\u0275text"](12," Salary "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"button",12),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit,a=t.index;return o["\u0275\u0275nextContext"](3).changeBranchEmployeeStatus(e._id,!e.status,a)})),o["\u0275\u0275text"](14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,r=t.index;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](r+1),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](a.name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](7,5,a.role)),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("status",a.status?"danger":"warning"),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",a.status?"Deactivate":"Activate"," ")}}function d(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"table",8),o["\u0275\u0275elementStart"](2,"thead"),o["\u0275\u0275elementStart"](3,"tr"),o["\u0275\u0275elementStart"](4,"th"),o["\u0275\u0275text"](5,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"th"),o["\u0275\u0275text"](7,"Employee"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"th"),o["\u0275\u0275text"](9,"Role"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"th"),o["\u0275\u0275text"](11,"Action"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"tbody"),o["\u0275\u0275template"](13,m,15,7,"tr",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngForOf",n.branchEmployees)}}function p(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",13),o["\u0275\u0275text"](1,"No Employees Available"),o["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,d,14,1,"div",5),o["\u0275\u0275template"](2,p,2,0,"ng-template",null,6,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=o["\u0275\u0275reference"](3),a=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",a.branchEmployees.length>0)("ngIfElse",n)}}function h(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",13),o["\u0275\u0275text"](1,"Loading..."),o["\u0275\u0275elementEnd"]())}var f,v,y=[{path:"",component:(f=function(){function e(t,n,a,r,i){var l=this;_classCallCheck(this,e),this.branchService=t,this.employeeService=n,this.branchEmployeeService=a,this.router=r,this.route=i,this.route.queryParams.subscribe((function(e){l.ngOnInit()}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.route.queryParams.subscribe((function(t){e.type=t.type})),"active"===this.type||"inactive"===this.type?(this.employeeService.setEmployeeType(this.type),this.branchEmployees=[],this.branchEmployeeService.getBranchEmployeeNameIds(this.branchId,this.type).subscribe((function(t){e.branchEmployees=t,e.loading=!1}),(function(t){e.loading=!1}))):this.router.navigate(["../manage"],{relativeTo:this.route,queryParams:{type:"active"}})):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"editBranchEmployee",value:function(e,t){this.employeeService.setEmployeeId(t),this.branchEmployeeService.setBranchEmployeeId(e),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}},{key:"branchEmployeeSalary",value:function(e){this.branchEmployeeService.setBranchEmployeeData(e),this.router.navigate(["../salary"],{relativeTo:this.route})}},{key:"changeBranchEmployeeStatus",value:function(e,t,n){var a=this;this.branchEmployeeService.changeBranchEmployeeStatus(e,t).subscribe((function(e){a.branchEmployees.splice(n,1),a.loading=!1}),(function(e){a.loading=!1}))}}]),e}(),f.\u0275fac=function(e){return new(e||f)(o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](r.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](c.c),o["\u0275\u0275directiveInject"](c.a))},f.\u0275cmp=o["\u0275\u0275defineComponent"]({type:f,selectors:[["ngx-manage-employee"]],decls:13,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"body-container"],[4,"ngIf","ngIfElse"],["loadingData",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noBranchEmployees",""],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["nbButton","","status","basic","size","small",1,"mr-3",3,"click"],["nbButton","","status","success","size","small",1,"mr-3",3,"click"],["nbButton","","size","small",1,"",3,"status","click"],[1,"text-center"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275elementStart"](2,"div",0),o["\u0275\u0275elementStart"](3,"div",1),o["\u0275\u0275elementStart"](4,"h3"),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"uppercase"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"nb-card-body",2),o["\u0275\u0275elementStart"](8,"div",0),o["\u0275\u0275elementStart"](9,"div",1),o["\u0275\u0275template"](10,u,4,2,"ng-container",3),o["\u0275\u0275template"](11,h,2,0,"ng-template",null,4,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275reference"](12);o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind1"](6,3,t.type)," Employees"),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",n)}},directives:[s.x,s.z,s.w,a.n,a.m,s.u],pipes:[a.v],styles:[""]}),f)},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],E=((v=function e(){_classCallCheck(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)},imports:[[c.g.forChild(y)],c.g]}),v);n.d(t,"ManageEmployeeModule",(function(){return g}));var b,g=((b=function e(){_classCallCheck(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[a.c,E,s.A,s.v,s.O,s.Gb]]}),b)}}]);