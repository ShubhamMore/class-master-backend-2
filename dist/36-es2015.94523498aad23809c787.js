(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{iHL5:function(e,t,c){"use strict";c.r(t);var n=c("ofXK"),i=c("pjuo"),o=c("Pj/w"),s=c("EQut"),a=c("fXoL"),r=c("tyNb"),b=c("aceb");function l(e,t){if(1&e){const e=a.Xb();a.Wb(0,"tr"),a.Wb(1,"td"),a.Cc(2),a.Vb(),a.Wb(3,"td"),a.Cc(4),a.Vb(),a.Wb(5,"td"),a.Cc(6),a.hc(7,"uppercase"),a.Vb(),a.Wb(8,"td"),a.Wb(9,"button",10),a.ec("click",(function(){a.uc(e);const c=t.$implicit;return a.gc(3).editBranchEmployee(c._id,c.employee)})),a.Cc(10," Edit "),a.Vb(),a.Wb(11,"button",11),a.ec("click",(function(){a.uc(e);const c=t.$implicit;return a.gc(3).branchEmployeeSalary(c._id,c.employee)})),a.Cc(12," Salary "),a.Vb(),a.Wb(13,"button",12),a.ec("click",(function(){a.uc(e);const c=t.$implicit,n=t.index;return a.gc(3).changeBranchEmployeeStatus(c._id,!c.status,n)})),a.Cc(14),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit,c=t.index;a.Eb(2),a.Dc(c+1),a.Eb(2),a.Dc(e.employee),a.Eb(2),a.Dc(a.ic(7,5,e.role)),a.Eb(7),a.mc("status",e.status?"danger":"warning"),a.Eb(1),a.Ec(" ",e.status?"Deactivate":"Activate"," ")}}function h(e,t){if(1&e&&(a.Wb(0,"div",7),a.Wb(1,"table",8),a.Wb(2,"thead"),a.Wb(3,"tr"),a.Wb(4,"th"),a.Cc(5,"#"),a.Vb(),a.Wb(6,"th"),a.Cc(7,"Employee"),a.Vb(),a.Wb(8,"th"),a.Cc(9,"Role"),a.Vb(),a.Wb(10,"th"),a.Cc(11,"Action"),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"tbody"),a.Ac(13,l,15,7,"tr",9),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.gc(2);a.Eb(13),a.mc("ngForOf",e.branchEmployees)}}function p(e,t){1&e&&(a.Wb(0,"p",13),a.Cc(1,"No Employees Available"),a.Vb())}function u(e,t){if(1&e&&(a.Ub(0),a.Ac(1,h,14,1,"div",5),a.Ac(2,p,2,0,"ng-template",null,6,a.Bc),a.Tb()),2&e){const e=a.sc(3),t=a.gc();a.Eb(1),a.mc("ngIf",t.branchEmployees.length>0)("ngIfElse",e)}}function d(e,t){1&e&&(a.Wb(0,"p",13),a.Cc(1,"Loading..."),a.Vb())}const m=[{path:"",component:(()=>{class e{constructor(e,t,c,n,i,o){this.branchService=e,this.employeeService=t,this.branchEmployeeService=c,this.router=n,this.route=i,this.location=o,this.route.queryParams.subscribe(e=>{this.ngOnInit()})}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.route.queryParams.subscribe(e=>{this.type=e.type}),"active"===this.type||"inactive"===this.type?(this.branchEmployees=[],this.branchEmployeeService.getBranchEmployees(this.branchId,this.type).subscribe(e=>{this.branchEmployees=e,this.loading=!1},e=>{this.loading=!1})):this.router.navigate(["../page-not-found"],{relativeTo:this.route})):this.location.back()}editBranchEmployee(e,t){this.employeeService.setEmployeeId(t),this.branchEmployeeService.setBranchEmployeeId(e),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}branchEmployeeSalary(e,t){this.employeeService.setEmployeeId(t),this.branchEmployeeService.setBranchEmployeeId(e),this.router.navigate(["../salary"],{relativeTo:this.route})}changeBranchEmployeeStatus(e,t,c){this.branchEmployeeService.changeBranchEmployeeStatus(e,t).subscribe(e=>{this.branchEmployees.splice(c,1),this.loading=!1},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(s.a),a.Qb(i.a),a.Qb(o.a),a.Qb(r.c),a.Qb(r.a),a.Qb(n.i))},e.\u0275cmp=a.Kb({type:e,selectors:[["ngx-manage-employee"]],decls:13,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"body-container"],[4,"ngIf","ngIfElse"],["loadingData",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noBranchEmployees",""],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["nbButton","","status","basic","size","small",1,"mr-3",3,"click"],["nbButton","","status","success","size","small",1,"mr-3",3,"click"],["nbButton","","size","small",1,"",3,"status","click"],[1,"text-center"]],template:function(e,t){if(1&e&&(a.Wb(0,"nb-card"),a.Wb(1,"nb-card-header"),a.Wb(2,"div",0),a.Wb(3,"div",1),a.Wb(4,"h3"),a.Cc(5),a.hc(6,"uppercase"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(7,"nb-card-body",2),a.Wb(8,"div",0),a.Wb(9,"div",1),a.Ac(10,u,4,2,"ng-container",3),a.Ac(11,d,2,0,"ng-template",null,4,a.Bc),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.sc(12);a.Eb(5),a.Ec("",a.ic(6,3,t.type)," Employees"),a.Eb(5),a.mc("ngIf",!t.loading)("ngIfElse",e)}},directives:[b.r,b.s,b.q,n.n,n.m,b.o],pipes:[n.v],styles:[""]}),e})()},{path:"page-not-found",loadChildren:()=>c.e(0).then(c.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let y=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[r.g.forChild(m)],r.g]}),e})();c.d(t,"ManageEmployeeModule",(function(){return g}));let g=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[n.c,y,b.t,b.p,b.F,b.lb]]}),e})()}}]);