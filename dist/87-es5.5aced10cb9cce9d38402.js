function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function _createClass(i,e,n){return e&&_defineProperties(i.prototype,e),n&&_defineProperties(i,n),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{R7iH:function(i,e,n){"use strict";n.r(e);var t=n("3Pt+"),l=n("aceb"),r=n("ofXK"),a=n("EQut"),s=n("fDUG"),o=n("fXoL"),b=n("tyNb");function d(i,e){1&i&&(o.Wb(0,"p",19),o.Cc(1," User Name is required! "),o.Vb())}function c(i,e){1&i&&(o.Wb(0,"p",19),o.Cc(1," Company Name should contain minimum 5 characters "),o.Vb())}function u(i,e){if(1&i&&(o.Ub(0),o.Ac(1,d,2,0,"p",18),o.Ac(2,c,2,0,"p",18),o.Tb()),2&i){var n=o.gc();o.Eb(1),o.mc("ngIf",null==n.billingForm.get("name").errors?null:n.billingForm.get("name").errors.required),o.Eb(1),o.mc("ngIf",null==n.billingForm.get("name").errors?null:n.billingForm.get("name").errors.minlength)}}function g(i,e){1&i&&(o.Wb(0,"p",19),o.Cc(1," Company address is required! "),o.Vb())}function m(i,e){1&i&&(o.Wb(0,"p",19),o.Cc(1," Company address should be 10 characters "),o.Vb())}function h(i,e){if(1&i&&(o.Ub(0),o.Ac(1,g,2,0,"p",18),o.Ac(2,m,2,0,"p",18),o.Tb()),2&i){var n=o.gc();o.Eb(1),o.mc("ngIf",null==n.billingForm.get("address").errors?null:n.billingForm.get("address").errors.required),o.Eb(1),o.mc("ngIf",null==n.billingForm.get("address").errors?null:n.billingForm.get("address").errors.minlength)}}var p,f,v=[{path:"",component:(p=function(){function i(e,n,t,l,r){_classCallCheck(this,i),this.branchService=e,this.toastrService=n,this.billingService=t,this.router=l,this.route=r}return _createClass(i,[{key:"ngOnInit",value:function(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.billingForm=new t.f({name:new t.d(null,{validators:[t.u.required,t.u.minLength(5)]}),address:new t.d(null,{validators:[t.u.required,t.u.minLength(10)]}),gstNumber:new t.d(null,{validators:[]}),termsAndConditions:new t.d(null,{validators:[]})}),this.getBillingDetails()):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"getBillingDetails",value:function(){var i=this;this.billingService.getBillingDetails(this.branchId).subscribe((function(e){i.billingDetails=e,i.billingDetails&&i.billingForm.patchValue({name:i.billingDetails.name,address:i.billingDetails.address,gstNumber:i.billingDetails.gstNumber,termsAndConditions:i.billingDetails.termsAndConditions}),i.loading=!1}),(function(e){i.loading=!1}))}},{key:"saveBillingDetails",value:function(){var i=this;if(this.billingForm.markAllAsTouched(),this.billingForm.invalid)this.showToastr("top-right","danger","Fill Billing Details Correctly");else{this.loading=!0;var e=this.billingForm.value;e.branch=this.branchId,this.billingDetails&&(e._id=this.billingDetails._id),this.billingService.saveBillingDetails(e).subscribe((function(e){i.showToastr("top-right","success","Billing Details Updated Successfully!"),i.router.navigate(["../"],{relativeTo:i.route}),i.loading=!1}),(function(e){i.showToastr("top-right","danger",e),i.loading=!1}))}}},{key:"showToastr",value:function(i,e,n){this.toastrService.show(e,n,{position:i,status:e})}}]),i}(),p.\u0275fac=function(i){return new(i||p)(o.Qb(a.a),o.Qb(l.xb),o.Qb(s.a),o.Qb(b.c),o.Qb(b.a))},p.\u0275cmp=o.Kb({type:p,selectors:[["ngx-receipt-info"]],decls:36,vars:5,consts:[["id","title",1,"title"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-control-group"],["for","input-billing-name",1,"label"],["type","text","nbInput","","id","input-billing-name","name","name","formControlName","name","placeholder","Company Name","minlength","5","maxlength","30","fullWidth","",3,"status"],[4,"ngIf"],["for","input-gst-number",1,"label"],["type","text","nbInput","","id","input-gst-number","name","gstNumber","formControlName","gstNumber","placeholder","GST Number (Optional)","fullWidth",""],[1,"col-md-12"],["for","input-billing-address",1,"label"],["type","text","nbInput","","id","input-billing-address","name","address","formControlName","address","placeholder","Company Address","rows","2","minlength","10","maxlength","150","fullWidth","",3,"status"],["for","input-terms-conditions",1,"label"],["type","text","nbInput","","id","input-terms-conditions","name","termsAndConditions","formControlName","termsAndConditions","placeholder","Terms & Conditions (Optional)","rows","2","minlength","25","fullWidth",""],[1,"col-12","text-right"],["type","submit","nbButton","","status","primary","size","small"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(i,e){1&i&&(o.Wb(0,"nb-card"),o.Wb(1,"nb-card-header"),o.Wb(2,"h3",0),o.Cc(3,"Receipt Details"),o.Vb(),o.Vb(),o.Wb(4,"nb-card-body"),o.Wb(5,"div",1),o.Wb(6,"div",2),o.Wb(7,"form",3),o.ec("ngSubmit",(function(){return e.saveBillingDetails()})),o.Wb(8,"div",1),o.Wb(9,"div",4),o.Wb(10,"div",5),o.Wb(11,"label",6),o.Cc(12,"Company Name:"),o.Vb(),o.Rb(13,"input",7),o.Ac(14,u,3,2,"ng-container",8),o.Vb(),o.Vb(),o.Wb(15,"div",4),o.Wb(16,"div",5),o.Wb(17,"label",9),o.Cc(18,"GST Number:"),o.Vb(),o.Rb(19,"input",10),o.Vb(),o.Vb(),o.Wb(20,"div",11),o.Wb(21,"div",5),o.Wb(22,"label",12),o.Cc(23,"Company Address:"),o.Vb(),o.Rb(24,"textarea",13),o.Ac(25,h,3,2,"ng-container",8),o.Vb(),o.Vb(),o.Wb(26,"div",11),o.Wb(27,"div",5),o.Wb(28,"label",14),o.Cc(29,"Terms & Conditions:"),o.Vb(),o.Rb(30,"textarea",15),o.Vb(),o.Vb(),o.Vb(),o.Rb(31,"br"),o.Wb(32,"div",1),o.Wb(33,"div",16),o.Wb(34,"button",17),o.Cc(35,"Save"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&i&&(o.Eb(7),o.mc("formGroup",e.billingForm),o.Eb(6),o.mc("status",e.billingForm.get("name").touched?e.billingForm.get("name").invalid?"danger":"success":"basic"),o.Eb(1),o.mc("ngIf",e.billingForm.get("name").invalid&&e.billingForm.get("name").touched),o.Eb(10),o.mc("status",e.billingForm.get("address").touched?e.billingForm.get("address").invalid?"danger":"success":"basic"),o.Eb(1),o.mc("ngIf",e.billingForm.get("address").invalid&&e.billingForm.get("address").touched))},directives:[l.x,l.z,l.w,t.v,t.n,t.g,l.O,t.a,t.m,t.e,t.j,t.i,r.n,l.u],styles:[""]}),p)},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(i){return i.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],C=((f=function i(){_classCallCheck(this,i)}).\u0275mod=o.Ob({type:f}),f.\u0275inj=o.Nb({factory:function(i){return new(i||f)},imports:[[b.g.forChild(v)],b.g]}),f);n.d(e,"ReceiptInfoModule",(function(){return W}));var y,W=((y=function i(){_classCallCheck(this,i)}).\u0275mod=o.Ob({type:y}),y.\u0275inj=o.Nb({factory:function(i){return new(i||y)},imports:[[r.c,C,l.P,l.v,l.A,t.s]]}),y)}}]);