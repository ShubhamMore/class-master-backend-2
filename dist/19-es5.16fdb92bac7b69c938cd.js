function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{QTuy:function(e,t,n){"use strict";n.r(t);var a=n("3Pt+"),l=n("aceb"),r=n("ofXK"),o=n("IAlr"),s=n("lst6"),u=n("W14u"),i=n("ZatZ"),d=n("JmRu"),m=n("EQut"),c=n("qsE9"),p=n("no5z"),h=n("5V5q"),g=n("fXoL"),v=n("tyNb"),C=["stepper"];function f(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"nb-option",67),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n._id),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](n.basicDetails.courseName)}}function S(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Student Course is required! "),g["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,S,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("course").errors?null:n.studentCourseForm.get("course").errors.required)}}function I(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"nb-option",67),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n._id),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](n.basicDetails.batchName)}}function F(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Student Batch is required! "),g["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,F,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("batch").errors?null:n.studentCourseForm.get("batch").errors.required)}}function y(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Roll Number is required! "),g["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Roll Number should be greater than 0 "),g["\u0275\u0275elementEnd"]())}function A(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," This roll number already Exist! "),g["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,y,2,0,"p",68),g["\u0275\u0275template"](2,E,2,0,"p",68),g["\u0275\u0275template"](3,A,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("rollNumber").errors?null:n.studentCourseForm.get("rollNumber").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("rollNumber").errors?null:n.studentCourseForm.get("rollNumber").errors.min),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.rollNumberAlreadyExist)}}function D(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"nb-option",67),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("value",n._id),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](a.getDiscount(n._id))}}function N(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"nb-option",67),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](2,2,n))}}function P(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Discount Amount should be more than or equal to 0 "),g["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Discount Percentage should be between 0% to 100% "),g["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,P,2,0,"p",68),g["\u0275\u0275template"](2,T,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("additionalDiscountAmount").errors?null:n.studentCourseForm.get("additionalDiscountAmount").errors.min),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.studentCourseForm.hasError("invalidDiscountPercentage"))}}function k(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Activation date is required "),g["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,k,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("activationDate").errors?null:n.studentCourseForm.get("activationDate").errors.required)}}function O(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Net Payable Amount is Required "),g["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Net Payable Amount should be greater than 0 "),g["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,O,2,0,"p",68),g["\u0275\u0275template"](2,q,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("netPayable").errors?null:n.studentCourseForm.get("netPayable").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("netPayable").errors?null:n.studentCourseForm.get("netPayable").errors.min)}}function _(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Date is required "),g["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,_,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("date").errors?null:n.studentCourseFeeForm.get("date").errors.required)}}function W(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Student Course is required! "),g["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,W,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("installmentType").errors?null:n.studentCourseFeeForm.get("installmentType").errors.required)}}function $(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Number of Installments are Required "),g["\u0275\u0275elementEnd"]())}function G(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Number of Installments should be greater than 0 "),g["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,$,2,0,"p",68),g["\u0275\u0275template"](2,G,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("noOfInstallments").errors?null:n.studentCourseFeeForm.get("noOfInstallments").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("noOfInstallments").errors?null:n.studentCourseFeeForm.get("noOfInstallments").errors.min)}}function z(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Pending Amount is Required "),g["\u0275\u0275elementEnd"]())}function J(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Pending Amount should be greater than 0 "),g["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,z,2,0,"p",68),g["\u0275\u0275template"](2,J,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("pendingAmount").errors?null:n.studentCourseFeeForm.get("pendingAmount").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("pendingAmount").errors?null:n.studentCourseFeeForm.get("pendingAmount").errors.min)}}function X(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Collected Amount is Required "),g["\u0275\u0275elementEnd"]())}function Z(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Collected Amount should be greater than 0 "),g["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,X,2,0,"p",68),g["\u0275\u0275template"](2,Z,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("amountCollected").errors?null:n.studentCourseFeeForm.get("amountCollected").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("amountCollected").errors?null:n.studentCourseFeeForm.get("amountCollected").errors.min)}}function U(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Total Amount is Required "),g["\u0275\u0275elementEnd"]())}function H(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1," Total Amount should be greater than 0 "),g["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,U,2,0,"p",68),g["\u0275\u0275template"](2,H,2,0,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("totalAmount").errors?null:n.studentCourseFeeForm.get("totalAmount").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("totalAmount").errors?null:n.studentCourseFeeForm.get("totalAmount").errors.min)}}function ee(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" Installment ",n+1," Date is required ")}}function te(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,ee,2,1,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.get("installmentDate").errors?null:n.get("installmentDate").errors.required)}}function ne(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" Installment ",n+1," Amount is Required ")}}function ae(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index,a=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate2"](" Installment ",n+1," Amount should be Minimum ",a.getMinInstallmentAmount(n)," ")}}function le(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index,a=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate2"](" Installment ",n+1," Amount should be Maximum ",a.getMaxInstallmentAmount(n)," ")}}function re(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,ne,2,1,"p",68),g["\u0275\u0275template"](2,ae,2,2,"p",68),g["\u0275\u0275template"](3,le,2,2,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.get("installmentAmount").errors?null:n.get("installmentAmount").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.hasError("invalidMinInstallmentAmount")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.hasError("invalidMaxInstallmentAmount"))}}function oe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" Installment ",n+1," Pending Amount is Required ")}}function se(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index,a=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate2"](" Installment ",n+1," Pending Amount should be Minimum ",a.getMinInstallmentPendingAmount(n)," ")}}function ue(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"p",69),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2).index,a=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate2"](" Installment ",n+1," Pending Amount should be Maximum ",a.getMaxInstallmentPendingAmount(n)," ")}}function ie(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,oe,2,1,"p",68),g["\u0275\u0275template"](2,se,2,2,"p",68),g["\u0275\u0275template"](3,ue,2,2,"p",68),g["\u0275\u0275elementContainerEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",null==n.get("amountPending").errors?null:n.get("amountPending").errors.required),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.hasError("invalidMinInstallmentPendingAmount")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.hasError("invalidMaxInstallmentPendingAmount"))}}function de(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",70),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"td"),g["\u0275\u0275elementStart"](5,"div",9),g["\u0275\u0275element"](6,"input",71),g["\u0275\u0275template"](7,te,2,1,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"td"),g["\u0275\u0275elementStart"](9,"div",9),g["\u0275\u0275elementStart"](10,"input",72),g["\u0275\u0275listener"]("input",(function(e){g["\u0275\u0275restoreView"](n);var a=t.index;return g["\u0275\u0275nextContext"](3).customInstallmentAmount(e.target.value,a)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](11,re,4,3,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](12,"td"),g["\u0275\u0275elementStart"](13,"div",9),g["\u0275\u0275element"](14,"input",73),g["\u0275\u0275template"](15,ie,4,3,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.$implicit,l=t.index,r=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("formGroup",a),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("Installment ",a.value.installmentNo,""),g["\u0275\u0275advance"](3),g["\u0275\u0275propertyInterpolate1"]("id","input-installmentDate-",l,""),g["\u0275\u0275propertyInterpolate1"]("name","installmentDate-",l,""),g["\u0275\u0275property"]("min",r.getMinInstallmentDate(l))("max",r.getMaxInstallmentDate(l))("status",a.get("installmentDate").touched?a.get("installmentDate").invalid?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",a.get("installmentDate").touched&&a.get("installmentDate").invalid),g["\u0275\u0275advance"](3),g["\u0275\u0275propertyInterpolate1"]("id","input-installmentAmount-",l,""),g["\u0275\u0275propertyInterpolate1"]("name","installmentAmount-",l,""),g["\u0275\u0275property"]("min",r.getMinInstallmentAmount(l))("max",r.getMaxInstallmentAmount(l))("status",a.get("installmentAmount").touched?a.get("installmentAmount").invalid||a.hasError("invalidMinInstallmentAmount")||a.hasError("invalidMaxInstallmentAmount")?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",a.get("installmentAmount").touched),g["\u0275\u0275advance"](3),g["\u0275\u0275propertyInterpolate1"]("id","input-amountPending-",l,""),g["\u0275\u0275propertyInterpolate1"]("name","amountPending-",l,""),g["\u0275\u0275property"]("min",r.getMinInstallmentPendingAmount(l))("max",r.getMaxInstallmentPendingAmount(l))("status",a.get("amountPending").touched?a.get("amountPending").invalid||a.hasError("invalidMinInstallmentPendingAmount")||a.hasError("invalidMaxInstallmentPendingAmount")?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",a.get("amountPending").touched)}}function me(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",61),g["\u0275\u0275elementStart"](1,"table",62),g["\u0275\u0275elementStart"](2,"thead"),g["\u0275\u0275elementStart"](3,"tr"),g["\u0275\u0275elementStart"](4,"th"),g["\u0275\u0275text"](5,"Installment Number"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"th"),g["\u0275\u0275text"](7,"Installment Date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9,"Installment Amount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"th"),g["\u0275\u0275text"](11,"Pending Amount after This Installment"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](12,"tbody"),g["\u0275\u0275template"](13,de,16,20,"ng-container",65),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](13),g["\u0275\u0275property"]("ngForOf",n.studentCourseInstallmentForm.get("installments").controls)}}function ce(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"p",74),g["\u0275\u0275text"](1," No Installments "),g["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tr"),g["\u0275\u0275elementStart"](1,"td"),g["\u0275\u0275text"](2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"td"),g["\u0275\u0275text"](4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"td"),g["\u0275\u0275text"](6),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"td"),g["\u0275\u0275text"](8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("Installment ",n.value.installmentNo,""),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",a.dateService.formatDate(n.value.installmentDate)," "),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](n.value.installmentAmount),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](n.value.amountPending)}}function he(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"nb-card"),g["\u0275\u0275elementStart"](1,"nb-card-header"),g["\u0275\u0275elementStart"](2,"button",1),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().back()})),g["\u0275\u0275text"](3," Back "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"h3",2),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"nb-card-body"),g["\u0275\u0275elementStart"](7,"nb-stepper",3,4),g["\u0275\u0275elementStart"](9,"nb-step",5),g["\u0275\u0275elementStart"](10,"form",6),g["\u0275\u0275listener"]("submit",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().studentCourseFormSubmit()})),g["\u0275\u0275elementStart"](11,"div",7),g["\u0275\u0275elementStart"](12,"div",8),g["\u0275\u0275elementStart"](13,"div",9),g["\u0275\u0275elementStart"](14,"label",10),g["\u0275\u0275text"](15,"Course:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"nb-select",11),g["\u0275\u0275listener"]("selectedChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().onSelectCourse(e)})),g["\u0275\u0275elementStart"](17,"nb-option",12),g["\u0275\u0275text"](18,"Select Course"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](19,f,2,2,"nb-option",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,b,2,1,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",8),g["\u0275\u0275elementStart"](22,"div",9),g["\u0275\u0275elementStart"](23,"label",14),g["\u0275\u0275text"](24,"Batch:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"nb-select",15),g["\u0275\u0275listener"]("selectedChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().onSelectBatch(e)})),g["\u0275\u0275elementStart"](26,"nb-option",12),g["\u0275\u0275text"](27,"Select Batch"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,I,2,2,"nb-option",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](29,x,2,1,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"div",8),g["\u0275\u0275elementStart"](31,"div",9),g["\u0275\u0275elementStart"](32,"label",16),g["\u0275\u0275text"](33,"Roll Number:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"input",17),g["\u0275\u0275listener"]("input",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().checkRollNumber()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,w,4,3,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"div",8),g["\u0275\u0275elementStart"](37,"div",9),g["\u0275\u0275elementStart"](38,"label",18),g["\u0275\u0275text"](39,"Discount/Offer:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"nb-select",19),g["\u0275\u0275listener"]("selectedChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().onSelectDiscount(e)})),g["\u0275\u0275elementStart"](41,"nb-option",12),g["\u0275\u0275text"](42,"Select Discount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](43,D,2,2,"nb-option",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",8),g["\u0275\u0275elementStart"](45,"div",9),g["\u0275\u0275elementStart"](46,"label",20),g["\u0275\u0275text"](47,"Additional Discount Type:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"nb-select",21),g["\u0275\u0275listener"]("selectedChange",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().changeAdditionalDiscountType()})),g["\u0275\u0275template"](49,N,3,4,"nb-option",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"div",8),g["\u0275\u0275elementStart"](51,"div",9),g["\u0275\u0275elementStart"](52,"label",22),g["\u0275\u0275text"](53,"Additional Discount Amount:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"input",23),g["\u0275\u0275listener"]("input",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().onAdditionalDiscountAmount(e.target.value)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](55,V,3,2,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"div",24),g["\u0275\u0275elementStart"](57,"div",9),g["\u0275\u0275elementStart"](58,"label",25),g["\u0275\u0275text"](59,"Activation Date:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](60,"input",26),g["\u0275\u0275template"](61,R,2,1,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](62,"div",24),g["\u0275\u0275elementStart"](63,"div",9),g["\u0275\u0275elementStart"](64,"label",27),g["\u0275\u0275text"](65,"Net Payable:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](66,"input",28),g["\u0275\u0275template"](67,M,3,2,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](68,"hr"),g["\u0275\u0275elementStart"](69,"div",7),g["\u0275\u0275elementStart"](70,"div",29),g["\u0275\u0275elementStart"](71,"button",30),g["\u0275\u0275elementStart"](72,"span"),g["\u0275\u0275text"](73,"Next"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](74,"nb-icon",31),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](75,"nb-step",32),g["\u0275\u0275elementStart"](76,"form",33),g["\u0275\u0275listener"]("ngSubmit",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().studentCourseFeeFormSubmit()})),g["\u0275\u0275elementStart"](77,"div",7),g["\u0275\u0275elementStart"](78,"div",8),g["\u0275\u0275elementStart"](79,"div",9),g["\u0275\u0275elementStart"](80,"label",34),g["\u0275\u0275text"](81,"Date:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](82,"input",35),g["\u0275\u0275template"](83,B,2,1,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](84,"div",8),g["\u0275\u0275elementStart"](85,"div",9),g["\u0275\u0275elementStart"](86,"label",36),g["\u0275\u0275text"](87,"Installment Type:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](88,"nb-select",37),g["\u0275\u0275listener"]("selectedChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().onSelectInstallmentType(e)})),g["\u0275\u0275elementStart"](89,"nb-option",38),g["\u0275\u0275text"](90,"Pay Once"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](91,"nb-option",39),g["\u0275\u0275text"](92,"Pay Twice"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](93,"nb-option",40),g["\u0275\u0275text"](94,"Pay Quarterly"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"nb-option",41),g["\u0275\u0275text"](96,"Pay Monthly"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](97,"nb-option",42),g["\u0275\u0275text"](98,"Pay Custom"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](99,j,2,1,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](100,"div",8),g["\u0275\u0275elementStart"](101,"div",9),g["\u0275\u0275elementStart"](102,"label",43),g["\u0275\u0275text"](103,"Number of Installments:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](104,"input",44),g["\u0275\u0275listener"]("input",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().generateNoOfInstallments(e.target.value)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](105,Q,3,2,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](106,"div",8),g["\u0275\u0275elementStart"](107,"div",9),g["\u0275\u0275elementStart"](108,"label",45),g["\u0275\u0275text"](109,"Pending Amount:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](110,"input",46),g["\u0275\u0275template"](111,L,3,2,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](112,"div",8),g["\u0275\u0275elementStart"](113,"div",9),g["\u0275\u0275elementStart"](114,"label",47),g["\u0275\u0275text"](115,"Amount Collected:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](116,"input",48),g["\u0275\u0275template"](117,K,3,2,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](118,"div",8),g["\u0275\u0275elementStart"](119,"div",9),g["\u0275\u0275elementStart"](120,"label",49),g["\u0275\u0275text"](121,"Total Payable Amount:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](122,"input",50),g["\u0275\u0275template"](123,Y,3,2,"ng-container",0),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](124,"hr"),g["\u0275\u0275elementStart"](125,"div",7),g["\u0275\u0275elementStart"](126,"div",51),g["\u0275\u0275elementStart"](127,"button",52),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().previousStep()})),g["\u0275\u0275element"](128,"nb-icon",53),g["\u0275\u0275elementStart"](129,"span"),g["\u0275\u0275text"](130,"prev"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](131,"div",54),g["\u0275\u0275elementStart"](132,"button",30),g["\u0275\u0275elementStart"](133,"span"),g["\u0275\u0275text"](134,"Next"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](135,"nb-icon",31),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](136,"nb-step",55),g["\u0275\u0275elementStart"](137,"form",33),g["\u0275\u0275listener"]("ngSubmit",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().studentCourseInstallmentFormSubmit()})),g["\u0275\u0275elementStart"](138,"div",7),g["\u0275\u0275elementStart"](139,"div",56),g["\u0275\u0275template"](140,me,14,1,"div",57),g["\u0275\u0275template"](141,ce,2,0,"ng-template",null,58,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](143,"hr"),g["\u0275\u0275elementStart"](144,"div",7),g["\u0275\u0275elementStart"](145,"div",51),g["\u0275\u0275elementStart"](146,"button",52),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().previousStep()})),g["\u0275\u0275element"](147,"nb-icon",53),g["\u0275\u0275elementStart"](148,"span"),g["\u0275\u0275text"](149,"prev"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](150,"div",54),g["\u0275\u0275elementStart"](151,"button",30),g["\u0275\u0275elementStart"](152,"span"),g["\u0275\u0275text"](153,"Next"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](154,"nb-icon",31),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](155,"nb-step",59),g["\u0275\u0275elementStart"](156,"div",60),g["\u0275\u0275elementStart"](157,"div",61),g["\u0275\u0275elementStart"](158,"table",62),g["\u0275\u0275elementStart"](159,"tbody"),g["\u0275\u0275elementStart"](160,"tr"),g["\u0275\u0275elementStart"](161,"th",63),g["\u0275\u0275text"](162,"Course Details"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](163,"tr"),g["\u0275\u0275elementStart"](164,"th"),g["\u0275\u0275text"](165,"Course"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](166,"td"),g["\u0275\u0275text"](167),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](168,"tr"),g["\u0275\u0275elementStart"](169,"th"),g["\u0275\u0275text"](170,"Batch"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](171,"td"),g["\u0275\u0275text"](172),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](173,"tr"),g["\u0275\u0275elementStart"](174,"th"),g["\u0275\u0275text"](175,"Roll Number"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](176,"td"),g["\u0275\u0275text"](177),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](178,"tr"),g["\u0275\u0275elementStart"](179,"th"),g["\u0275\u0275text"](180,"Discount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](181,"td"),g["\u0275\u0275text"](182),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](183,"tr"),g["\u0275\u0275elementStart"](184,"th"),g["\u0275\u0275text"](185,"Additional Discount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](186,"td"),g["\u0275\u0275text"](187),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](188,"tr"),g["\u0275\u0275elementStart"](189,"th"),g["\u0275\u0275text"](190,"Net Payable"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](191,"td"),g["\u0275\u0275text"](192),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](193,"tr"),g["\u0275\u0275elementStart"](194,"th"),g["\u0275\u0275text"](195,"Activation Date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](196,"td"),g["\u0275\u0275text"](197),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](198,"tr"),g["\u0275\u0275elementStart"](199,"th",63),g["\u0275\u0275text"](200,"Course Fee Details"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](201,"tr"),g["\u0275\u0275elementStart"](202,"th"),g["\u0275\u0275text"](203,"Date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](204,"td"),g["\u0275\u0275text"](205),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](206,"tr"),g["\u0275\u0275elementStart"](207,"th"),g["\u0275\u0275text"](208,"Number of Installments"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](209,"td"),g["\u0275\u0275text"](210),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](211,"tr"),g["\u0275\u0275elementStart"](212,"th"),g["\u0275\u0275text"](213,"Amount Collected"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](214,"td"),g["\u0275\u0275text"](215),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](216,"tr"),g["\u0275\u0275elementStart"](217,"th"),g["\u0275\u0275text"](218,"Pending Amount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](219,"td"),g["\u0275\u0275text"](220),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](221,"tr"),g["\u0275\u0275elementStart"](222,"th"),g["\u0275\u0275text"](223,"Total Payable Amount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](224,"td"),g["\u0275\u0275text"](225),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](226,"tr"),g["\u0275\u0275elementStart"](227,"th",63),g["\u0275\u0275text"](228,"Installment Details"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](229,"tr"),g["\u0275\u0275elementStart"](230,"td",63),g["\u0275\u0275elementStart"](231,"div",61),g["\u0275\u0275elementStart"](232,"table",64),g["\u0275\u0275elementStart"](233,"thead"),g["\u0275\u0275elementStart"](234,"tr"),g["\u0275\u0275elementStart"](235,"th"),g["\u0275\u0275text"](236,"Installment No."),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](237,"th"),g["\u0275\u0275text"](238,"Installment Date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](239,"th"),g["\u0275\u0275text"](240,"Installment Amount"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](241,"th"),g["\u0275\u0275text"](242,"Pending Amount after Installment"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](243,"tbody"),g["\u0275\u0275template"](244,pe,9,4,"tr",65),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](245,"hr"),g["\u0275\u0275elementStart"](246,"div",7),g["\u0275\u0275elementStart"](247,"div",51),g["\u0275\u0275elementStart"](248,"button",52),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().previousStep()})),g["\u0275\u0275element"](249,"nb-icon",53),g["\u0275\u0275elementStart"](250,"span"),g["\u0275\u0275text"](251,"prev"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](252,"div",54),g["\u0275\u0275elementStart"](253,"button",66),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().saveStudentCourse()})),g["\u0275\u0275elementStart"](254,"span"),g["\u0275\u0275text"](255,"Submit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275reference"](142),l=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",l.studentCourse?"Edit Student Course":"New Student Course"," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("linear",!0)("disableStepNavigation",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("stepControl",l.studentCourseForm),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("formGroup",l.studentCourseForm),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("status",l.studentCourseForm.get("course").touched?l.studentCourseForm.get("course").invalid?"danger":"success":"basic"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",l.courses),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("course").invalid&&l.studentCourseForm.get("course").touched),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseForm.get("batch").touched?l.studentCourseForm.get("batch").invalid?"danger":"success":"basic"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",l.courseBatches),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("batch").invalid&&l.studentCourseForm.get("batch").touched),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseForm.get("rollNumber").touched?l.studentCourseForm.get("rollNumber").invalid||l.rollNumberAlreadyExist?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",(l.studentCourseForm.get("rollNumber").invalid||l.rollNumberAlreadyExist)&&l.studentCourseForm.get("rollNumber").touched),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("ngForOf",l.discounts),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("selected",l.discountTypes.length>0?l.discountTypes[0]:""),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",l.discountTypes),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseForm.get("additionalDiscountAmount").touched?l.studentCourseForm.get("additionalDiscountAmount").invalid||l.studentCourseForm.hasError("invalidDiscountPercentage")?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("additionalDiscountAmount").touched),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseForm.get("activationDate").invalid?"danger":"success"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("activationDate").invalid),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseForm.get("netPayable").touched?l.studentCourseForm.get("netPayable").invalid?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("netPayable").invalid&&l.studentCourseForm.get("netPayable").touched),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("stepControl",l.studentCourseFeeForm),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("formGroup",l.studentCourseFeeForm),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("date").invalid?"danger":"success"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("date").invalid),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("installmentType").touched?l.studentCourseFeeForm.get("installmentType").invalid?"danger":"success":"basic"),g["\u0275\u0275advance"](11),g["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("installmentType").invalid&&l.studentCourseFeeForm.get("installmentType").touched),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("noOfInstallments").touched?l.studentCourseFeeForm.get("noOfInstallments").invalid?"danger":"success":"basic"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("noOfInstallments").invalid&&l.studentCourseFeeForm.get("noOfInstallments").touched),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("pendingAmount").invalid?"danger":"success"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("pendingAmount").invalid),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("amountCollected").invalid?"danger":"success"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("amountCollected").invalid),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("totalAmount").invalid?"danger":"success"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("totalAmount").invalid),g["\u0275\u0275advance"](13),g["\u0275\u0275property"]("stepControl",l.studentCourseInstallmentForm),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("formGroup",l.studentCourseInstallmentForm),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",!!l.getNoOfInstallments()&&l.studentCourseInstallmentForm.get("installments").controls.length>0)("ngIfElse",a),g["\u0275\u0275advance"](27),g["\u0275\u0275textInterpolate"](l.getCourse(l.studentCourseForm.value.course)),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.getBatch(l.studentCourseForm.value.batch)),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.studentCourseForm.value.rollNumber),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.getDiscount(l.studentCourseForm.value.discount)),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",l.studentCourseForm.value.additionalDiscountAmount?l.studentCourseForm.value.additionalDiscountAmount+("percentage"===l.studentCourseForm.value.additionalDiscountType?"%":""):"--"," "),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.studentCourseForm.value.netPayable),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.dateService.formatDate(l.studentCourseForm.value.activationDate)),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](l.dateService.formatDate(l.studentCourseFeeForm.value.date)),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.getRawValue().noOfInstallments),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.value.amountCollected),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.value.pendingAmount),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.value.totalAmount),g["\u0275\u0275advance"](19),g["\u0275\u0275property"]("ngForOf",l.studentCourseInstallmentForm.get("installments").controls)}}var ge,ve,Ce=[{path:"",component:(ge=function(){function e(t,n,a,l,r,o,s,u,i,d,m){_classCallCheck(this,e),this.dateService=t,this.toastrService=n,this.branchService=a,this.courseService=l,this.batchService=r,this.discountAndOfferService=o,this.studentService=s,this.studentCourseService=u,this.studentCourseInstallmentService=i,this.router=d,this.route=m}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=this;if(this.loading=!0,this.branchId=this.branchService.getBranchId(),this.categoryId=this.branchService.getCategoryId(),this.studentId=this.studentService.getStudentId(),this.branchId||this.categoryId||this.studentId)return this.studentCourseId=this.studentCourseService.getStudentCourseId(),this.route.queryParams.subscribe((function(t){e=t.mode})),e&&"edit"!==e?(this.showToastr("top-right","danger","Invalid Route"),void this.router.navigate(["../page-not-found"],{relativeTo:this.route})):e&&!this.studentCourseId?(this.showToastr("top-right","danger","Student Course Not Found"),void this.router.navigate(["../page-not-found"],{relativeTo:this.route})):(this.discounts=[],this.courses=[],this.batches=[],this.courseBatches=[],this.discountTypes=[],this.rollNumberAlreadyExist=!1,this.courseService.getCoursesData().subscribe((function(e){t.courses=e})),this.batchService.getBatchesData().subscribe((function(e){t.batches=e})),this.discountAndOfferService.getDiscountAndOffersData().subscribe((function(e){t.discounts=e})),this.discountTypes=this.discountAndOfferService.getDiscountTypes(),this.studentCourseForm=new a.f({course:new a.d("",{validators:[a.u.required]}),batch:new a.d("",{validators:[a.u.required]}),rollNumber:new a.d(null,{validators:[a.u.required,a.u.min(1)]}),discount:new a.d("",{validators:[]}),additionalDiscountType:new a.d(this.discountTypes.length>0?this.discountTypes[0]:"",{validators:[]}),additionalDiscountAmount:new a.d(0,{validators:[a.u.min(0)]}),activationDate:new a.d(this.dateService.getDateString(),{validators:[a.u.required]}),netPayable:new a.d(0,{validators:[a.u.required]})},{validators:this.discountPercentageValidator.bind(this)}),this.studentCourseFeeForm=new a.f({installmentType:new a.d("0",{validators:[a.u.required]}),date:new a.d(this.dateService.getDateString(),{validators:[a.u.required]}),noOfInstallments:new a.d(1,{validators:[a.u.required,a.u.min(1)]}),pendingAmount:new a.d(0,{validators:[a.u.required,a.u.min(0)]}),amountCollected:new a.d(0,{validators:[a.u.required,a.u.min(0)]}),totalAmount:new a.d(0,{validators:[a.u.required,a.u.min(0)]})}),this.studentCourseInstallmentForm=new a.f({installments:new a.b([])}),void(e&&this.studentId&&this.studentCourseId?this.studentCourseService.getStudentCourseForEditing(this.studentCourseId).subscribe((function(e){t.studentCourse=e.studentCourse,t.studentCourseInstallment=e.studentCourseInstallment,t.studentCourseForm.patchValue({course:t.studentCourse.course,activationDate:t.studentCourse.activationDate,rollNumber:t.studentCourse.rollNumber,discount:t.studentCourse.discount,additionalDiscountType:t.studentCourse.additionalDiscountType,additionalDiscountAmount:t.studentCourse.additionalDiscountAmount,netPayable:t.studentCourse.netPayable}),t.onSelectCourse(t.studentCourse.course),t.studentCourseForm.patchValue({batch:t.studentCourse.batch}),t.disableStudentCourseDetails(),t.studentCourseInstallment&&(t.studentCourseFeeForm.patchValue({installmentType:t.studentCourseInstallment.installmentType,date:t.studentCourseInstallment.date,noOfInstallments:t.studentCourseInstallment.noOfInstallments,amountCollected:t.studentCourseInstallment.amountCollected,pendingAmount:t.studentCourseInstallment.pendingAmount,totalAmount:t.studentCourseInstallment.totalAmount}),t.disableStudentCourseFeeForm(),t.resetStudentCourseInstallments(),t.studentCourseInstallment.installments.forEach((function(e,n){t.addStudentCourseInstallment(e)})),t.disableStudentCourseInstallmentFields()),t.loading=!1}),(function(e){t.showToastr("top-right","danger",e),t.back()})):this.loading=!1));this.router.navigate(["../"],{relativeTo:this.route})}},{key:"discountPercentageValidator",value:function(e){var t=e.getRawValue().additionalDiscountType,n=+e.getRawValue().additionalDiscountAmount;return"percentage"===t&&n>100?{invalidDiscountPercentage:!0}:null}},{key:"checkRollNumber",value:function(){var e=this,t=this.studentCourseForm.getRawValue().rollNumber,n=this.studentCourseForm.getRawValue().batch;if(t){if(t=t.toString(),this.studentCourse&&this.studentCourse.batch===n&&this.studentCourse.rollNumber===t)return;var a=this.studentCourseForm.getRawValue().course;a&&n&&this.studentCourseService.checkBatchRollNumber(this.branchId,this.categoryId,a,n,t).subscribe((function(t){e.rollNumberAlreadyExist=t.rollNumberExist}),(function(e){}))}}},{key:"onSelectCourse",value:function(e){this.studentCourseForm.patchValue({batch:""}),this.courseBatches=[],this.courseBatches=this.batches.filter((function(t){return t.course===e})),this.course=this.courses.find((function(t){return t._id===e})),this.calculateNetPayableAmount()}},{key:"onSelectBatch",value:function(e){""!==e?(this.studentCourseForm.get("rollNumber").enable(),this.batch=this.batches.find((function(t){return t._id===e})),this.checkRollNumber()):this.studentCourseForm.get("rollNumber").disable()}},{key:"onSelectDiscount",value:function(e){this.discount=this.discounts.find((function(t){return t._id===e})),this.calculateNetPayableAmount()}},{key:"onAdditionalDiscountAmount",value:function(e){e>=0&&this.calculateNetPayableAmount()}},{key:"changeAdditionalDiscountType",value:function(){this.studentCourseForm.patchValue({additionalDiscount:0}),this.calculateNetPayableAmount()}},{key:"calculateNetPayableAmount",value:function(){var e=0,t=0,n=0,a=this.course?+this.course.feeDetails.totalFees:0,l=this.discount?this.discount.discountType:"",r=this.studentCourseForm.getRawValue().additionalDiscountType,o=this.discount?+this.discount.discountAmount:0,s=+this.studentCourseForm.getRawValue().additionalDiscountAmount;if(this.course&&a){this.discount&&l&&("percentage"===l?t+=o:n+=o),s&&("percentage"===r?t+=s:n+=s),e=a-n-t/100*a,this.studentCourseForm.patchValue({netPayable:e}),this.studentCourseFeeForm.patchValue({totalAmount:e}),this.calculatePendingAmount();var u=this.studentCourseFeeForm.getRawValue().installmentType;this.onSelectInstallmentType(u)}}},{key:"calculatePendingAmount",value:function(){var e;e=+this.studentCourseFeeForm.getRawValue().totalAmount-(this.studentCourseFeeForm.getRawValue().amountCollected||0),this.studentCourseFeeForm.patchValue({pendingAmount:e})}},{key:"enableStudentCourseDetails",value:function(){this.studentCourseForm.get("course").enable(),this.studentCourseForm.get("discount").enable(),this.studentCourseForm.get("additionalDiscountType").enable(),this.studentCourseForm.get("additionalDiscountAmount").enable()}},{key:"disableStudentCourseDetails",value:function(){this.studentCourseForm.get("course").disable(),this.studentCourseForm.get("discount").disable(),this.studentCourseForm.get("additionalDiscountType").disable(),this.studentCourseForm.get("additionalDiscountAmount").disable()}},{key:"enableStudentCourseFeeForm",value:function(){this.studentCourseFeeForm.get("installmentType").enable(),this.studentCourseFeeForm.get("noOfInstallments").enable()}},{key:"disableStudentCourseFeeForm",value:function(){this.studentCourseFeeForm.get("installmentType").disable(),this.studentCourseFeeForm.get("noOfInstallments").disable()}},{key:"getStudentCourseInstallments",value:function(){return this.studentCourseInstallmentForm.get("installments").controls}},{key:"resetStudentCourseInstallments",value:function(){this.studentCourseInstallmentForm.get("installments").controls=[]}},{key:"newStudentCourseInstallment",value:function(e){return new a.f({_id:new a.d(e._id?e._id:(new p.a).toString(),{validators:[a.u.required]}),installmentNo:new a.d(e.installmentNo?e.installmentNo:null,{validators:[a.u.required]}),installmentDate:new a.d(e.installmentDate?e.installmentDate:null,{validators:[a.u.required]}),installmentAmount:new a.d(e.installmentAmount?e.installmentAmount:0,{validators:[a.u.required]}),amountPending:new a.d(e.installmentAmount?e.amountPending:0,{validators:[a.u.required]}),receiptId:new a.d(e.receiptId?e.receiptId:null,{validators:[]}),status:new a.d(!e.status||e.status,{validators:[]})},{validators:[this.minInstallmentAmountValidator.bind(this),this.maxInstallmentAmountValidator.bind(this),this.minInstallmentPendingAmountValidator.bind(this),this.maxInstallmentPendingAmountValidator.bind(this)]})}},{key:"minInstallmentAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().installmentAmount<this.getMinInstallmentAmount(t-1)?{invalidMinInstallmentAmount:!0}:null}},{key:"maxInstallmentAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().installmentAmount>this.getMaxInstallmentAmount(t-1)?{invalidMaxInstallmentAmount:!0}:null}},{key:"minInstallmentPendingAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().amountPending<this.getMinInstallmentPendingAmount(t-1)?{invalidMinInstallmentPendingAmount:!0}:null}},{key:"maxInstallmentPendingAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().amountPending>this.getMaxInstallmentPendingAmount(t-1)?{invalidMinInstallmentPendingAmount:!0}:null}},{key:"addStudentCourseInstallment",value:function(e){this.getStudentCourseInstallments().push(this.newStudentCourseInstallment(e))}},{key:"onSelectInstallmentType",value:function(e){if(this.studentCourseFeeForm.patchValue({amountCollected:0}),"0"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(1);else if("1"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(2);else if("2"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(4);else if("3"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(this.course.basicDetails.duration);else{this.studentCourseFeeForm.get("noOfInstallments").enable();var t=this.studentCourseFeeForm.getRawValue().noOfInstallments;this.generateNoOfInstallments(t)}}},{key:"generateNoOfInstallments",value:function(e){if(e){e=e>0?e:3,this.studentCourseFeeForm.patchValue({amountCollected:0}),this.studentCourseFeeForm.patchValue({noOfInstallments:e});var t=+this.course.basicDetails.duration/e,n=this.studentCourseFeeForm.getRawValue().date,a=+this.studentCourseForm.getRawValue().netPayable/e,l=+this.studentCourseFeeForm.getRawValue().pendingAmount;this.resetStudentCourseInstallments();for(var r=0;r<e;r++){var o=this.dateService.millisecondsToDateString(this.dateService.dateToMilliseconds(n)+t*r*2592e6),s=l-+a*(r+1);s=s<0?0:s;var u={_id:new p.a,installmentNo:(r+1).toString(),installmentDate:o,installmentAmount:Math.ceil(a),amountPending:Math.ceil(s),receiptId:null,status:!0};this.addStudentCourseInstallment(u)}"4"===this.studentCourseFeeForm.getRawValue().installmentType?this.enableStudentCourseInstallmentFields():this.disableStudentCourseInstallmentFields()}}},{key:"customInstallmentAmount",value:function(e,t){if(!(!e||e<this.getMinInstallmentAmount(t)||e>this.getMaxInstallmentAmount(t))){var n=this.getStudentCourseInstallments(),a=this.getNoOfInstallments(),l=(0===t?this.studentCourseFeeForm.getRawValue().totalAmount:n[t-1].getRawValue().amountPending)-e;n[t].patchValue({amountPending:l});var r=a-(t+1)>0?a-(t+1):1,o=Math.ceil(l/r);if(t!==a-1)for(var s=0;s<r;s++){var u=l-+o*(s+1);u=u<0?0:u;var i=t+s+1;i===a-1&&this.getMaxInstallmentAmount(i)<o&&(o=this.getMaxInstallmentAmount(i)),n[i].patchValue({installmentAmount:o,amountPending:u})}}}},{key:"getMinInstallmentDate",value:function(e){var t=this.getStudentCourseInstallments();return 0===e?this.studentCourseFeeForm.getRawValue().date:t[e-1].getRawValue().installmentDate}},{key:"getMaxInstallmentDate",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&1===n?this.studentCourseFeeForm.getRawValue().date:e===n-1?this.dateService.millisecondsToDateString(this.dateService.dateToMilliseconds(this.studentCourseFeeForm.getRawValue().date)+2592e6*this.course.basicDetails.duration):t[e+1].getRawValue().installmentDate}},{key:"getMinInstallmentAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&1===n?this.studentCourseFeeForm.getRawValue().totalAmount:0===e&&n>1?1:e===n-1?t[e-1].getRawValue().amountPending:1}},{key:"getMaxInstallmentAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&n>=1?this.studentCourseFeeForm.getRawValue().totalAmount:t[e-1].getRawValue().amountPending}},{key:"getMinInstallmentPendingAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&n>=1?0:e===n-1?0:t[e]?t[e-1].getRawValue().amountPending-t[e].getRawValue().installmentAmount:0}},{key:"getMaxInstallmentPendingAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&n>=1?this.studentCourseFeeForm.getRawValue().totalAmount:e===n-1?0:t[e]?t[e-1].getRawValue().amountPending-t[e].getRawValue().installmentAmount+1:void 0}},{key:"getNoOfInstallments",value:function(){return+this.studentCourseFeeForm.getRawValue().noOfInstallments}},{key:"enableStudentCourseInstallmentFields",value:function(){this.getStudentCourseInstallments().forEach((function(e){e.get("installmentAmount").enable()}))}},{key:"disableStudentCourseInstallmentFields",value:function(){this.getStudentCourseInstallments().forEach((function(e){e.get("installmentAmount").disable()}))}},{key:"previousStep",value:function(){this.studentCourse&&this.disableStudentCourseDetails();var e=this.studentCourseFeeForm.getRawValue().installmentType;this.studentCourseInstallment?this.disableStudentCourseInstallmentFields():"4"!==e&&this.disableStudentCourseInstallmentFields(),this.stepper.previous()}},{key:"studentCourseFormSubmit",value:function(){this.studentCourseForm.markAllAsTouched(),this.rollNumberAlreadyExist?this.showToastr("top-right","danger","Student Roll Number for this Batch already Exist"):this.studentCourseForm.invalid?this.showToastr("top-right","danger","Student Course Details are Required"):(this.studentCourse&&this.enableStudentCourseDetails(),this.stepper.next())}},{key:"studentCourseFeeFormSubmit",value:function(){this.studentCourseFeeForm.markAllAsTouched(),this.studentCourseFeeForm.invalid?this.showToastr("top-right","danger","Student Course Fee Details are Required"):this.stepper.next()}},{key:"studentCourseInstallmentFormSubmit",value:function(){this.studentCourseInstallmentForm.markAllAsTouched(),this.studentCourseInstallmentForm.invalid?this.showToastr("top-right","danger","Student Course Installment Details are Required"):this.validateStudentCourseInstallmentForm()?(this.enableStudentCourseInstallmentFields(),this.stepper.next()):this.showToastr("top-right","danger","Student Course Installment Details are Required")}},{key:"validateStudentCourseInstallmentForm",value:function(){var e=this.getStudentCourseInstallments(),t=!1;return e.forEach((function(e,n){e.invalid&&(t=!0)})),!t}},{key:"saveStudentCourse",value:function(){var e=this;if(this.studentCourseForm.markAllAsTouched(),this.studentCourseFeeForm.markAllAsTouched(),this.studentCourseInstallmentForm.markAllAsTouched(),this.rollNumberAlreadyExist)this.showToastr("top-right","danger","Student Roll Number for this Batch already Exist");else if(this.studentCourseForm.invalid)this.showToastr("top-right","danger","Student Course Details are Required");else if(this.studentCourseFeeForm.invalid)this.showToastr("top-right","danger","Student Course Fee Details are Required");else if(this.studentCourseInstallmentForm.invalid)this.showToastr("top-right","danger","Student Course Installment Details are Required");else if(this.validateStudentCourseInstallmentForm()){this.loading=!0;var t=this.studentCourseForm.getRawValue();t.branch=this.branchId,t.category=this.categoryId,t.student=this.studentId;var n=this.studentCourseFeeForm.getRawValue();n.installments=this.studentCourseInstallmentForm.getRawValue().installments,n.branch=this.branchId,n.category=this.categoryId,n.course=t.course,n.student=this.studentId,this.studentCourse||this.studentCourseInstallment?this.studentCourse&&!this.studentCourseInstallment?this.studentCourseInstallmentService.addStudentCourseInstallment(this.studentCourse._id,n).subscribe((function(t){e.showToastr("top-right","success","Student Course Installments Created Successfully!"),e.back(),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1})):(t._id=this.studentCourse._id,n._id=this.studentCourseInstallment._id,this.studentCourseService.editStudentCourse(t,n).subscribe((function(t){e.showToastr("top-right","success","Student Course Updated Successfully!"),e.back(),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))):this.studentCourseService.addStudentCourse(t,n).subscribe((function(t){e.showToastr("top-right","success","Student Course Created Successfully!"),e.back(),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1})),this.loading=!1}else this.showToastr("top-right","danger","Student Course Installment Details are Required")}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"getCourse",value:function(e){var t=this.courses.find((function(t){return t._id===e}));return t?t.basicDetails.courseName:"--"}},{key:"getBatch",value:function(e){var t=this.batches.find((function(t){return t._id===e}));return t?t.basicDetails.batchName:"--"}},{key:"getDiscount",value:function(e){var t=this.discounts.find((function(t){return t._id===e}));return t?t.offerName+" ("+t.code+" - "+t.discountAmount+("percentage"===t.discountType?"%":".00")+")":"--"}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}},{key:"ngOnDestroy",value:function(){}}]),e}(),ge.\u0275fac=function(e){return new(e||ge)(g["\u0275\u0275directiveInject"](i.a),g["\u0275\u0275directiveInject"](l.Db),g["\u0275\u0275directiveInject"](m.a),g["\u0275\u0275directiveInject"](o.a),g["\u0275\u0275directiveInject"](s.a),g["\u0275\u0275directiveInject"](h.a),g["\u0275\u0275directiveInject"](d.a),g["\u0275\u0275directiveInject"](u.a),g["\u0275\u0275directiveInject"](c.a),g["\u0275\u0275directiveInject"](v.c),g["\u0275\u0275directiveInject"](v.a))},ge.\u0275cmp=g["\u0275\u0275defineComponent"]({type:ge,selectors:[["ngx-add-student-course"]],viewQuery:function(e,t){var n;1&e&&g["\u0275\u0275viewQuery"](C,!0),2&e&&g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.stepper=n.first)},decls:1,vars:1,consts:[[4,"ngIf"],["type","button","nbButton","","status","warning","size","tiny",1,"float-right",3,"click"],[1,""],[3,"linear","disableStepNavigation"],["stepper",""],["label","Course Details",3,"stepControl"],[1,"",3,"formGroup","submit"],[1,"row"],[1,"col-md-4"],[1,"form-control-group"],["for","input-student-course",1,"label"],["id","input-student-course","name","course","formControlName","course","placeholder","Select Course","fullWidth","",3,"status","selectedChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","input-student-batch",1,"label"],["id","input-student-batch","name","batch","formControlName","batch","placeholder","Select Batch","fullWidth","",3,"status","selectedChange"],["for","input-roll-number",1,"label"],["type","number","nbInput","","id","input-roll-number","name","rollNumber","formControlName","rollNumber","min","1","placeholder","Roll Number","fullWidth","",3,"status","input"],["for","input-student-discount",1,"label"],["id","input-student-discount","name","discount","formControlName","discount","placeholder","Select Discount","fullWidth","",3,"selectedChange"],["for","input-additional-discount-type",1,"label"],["id","input-additional-discount-type","name","additionalDiscountType","formControlName","additionalDiscountType","placeholder","Select Discount Type","fullWidth","",3,"selected","selectedChange"],["for","input-discount-amount",1,"label"],["type","number","nbInput","","id","input-discount-amount","name","additionalDiscountAmount","formControlName","additionalDiscountAmount","placeholder","Discount Amount","min","0","fullWidth","",3,"status","input"],[1,"col-md-6"],["for","input-activation-date",1,"label"],["type","date","nbInput","","id","input-activation-date","name","activationDate","formControlName","activationDate","placeholder","Activation Date","fullWidth","",3,"status"],["for","input-net-payable",1,"label"],["type","number","nbInput","","id","input-net-payable","name","netPayable","formControlName","netPayable","placeholder","Net Payable","min","0","fullWidth","","disabled","true",3,"status"],[1,"col-md-12","text-right"],["nbButton","","type","submit"],["icon","arrow-ios-forward-outline"],["label","Course Fee Details",3,"stepControl"],[1,"step-container",3,"formGroup","ngSubmit"],["for","input-date",1,"label"],["type","date","nbInput","","id","input-date","name","date","formControlName","date","placeholder","Date","fullWidth","",3,"status"],["for","input-course-installment-type",1,"label"],["id","input-course-installment-type","name","installmentType","formControlName","installmentType","placeholder","Select Installment Type","fullWidth","",3,"status","selectedChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["for","input-noOfInstallments",1,"label"],["type","number","nbInput","","id","input-noOfInstallments","name","noOfInstallments","formControlName","noOfInstallments","placeholder","Number of Installments","min","0","fullWidth","",3,"status","input"],["for","input-pendingAmount",1,"label"],["type","number","nbInput","","id","input-pendingAmount","name","pendingAmount","formControlName","pendingAmount","placeholder","Pending Amount","min","0","fullWidth","","disabled","true",3,"status"],["for","input-amountCollected",1,"label"],["type","number","nbInput","","id","input-amountCollected","name","amountCollected","formControlName","amountCollected","placeholder","Amount Collected","min","0","fullWidth","","disabled","true",3,"status"],["for","input-totalAmount",1,"label"],["type","number","nbInput","","id","input-totalAmount","name","totalAmount","formControlName","totalAmount","placeholder","Total Amount","min","0","fullWidth","","disabled","true",3,"status"],[1,"col-md-6","text-left"],["type","button","nbButton","",1,"",3,"click"],["icon","arrow-ios-back-outline"],[1,"col-md-6","text-right"],["label","Installment Details",3,"stepControl"],[1,"col-md-12"],["class","table-responsive",4,"ngIf","ngIfElse"],["noInstallments",""],["label","Submit"],[1,"step-container"],[1,"table-responsive"],[1,"table","table-bordered"],["colspan","2"],[1,"table","table-sm","table-bordered"],[4,"ngFor","ngForOf"],["nbButton","",3,"click"],[3,"value"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],[3,"formGroup"],["type","date","nbInput","","formControlName","installmentDate","placeholder","Installment Date","fullWidth","",3,"id","name","min","max","status"],["type","number","nbInput","","formControlName","installmentAmount","placeholder","Installment Amount","fullWidth","",3,"id","name","min","max","status","input"],["type","number","nbInput","","formControlName","amountPending","placeholder","Pending Amount","fullWidth","","disabled","true",3,"id","name","min","max","status"],[1,"mt-4","text-center"]],template:function(e,t){1&e&&g["\u0275\u0275template"](0,he,256,53,"nb-card",0),2&e&&g["\u0275\u0275property"]("ngIf",!t.loading)},directives:[r.n,l.x,l.z,l.u,l.w,l.sb,l.rb,a.v,a.n,a.g,l.mb,a.m,a.e,l.fb,r.m,a.q,l.P,a.a,l.M],pipes:[r.v],styles:[""]}),ge)},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],fe=((ve=function e(){_classCallCheck(this,e)}).\u0275mod=g["\u0275\u0275defineNgModule"]({type:ve}),ve.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ve)},imports:[[v.g.forChild(Ce)],v.g]}),ve);n.d(t,"AddStudentCourseModule",(function(){return be}));var Se,be=((Se=function e(){_classCallCheck(this,e)}).\u0275mod=g["\u0275\u0275defineNgModule"]({type:Se}),Se.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Se)},imports:[[r.c,fe,l.A,l.O,l.v,l.Q,l.tb,l.D,l.L,l.nb,a.s]]}),Se)}}]);