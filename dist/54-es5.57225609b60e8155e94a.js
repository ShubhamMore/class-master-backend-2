function _classCallCheck(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function _createClass(i,n,e){return n&&_defineProperties(i.prototype,n),e&&_defineProperties(i,e),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{YfTX:function(i,n,e){"use strict";e.r(n);var t,l=e("3Pt+"),r=e("aceb"),a=e("ofXK"),s=e("EQut"),o=e("fCOA"),b=e("lJxs"),c=e("JIr8"),u=e("z6cu"),d=e("fXoL"),g=((t=function(){function i(n){_classCallCheck(this,i),this.httpService=n}return _createClass(i,[{key:"setBilling",value:function(i){this.billingDetails=i}},{key:"getBilling",value:function(){return this.billingDetails}},{key:"deleteBilling",value:function(){this.billingDetails=null}},{key:"saveBillingDetails",value:function(i){return this.httpService.httpPost({api:"saveBillingDetails",data:i}).pipe(Object(b.a)((function(i){return i})),Object(c.a)((function(i){return Object(u.a)(i)})))}},{key:"getBillingDetails",value:function(i){return this.httpService.httpPost({api:"getBillingDetails",data:{branch:i}}).pipe(Object(b.a)((function(i){return i})),Object(c.a)((function(i){return Object(u.a)(i)})))}}]),i}()).\u0275fac=function(i){return new(i||t)(d.ac(o.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t),m=e("tyNb");function h(i,n){1&i&&(d.Wb(0,"p",19),d.Cc(1," User Name is required! "),d.Vb())}function f(i,n){1&i&&(d.Wb(0,"p",19),d.Cc(1," Company Name should contain minimum 5 characters "),d.Vb())}function p(i,n){if(1&i&&(d.Ub(0),d.Ac(1,h,2,0,"p",18),d.Ac(2,f,2,0,"p",18),d.Tb()),2&i){var e=d.gc();d.Eb(1),d.mc("ngIf",null==e.billingForm.get("name").errors?null:e.billingForm.get("name").errors.required),d.Eb(1),d.mc("ngIf",null==e.billingForm.get("name").errors?null:e.billingForm.get("name").errors.minlength)}}function v(i,n){1&i&&(d.Wb(0,"p",19),d.Cc(1," Company address is required! "),d.Vb())}function C(i,n){1&i&&(d.Wb(0,"p",19),d.Cc(1," Company address should be 10 characters "),d.Vb())}function y(i,n){if(1&i&&(d.Ub(0),d.Ac(1,v,2,0,"p",18),d.Ac(2,C,2,0,"p",18),d.Tb()),2&i){var e=d.gc();d.Eb(1),d.mc("ngIf",null==e.billingForm.get("address").errors?null:e.billingForm.get("address").errors.required),d.Eb(1),d.mc("ngIf",null==e.billingForm.get("address").errors?null:e.billingForm.get("address").errors.minlength)}}var W,V,w=[{path:"",component:(W=function(){function i(n,e,t,l,r,a){_classCallCheck(this,i),this.branchService=n,this.toastrService=e,this.billingService=t,this.router=l,this.route=r,this.location=a}return _createClass(i,[{key:"ngOnInit",value:function(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.billingForm=new l.f({name:new l.d(null,{validators:[l.u.required,l.u.minLength(5)]}),address:new l.d(null,{validators:[l.u.required,l.u.minLength(10)]}),gstNumber:new l.d(null,{validators:[]}),termsAndConditions:new l.d(null,{validators:[]})}),this.getBillingDetails()):this.location.back()}},{key:"getBillingDetails",value:function(){var i=this;this.billingService.getBillingDetails(this.branchId).subscribe((function(n){i.billingDetails=n,i.billingDetails&&i.billingForm.patchValue({name:i.billingDetails.name,address:i.billingDetails.address,gstNumber:i.billingDetails.gstNumber,termsAndConditions:i.billingDetails.termsAndConditions}),i.loading=!1}),(function(n){i.loading=!1}))}},{key:"saveBillingDetails",value:function(){var i=this;if(this.billingForm.markAllAsTouched(),this.billingForm.invalid)this.showToastr("top-right","danger","Fill Billing Details Correctly");else{this.loading=!0;var n=this.billingForm.value;n.branch=this.branchId,this.billingDetails&&(n._id=this.billingDetails._id),this.billingService.saveBillingDetails(n).subscribe((function(n){i.showToastr("top-right","success","Billing Details Updated Successfully!"),i.location.back(),i.loading=!1}),(function(n){i.showToastr("top-right","danger",n),i.loading=!1}))}}},{key:"showToastr",value:function(i,n,e){this.toastrService.show(n,e,{position:i,status:n})}}]),i}(),W.\u0275fac=function(i){return new(i||W)(d.Qb(s.a),d.Qb(r.jb),d.Qb(g),d.Qb(m.c),d.Qb(m.a),d.Qb(a.i))},W.\u0275cmp=d.Kb({type:W,selectors:[["ngx-receipt-info"]],decls:36,vars:5,consts:[["id","title",1,"title"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-control-group"],["for","input-billing-name",1,"label"],["type","text","nbInput","","id","input-billing-name","name","name","formControlName","name","placeholder","Company Name","minlength","5","maxlength","30","fullWidth","",3,"status"],[4,"ngIf"],["for","input-gst-number",1,"label"],["type","text","nbInput","","id","input-gst-number","name","gstNumber","formControlName","gstNumber","placeholder","GST Number (Optional)","fullWidth",""],[1,"col-md-12"],["for","input-billing-address",1,"label"],["type","text","nbInput","","id","input-billing-address","name","address","formControlName","address","placeholder","Company Address","rows","2","minlength","10","maxlength","150","fullWidth","",3,"status"],["for","input-terms-conditions",1,"label"],["type","text","nbInput","","id","input-terms-conditions","name","termsAndConditions","formControlName","termsAndConditions","placeholder","Terms & Conditions (Optional)","rows","2","minlength","25","fullWidth",""],[1,"col-12","text-right"],["type","submit","nbButton","","status","primary","size","small"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(i,n){1&i&&(d.Wb(0,"nb-card"),d.Wb(1,"nb-card-header"),d.Wb(2,"h3",0),d.Cc(3,"Receipt Details"),d.Vb(),d.Vb(),d.Wb(4,"nb-card-body"),d.Wb(5,"div",1),d.Wb(6,"div",2),d.Wb(7,"form",3),d.ec("ngSubmit",(function(){return n.saveBillingDetails()})),d.Wb(8,"div",1),d.Wb(9,"div",4),d.Wb(10,"div",5),d.Wb(11,"label",6),d.Cc(12,"Company Name:"),d.Vb(),d.Rb(13,"input",7),d.Ac(14,p,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Wb(15,"div",4),d.Wb(16,"div",5),d.Wb(17,"label",9),d.Cc(18,"GST Number:"),d.Vb(),d.Rb(19,"input",10),d.Vb(),d.Vb(),d.Wb(20,"div",11),d.Wb(21,"div",5),d.Wb(22,"label",12),d.Cc(23,"Company Address:"),d.Vb(),d.Rb(24,"textarea",13),d.Ac(25,y,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Wb(26,"div",11),d.Wb(27,"div",5),d.Wb(28,"label",14),d.Cc(29,"Terms & Conditions:"),d.Vb(),d.Rb(30,"textarea",15),d.Vb(),d.Vb(),d.Vb(),d.Rb(31,"br"),d.Wb(32,"div",1),d.Wb(33,"div",16),d.Wb(34,"button",17),d.Cc(35,"Save"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&i&&(d.Eb(7),d.mc("formGroup",n.billingForm),d.Eb(6),d.mc("status",n.billingForm.get("name").touched?n.billingForm.get("name").invalid?"danger":"success":"basic"),d.Eb(1),d.mc("ngIf",n.billingForm.get("name").invalid&&n.billingForm.get("name").touched),d.Eb(10),d.mc("status",n.billingForm.get("address").touched?n.billingForm.get("address").invalid?"danger":"success":"basic"),d.Eb(1),d.mc("ngIf",n.billingForm.get("address").invalid&&n.billingForm.get("address").touched))},directives:[r.r,r.s,r.q,l.v,l.n,l.g,r.G,l.a,l.m,l.e,l.j,l.i,a.n,r.o],styles:[""]}),W)},{path:"page-not-found",loadChildren:function(){return e.e(0).then(e.bind(null,"DeSt")).then((function(i){return i.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],D=((V=function i(){_classCallCheck(this,i)}).\u0275mod=d.Ob({type:V}),V.\u0275inj=d.Nb({factory:function(i){return new(i||V)},imports:[[m.g.forChild(w)],m.g]}),V);e.d(n,"ReceiptInfoModule",(function(){return k}));var F,k=((F=function i(){_classCallCheck(this,i)}).\u0275mod=d.Ob({type:F}),F.\u0275inj=d.Nb({factory:function(i){return new(i||F)},imports:[[a.c,D,r.H,r.p,r.t,l.s]]}),F)}}]);