function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var i=t[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{lc0P:function(e,t,c){"use strict";c.r(t);var i=c("ofXK"),n=c("IAlr"),r=c("EQut"),o=c("fXoL"),s=c("aceb"),a=c("tyNb");function u(e,t){if(1&e&&(o.Wb(0,"nb-option",14),o.Cc(1),o.Vb()),2&e){var c=t.$implicit;o.mc("value",c._id),o.Eb(1),o.Dc(c.category)}}function b(e,t){if(1&e){var c=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Cc(2),o.Vb(),o.Wb(3,"td"),o.Cc(4),o.Vb(),o.Wb(5,"td"),o.Cc(6),o.Vb(),o.Wb(7,"td"),o.Cc(8),o.Vb(),o.Wb(9,"td"),o.Wb(10,"button",21),o.ec("click",(function(){o.uc(c);var e=t.$implicit;return o.gc(3).courseBatches(e)})),o.Cc(11," Batches "),o.Vb(),o.Vb(),o.Wb(12,"td"),o.Wb(13,"button",22),o.ec("click",(function(){o.uc(c);var e=t.$implicit;return o.gc(3).courseMaterial(e)})),o.Cc(14," Course Material "),o.Vb(),o.Vb(),o.Wb(15,"td"),o.Wb(16,"button",23),o.ec("click",(function(){o.uc(c);var e=t.$implicit;return o.gc(3).editCourse(e._id)})),o.Cc(17," Edit "),o.Vb(),o.Vb(),o.Wb(18,"td"),o.Wb(19,"button",24),o.ec("click",(function(){o.uc(c);var e=t.$implicit,i=t.index;return o.gc(3).changeCourseStatus(e._id,!e.status,i)})),o.Cc(20),o.Vb(),o.Vb(),o.Vb()}if(2&e){var i=t.$implicit,n=t.index,r=o.gc(3);o.Eb(2),o.Dc(n+1),o.Eb(2),o.Dc(i.basicDetails.courseName),o.Eb(2),o.Dc(r.getCategory(i.basicDetails.category)),o.Eb(2),o.Dc(i.feeDetails.totalFees),o.Eb(11),o.mc("status",i.status?"danger":"warning"),o.Eb(1),o.Ec(" ",i.status?"Deactivate":"Activate"," ")}}function l(e,t){if(1&e&&(o.Wb(0,"div",17),o.Wb(1,"table",18),o.Wb(2,"thead"),o.Wb(3,"tr"),o.Wb(4,"th"),o.Cc(5,"#"),o.Vb(),o.Wb(6,"th"),o.Cc(7,"Course"),o.Vb(),o.Wb(8,"th"),o.Cc(9,"Category"),o.Vb(),o.Wb(10,"th"),o.Cc(11,"Fees"),o.Vb(),o.Wb(12,"th",19),o.Cc(13,"Action"),o.Vb(),o.Vb(),o.Vb(),o.Wb(14,"tbody"),o.Ac(15,b,21,6,"tr",20),o.Vb(),o.Vb(),o.Vb()),2&e){var c=o.gc(2);o.Eb(15),o.mc("ngForOf",c.courses)}}function d(e,t){1&e&&(o.Wb(0,"p",25),o.Cc(1,"No Courses Available"),o.Vb())}function h(e,t){if(1&e&&(o.Ub(0),o.Ac(1,l,16,1,"div",15),o.Ac(2,d,2,0,"ng-template",null,16,o.Bc),o.Tb()),2&e){var c=o.sc(3),i=o.gc();o.Eb(1),o.mc("ngIf",i.courses.length>0)("ngIfElse",c)}}function g(e,t){1&e&&(o.Wb(0,"p",25),o.Cc(1,"Loading..."),o.Vb())}var f,v,C=[{path:"",component:(f=function(){function e(t,c,i,n,r){_classCallCheck(this,e),this.branchService=t,this.courseService=c,this.toastrService=i,this.router=n,this.route=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.courses=[],this.categories=[],this.category="",this.branchService.getBranch(this.branchId).subscribe((function(t){e.branchService.setBranchData(t),e.categories=t.categories,e.getCourses("")}),(function(e){}))):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"getCourses",value:function(e){var t=this;this.loading=!0,this.category=e,this.courseService.getCourses(this.branchId,e).subscribe((function(e){t.courses=e,t.loading=!1}),(function(e){t.loading=!1}))}},{key:"getCategory",value:function(e){var t=this.categories.find((function(t){return t._id===e}));return t?t.category:"--"}},{key:"addCourse",value:function(){this.router.navigate(["../add"],{relativeTo:this.route})}},{key:"courseBatches",value:function(e){this.courseService.setCourseId(e._id),this.courseService.setCourseData(e),this.router.navigate(["../batch"],{relativeTo:this.route})}},{key:"courseMaterial",value:function(e){this.courseService.setCourseId(e._id),this.courseService.setCourseData(e),this.router.navigate(["../course-material"],{relativeTo:this.route})}},{key:"editCourse",value:function(e){this.courseService.setCourseId(e),this.router.navigate(["../edit"],{relativeTo:this.route,queryParams:{mode:"edit"}})}},{key:"changeCourseStatus",value:function(e,t,c){var i=this;this.loading=!0,this.courseService.changeCourseStatus(e,t).subscribe((function(e){i.courses[c].status=t,i.showToastr("top-right","success","Course ".concat(t?"Activated":"Deactivated"," Successfully!")),i.loading=!1}),(function(e){i.showToastr("top-right","danger",e),i.loading=!1}))}},{key:"showToastr",value:function(e,t,c){this.toastrService.show(t,c,{position:e,status:t})}}]),e}(),f.\u0275fac=function(e){return new(e||f)(o.Qb(r.a),o.Qb(n.a),o.Qb(s.xb),o.Qb(a.c),o.Qb(a.a))},f.\u0275cmp=o.Kb({type:f,selectors:[["ngx-manage-course"]],decls:27,vars:4,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"col-md-9"],[1,"col-md-3"],["id","select-category","name","category","fullWidth","","placeholder","Select Category",3,"selected","selectedChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],[3,"value"],["class","table-responsive",4,"ngIf","ngIfElse"],["noCourses",""],[1,"table-responsive"],[1,"table"],["colspan","4"],[4,"ngFor","ngForOf"],["nbButton","","status","info","size","small",1,"mr-3",3,"click"],["nbButton","","status","success","size","small",1,"mr-3",3,"click"],["nbButton","","status","basic","size","small",1,"mr-3",3,"click"],["nbButton","","size","small",1,"",3,"status","click"],[1,"text-center"]],template:function(e,t){if(1&e&&(o.Wb(0,"nb-card"),o.Wb(1,"nb-card-header"),o.Wb(2,"div",0),o.Wb(3,"div",1),o.Wb(4,"h3"),o.Cc(5,"Courses"),o.Vb(),o.Vb(),o.Wb(6,"div",2),o.Wb(7,"button",3),o.ec("click",(function(){return t.addCourse()})),o.Cc(8," Add Course "),o.Rb(9,"nb-icon",4),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"nb-card"),o.Wb(11,"nb-card-header"),o.Wb(12,"div",0),o.Wb(13,"div",5),o.Wb(14,"h5"),o.Cc(15,"Select Category"),o.Vb(),o.Vb(),o.Wb(16,"div",6),o.Wb(17,"nb-select",7),o.ec("selectedChange",(function(e){return t.getCourses(e)})),o.Wb(18,"nb-option",8),o.Cc(19,"All"),o.Vb(),o.Ac(20,u,2,2,"nb-option",9),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(21,"nb-card-body",10),o.Wb(22,"div",0),o.Wb(23,"div",11),o.Ac(24,h,4,2,"ng-container",12),o.Ac(25,g,2,0,"ng-template",null,13,o.Bc),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){var c=o.sc(26);o.Eb(17),o.mc("selected",t.category),o.Eb(3),o.mc("ngForOf",t.categories),o.Eb(4),o.mc("ngIf",!t.loading)("ngIfElse",c)}},directives:[s.x,s.z,s.u,s.L,s.jb,s.eb,i.m,s.w,i.n],styles:[".body-container[_ngcontent-%COMP%]{height:25rem;max-height:25rem;overflow-y:auto}"]}),f)},{path:"page-not-found",loadChildren:function(){return c.e(0).then(c.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],m=((v=function e(){_classCallCheck(this,e)}).\u0275mod=o.Ob({type:v}),v.\u0275inj=o.Nb({factory:function(e){return new(e||v)},imports:[[a.g.forChild(C)],a.g]}),v);c.d(t,"ManageCourseModule",(function(){return W}));var p,W=((p=function e(){_classCallCheck(this,e)}).\u0275mod=o.Ob({type:p}),p.\u0275inj=o.Nb({factory:function(e){return new(e||p)},imports:[[i.c,m,s.A,s.v,s.kb,s.N,s.P]]}),p)}}]);