{"version":3,"sources":["webpack:///src/app/admin/institutes/branches/branches.component.html","webpack:///src/app/admin/institutes/branches/branches-routing.module.ts","webpack:///src/app/admin/institutes/branches/branches.component.ts","webpack:///src/app/admin/institutes/branches/branches.module.ts"],"names":["routes","path","component","BranchesComponent","instituteService","toastrService","router","route","this","loading","getInstitute","subscribe","institute","getInstituteBranches","imsMasterId","branches","error","showToastr","branch","setBranch","navigate","relativeTo","position","status","message","show","back","loadChildren","then","m","HistoryModule","PageNotFoundModule","redirectTo","pathMatch","BranchesRoutingModule","forChild","BranchesModule"],"mappings":"oRA+Bc,sCACE,sCAAI,yBAAW,8BACf,sCAAI,yB,qCAAgD,8BACpD,sCAAI,yBAAqB,8BACzB,sCAAI,yBAA2C,8BAC/C,uCACE,8CAKE,0JAEA,mCACF,8BACF,8BACF,8B,wEAfM,kEACA,wHACA,gFACA,4F,yBAdZ,yCACE,2CACE,yCACE,sCAAI,6BAAC,8BACL,sCAAI,qCAAS,8BACb,sCAAI,mCAAO,8BACX,sCAAI,mCAAM,8BACV,uCAAI,mCAAM,8BACZ,8BACA,0CACE,6CAiBF,8BACF,8BACF,+B,6CAnBU,8E,yBAZd,yCACE,yCACE,4CA8BF,8BACF,+B,6EA/BkC,kFAA4C,e,sBAoChF,wCAAiC,sCAAU,+B,sBAI3C,wCAAiC,iDAAqB,+BCzDxD,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCKG,M,MAAMC,EAKX,YACUC,EACAC,EACAC,EACAC,GAHA,KAAAH,mBACA,KAAAC,gBACA,KAAAC,SACA,KAAAC,QAGV,WACEC,KAAKC,SAAU,EACfD,KAAKJ,iBAAiBM,eAAeC,UAAWC,IACzCA,GAKLJ,KAAKI,UAAYA,EAEjBJ,KAAKJ,iBAAiBS,qBAAqBD,EAAUE,aAAaH,UAC/DI,IACCP,KAAKO,SAAWA,EAChBP,KAAKC,SAAU,GAEhBO,IACCR,KAAKS,WAAW,YAAa,SAAUD,GACvCR,KAAKC,SAAU,KAbjBD,KAAKS,WAAW,YAAa,SAAU,uBAmB7C,WAAWC,GACTV,KAAKJ,iBAAiBe,UAAUD,GAChCV,KAAKF,OAAOc,SAAS,CAAC,aAAc,CAAEC,WAAYb,KAAKD,QAGzD,OACEC,KAAKF,OAAOc,SAAS,CAAC,OAAQ,CAAEC,WAAYb,KAAKD,QAGnD,WAAWe,EAAeC,EAAaC,GACrChB,KAAKH,cAAcoB,KAAKF,EAAQC,EAAS,CACvCF,WACAC,Y,6CA/COpB,GAAiB,2J,mDAAjBA,EAAiB,+e,GAAA,MFZ9B,2CACE,kDACE,yCACE,yCACE,4CAME,qDAAS,EAAAuB,UAET,kCACF,8BACA,sCAAI,4CAAgB,8BACtB,8BACF,8BACF,8BACA,gDACE,2CAkCF,8BACF,8BAEA,+FAIA,gG,4CAzCqB,yEAAkC,gB,kEEPhD,IDFL,CACEzB,KAAM,UACN0B,aAAc,IAAM,wDAAmCC,KAAMC,GAAMA,EAAEC,gBAGvE,CACE7B,KAAM,iBACN0B,aAAc,IACZ,iCAA+DC,KAC5DC,GAAMA,EAAEE,qBAIf,CACE9B,KAAM,KACN+B,WAAY,iBACZC,UAAW,SAQR,Y,MAAMC,G,yDAAAA,I,+EAAAA,IAAqB,SAHvB,CAAC,IAAaC,SAASnC,IACtB,O,GAEL,GETA,Q,MAAMoC,G,yDAAAA,I,+EAAAA,IAAc,SAVhB,CACP,IACA,EACA,IACA,IACA,IACA,IACA,S,GAGG","file":"x","sourcesContent":["<nb-card>\n  <nb-card-header>\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <button\n          type=\"button\"\n          class=\"float-right\"\n          size=\"small\"\n          nbButton\n          status=\"warning\"\n          (click)=\"back()\"\n        >\n          Back\n        </button>\n        <h3>Membership Plans</h3>\n      </div>\n    </div>\n  </nb-card-header>\n  <nb-card-body>\n    <div class=\"row\" *ngIf=\"!loading; else loadingData\">\n      <div class=\"col-12\">\n        <div class=\"table-responsive\" *ngIf=\"branches.length > 0; else noBranches\">\n          <table class=\"table\">\n            <thead>\n              <th>#</th>\n              <th>Institute</th>\n              <th>Contact</th>\n              <th>Status</th>\n              <th>Action</th>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let branch of branches; let i = index\">\n                <td>{{ i + 1 }}</td>\n                <td>{{ branch.basicDetails.branchName | uppercase }}</td>\n                <td>{{ institute.phone }}</td>\n                <td>{{ branch.status ? 'Active' : 'Inactive' }}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    nbButton\n                    size=\"small\"\n                    status=\"warning\"\n                    (click)=\"viewBranch(branch)\"\n                  >\n                    View\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </nb-card-body>\n</nb-card>\n\n<ng-template #loadingData>\n  <p class=\"pt-5 pb-5 text-center\">Loading...</p>\n</ng-template>\n\n<ng-template #noBranches>\n  <p class=\"pt-5 pb-5 text-center\">No Branches Available</p>\n</ng-template>\n","import { BranchesComponent } from './branches.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BranchesComponent,\n  },\n\n  {\n    path: 'history',\n    loadChildren: () => import('./history/history.module').then((m) => m.HistoryModule),\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BranchesRoutingModule {}\n","import { BranchModel } from './../../../models/branch.model';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { NbToastrService } from '@nebular/theme';\nimport { InstituteModel } from './../../../models/institute.model';\nimport { Component, OnInit } from '@angular/core';\nimport { InstituteService } from '../../services/institute.service';\n\n@Component({\n  selector: 'ngx-branches',\n  templateUrl: './branches.component.html',\n  styleUrls: ['./branches.component.scss'],\n})\nexport class BranchesComponent implements OnInit {\n  loading: boolean;\n  institute: InstituteModel;\n  branches: BranchModel[];\n\n  constructor(\n    private instituteService: InstituteService,\n    private toastrService: NbToastrService,\n    private router: Router,\n    private route: ActivatedRoute,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = true;\n    this.instituteService.getInstitute().subscribe((institute: InstituteModel) => {\n      if (!institute) {\n        this.showToastr('top right', 'danger', 'Invalid Institute');\n        return;\n      }\n\n      this.institute = institute;\n\n      this.instituteService.getInstituteBranches(institute.imsMasterId).subscribe(\n        (branches: BranchModel[]) => {\n          this.branches = branches;\n          this.loading = false;\n        },\n        (error: any) => {\n          this.showToastr('top right', 'danger', error);\n          this.loading = false;\n        },\n      );\n    });\n  }\n\n  viewBranch(branch: BranchModel) {\n    this.instituteService.setBranch(branch);\n    this.router.navigate(['./history'], { relativeTo: this.route });\n  }\n\n  back() {\n    this.router.navigate(['../'], { relativeTo: this.route });\n  }\n\n  showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n}\n","import {\n  NbTooltipModule,\n  NbInputModule,\n  NbButtonModule,\n  NbIconModule,\n  NbCardModule,\n} from '@nebular/theme';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BranchesRoutingModule } from './branches-routing.module';\nimport { BranchesComponent } from './branches.component';\n\n@NgModule({\n  declarations: [BranchesComponent],\n  imports: [\n    CommonModule,\n    BranchesRoutingModule,\n    NbCardModule,\n    NbIconModule,\n    NbInputModule,\n    NbButtonModule,\n    NbTooltipModule,\n  ],\n})\nexport class BranchesModule {}\n"]}