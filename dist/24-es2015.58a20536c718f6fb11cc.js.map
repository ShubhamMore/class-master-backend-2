{"version":3,"sources":["webpack:///src/app/institute/branch/exam/online-test/add-online-test/add-online-test.component.html","webpack:///src/app/institute/branch/exam/online-test/add-online-test/add-online-test-routing.module.ts","webpack:///src/app/institute/branch/exam/online-test/add-online-test/add-online-test.component.ts","webpack:///src/app/institute/branch/exam/online-test/add-online-test/add-online-test.module.ts"],"names":["routes","path","component","AddOnlineTestComponent","branchService","courseService","dateService","batchService","onlineExamService","toastrService","router","route","this","loading","submit","branchId","getBranchId","navigate","relativeTo","mode","queryParams","subscribe","param","onlineExamId","getOnlineExamId","showToastr","getCategoryData","category","getCourseData","course","getBatchData","batch","subjects","forEach","curSubject","mySubject","find","subject","_id","push","onlineExamForm","title","validators","required","date","getDateString","time","duration","description","eachQuestionMarks","min","totalQuestions","totalMarks","passingMarks","getOnlineExam","onlineExam","patchValue","branch","err","back","stepper","previous","markAllAsTouched","invalid","next","value","getRawValue","editOnlineExam","res","error","addOnlineExam","subjectId","position","status","message","show","replaceUrl","deleteOnlineExamId","deleteOnlineExamData","submitOnlineExamForm","calculateTotalMarks","previousStep","saveOnlineExam","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","AddOnlineTestRoutingModule","forChild","AddOnlineTestModule"],"mappings":"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","file":"x","sourcesContent":["<nb-card>\r\n  <nb-card-header>\r\n    <div class=\"row\">\r\n      <div class=\"col-9\">\r\n        <h3>{{ onlineExam ? 'Edit' : 'Add' }} Online Test</h3>\r\n      </div>\r\n      <div class=\"col-3\">\r\n        <button class=\"float-right\" nbButton size=\"small\" status=\"warning\" (click)=\"back()\">\r\n          Back\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </nb-card-header>\r\n\r\n  <nb-card-body>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <nb-stepper #stepper [linear]=\"true\" [disableStepNavigation]=\"true\">\r\n          <nb-step [stepControl]=\"onlineExamForm\" label=\"Online Exam Details\">\r\n            <form [formGroup]=\"onlineExamForm\" (submit)=\"submitOnlineExamForm()\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-online-exam-title\">Online Exam Title:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      nbInput\r\n                      id=\"input-online-exam-title\"\r\n                      name=\"title\"\r\n                      formControlName=\"title\"\r\n                      placeholder=\"Online Exam Title\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('title').touched\r\n                          ? onlineExamForm.get('title').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('title').invalid && onlineExamForm.get('title').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('title').errors?.required\"\r\n                      >\r\n                        Online Exam Title is required!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-subject\">Subject:</label>\r\n                    <nb-select\r\n                      id=\"input-subject\"\r\n                      name=\"subject\"\r\n                      formControlName=\"subject\"\r\n                      placeholder=\"Subject\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('subject').touched\r\n                          ? onlineExamForm.get('subject').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    >\r\n                      <nb-option value=\"\">Select Subject</nb-option>\r\n                      <nb-option *ngFor=\"let subject of subjects\" [value]=\"subject._id\">{{\r\n                        subject.subject\r\n                      }}</nb-option>\r\n                    </nb-select>\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('subject').invalid &&\r\n                        onlineExamForm.get('subject').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('subject').errors?.required\"\r\n                      >\r\n                        Subject is required!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-date\">Date:</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      nbInput\r\n                      id=\"input-date\"\r\n                      name=\"date\"\r\n                      [min]=\"onlineExam ? onlineExam.date : dateService.getDateString()\"\r\n                      formControlName=\"date\"\r\n                      placeholder=\"Date\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('date').touched\r\n                          ? onlineExamForm.get('date').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('date').invalid && onlineExamForm.get('date').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('date').errors?.required\"\r\n                      >\r\n                        Date is required!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-time\">Time:</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      step=\"300\"\r\n                      nbInput\r\n                      id=\"input-time\"\r\n                      name=\"time\"\r\n                      formControlName=\"time\"\r\n                      placeholder=\"Time\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('time').touched\r\n                          ? onlineExamForm.get('time').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('time').invalid && onlineExamForm.get('time').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('time').errors?.required\"\r\n                      >\r\n                        Time is required!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-duration\">Duration (in Min):</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      nbInput\r\n                      id=\"input-duration\"\r\n                      name=\"duration\"\r\n                      min=\"0\"\r\n                      formControlName=\"duration\"\r\n                      placeholder=\"Duration (in Min)\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('duration').touched\r\n                          ? onlineExamForm.get('duration').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('duration').invalid &&\r\n                        onlineExamForm.get('duration').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('duration').errors?.required\"\r\n                      >\r\n                        Duration is required!\r\n                      </p>\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('duration').errors?.min\"\r\n                      >\r\n                        Duration should be greater than 0\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-description\">Description:</label>\r\n                    <textarea\r\n                      type=\"text\"\r\n                      nbInput\r\n                      rows=\"2\"\r\n                      id=\"input-description\"\r\n                      name=\"description\"\r\n                      min=\"0\"\r\n                      formControlName=\"description\"\r\n                      placeholder=\"Description\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('description').touched\r\n                          ? onlineExamForm.get('description').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    ></textarea>\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('description').invalid &&\r\n                        onlineExamForm.get('description').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('description').errors?.required\"\r\n                      >\r\n                        Description is required!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-each-question-marks\"\r\n                      >Each Question Marks:</label\r\n                    >\r\n                    <input\r\n                      type=\"number\"\r\n                      nbInput\r\n                      id=\"input-each-question-marks\"\r\n                      name=\"eachQuestionMarks\"\r\n                      min=\"0\"\r\n                      formControlName=\"eachQuestionMarks\"\r\n                      placeholder=\"Each Question Marks\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('eachQuestionMarks').touched\r\n                          ? onlineExamForm.get('eachQuestionMarks').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                      (input)=\"calculateTotalMarks()\"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('eachQuestionMarks').invalid &&\r\n                        onlineExamForm.get('eachQuestionMarks').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('eachQuestionMarks').errors?.required\"\r\n                      >\r\n                        Each Question Marks is required!\r\n                      </p>\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('eachQuestionMarks').errors?.min\"\r\n                      >\r\n                        Each Question Marks should be greater than 0\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-total-question\">Total Question:</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      nbInput\r\n                      id=\"input-total-question\"\r\n                      name=\"totalQuestions\"\r\n                      min=\"0\"\r\n                      formControlName=\"totalQuestions\"\r\n                      placeholder=\"Total Question\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('totalQuestions').touched\r\n                          ? onlineExamForm.get('totalQuestions').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                      (input)=\"calculateTotalMarks()\"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('totalQuestions').invalid &&\r\n                        onlineExamForm.get('totalQuestions').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('totalQuestions').errors?.required\"\r\n                      >\r\n                        Total Questions are required!\r\n                      </p>\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('totalQuestions').errors?.min\"\r\n                      >\r\n                        Total Questions should be greater than 0\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-total-marks\">Total Marks:</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      nbInput\r\n                      id=\"input-total-marks\"\r\n                      name=\"totalMarks\"\r\n                      min=\"0\"\r\n                      formControlName=\"totalMarks\"\r\n                      placeholder=\"Total Marks\"\r\n                      disabled=\"true\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('totalMarks').touched\r\n                          ? onlineExamForm.get('totalMarks').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('totalMarks').invalid &&\r\n                        onlineExamForm.get('totalMarks').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('totalMarks').errors?.required\"\r\n                      >\r\n                        Total Marks are required!\r\n                      </p>\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('totalMarks').errors?.min\"\r\n                      >\r\n                        Total Marks should be greater than 0\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"form-control-group\">\r\n                    <label class=\"label\" for=\"input-onlineExam-passing-marks\">Passing Marks:</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      nbInput\r\n                      id=\"input-onlineExam-passing-marks\"\r\n                      name=\"passingMarks\"\r\n                      min=\"0\"\r\n                      formControlName=\"passingMarks\"\r\n                      placeholder=\"Passing Marks\"\r\n                      fullWidth\r\n                      [status]=\"\r\n                        onlineExamForm.get('passingMarks').touched\r\n                          ? onlineExamForm.get('passingMarks').invalid\r\n                            ? 'danger'\r\n                            : 'success'\r\n                          : 'basic'\r\n                      \"\r\n                    />\r\n                    <ng-container\r\n                      *ngIf=\"\r\n                        onlineExamForm.get('passingMarks').invalid &&\r\n                        onlineExamForm.get('passingMarks').touched\r\n                      \"\r\n                    >\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('passingMarks').errors?.required\"\r\n                      >\r\n                        Passing Marks is required!\r\n                      </p>\r\n                      <p\r\n                        class=\"caption status-danger\"\r\n                        *ngIf=\"onlineExamForm.get('passingMarks').errors?.min\"\r\n                      >\r\n                        Passing Marks should be greater than 0\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <button type=\"submit\" class=\"float-right\" nbButton size=\"small\" status=\"basic\">\r\n                    Next\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </nb-step>\r\n\r\n          <nb-step label=\"Submit\">\r\n            <div class=\"step-container\">\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-bordered\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Online Exam Title</th>\r\n                      <td>{{ onlineExamForm.value.title }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Subject</th>\r\n                      <td>{{ getSubject(onlineExamForm.value.subject) }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Date</th>\r\n                      <td>{{ dateService.formatDate(onlineExamForm.value.date) }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Time</th>\r\n                      <td>{{ dateService.formatTime(onlineExamForm.value.time) }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Duration (in Min)</th>\r\n                      <td>{{ onlineExamForm.value.duration }} Min</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Description</th>\r\n                      <td>{{ onlineExamForm.value.description }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Each Question Marks</th>\r\n                      <td>{{ onlineExamForm.value.eachQuestionMarks }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Total Questions</th>\r\n                      <td>{{ onlineExamForm.value.totalQuestions }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Total Marks</th>\r\n                      <td>{{ onlineExamForm.value.totalMarks }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Passing Marks</th>\r\n                      <td>{{ onlineExamForm.value.passingMarks }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <hr />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6 text-left\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"\"\r\n                    nbButton\r\n                    size=\"small\"\r\n                    (click)=\"previousStep()\"\r\n                    [disabled]=\"submit\"\r\n                  >\r\n                    <nb-icon icon=\"arrow-ios-back-outline\"></nb-icon>\r\n                    <span>prev</span>\r\n                  </button>\r\n                </div>\r\n                <div class=\"col-md-6 text-right\">\r\n                  <button\r\n                    nbButton\r\n                    size=\"small\"\r\n                    (click)=\"saveOnlineExam()\"\r\n                    [disabled]=\"submit\"\r\n                    [nbSpinner]=\"submit\"\r\n                    nbSpinnerStatus=\"primary\"\r\n                    nbSpinnerSize=\"small\"\r\n                  >\r\n                    <span>Submit</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </nb-step>\r\n        </nb-stepper>\r\n      </div>\r\n    </div>\r\n  </nb-card-body>\r\n</nb-card>\r\n","import { AddOnlineTestComponent } from './add-online-test.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: AddOnlineTestComponent },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddOnlineTestRoutingModule {}\n","import { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { DateService } from './../../../../../services/shared-services/date.service';\r\nimport { BranchService } from './../../../../../services/branch.service';\r\nimport { OnlineExamService } from './../../../../../services/online-exam.service';\r\nimport { NbToastrService, NbStepperComponent } from '@nebular/theme';\r\nimport { BatchService } from './../../../../../services/batch.service';\r\nimport { CourseService } from './../../../../../services/course.service';\r\nimport { BatchModel } from './../../../../../models/batch.model';\r\nimport { CourseModel, SubjectModel } from './../../../../../models/course.model';\r\nimport { CategoryModel } from './../../../../../models/branch.model';\r\nimport { OnlineExamModel } from './../../../../../models/online-exam.model';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-add-online-test',\r\n  templateUrl: './add-online-test.component.html',\r\n  styleUrls: ['./add-online-test.component.scss'],\r\n})\r\nexport class AddOnlineTestComponent implements OnInit, OnDestroy {\r\n  @ViewChild('stepper', { static: false }) stepper: NbStepperComponent;\r\n\r\n  loading: boolean;\r\n\r\n  submit: boolean;\r\n\r\n  branchId: string;\r\n  category: CategoryModel;\r\n  course: CourseModel;\r\n  batch: BatchModel;\r\n  onlineExamForm: FormGroup;\r\n  onlineExamId: string;\r\n  onlineExam: OnlineExamModel;\r\n  subjects: SubjectModel[];\r\n\r\n  constructor(\r\n    private branchService: BranchService,\r\n    private courseService: CourseService,\r\n    public dateService: DateService,\r\n    private batchService: BatchService,\r\n    private onlineExamService: OnlineExamService,\r\n    private toastrService: NbToastrService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loading = true;\r\n\r\n    this.submit = false;\r\n\r\n    this.branchId = this.branchService.getBranchId();\r\n    if (!this.branchId) {\r\n      this.router.navigate(['../'], { relativeTo: this.route });\r\n      return;\r\n    }\r\n\r\n    let mode: string;\r\n\r\n    this.route.queryParams.subscribe((param: Params) => {\r\n      mode = param.mode;\r\n    });\r\n\r\n    this.onlineExamId = this.onlineExamService.getOnlineExamId();\r\n\r\n    if (mode && mode !== 'edit') {\r\n      this.showToastr('top-right', 'danger', 'Invalid Route');\r\n      // this.router.navigate(['../page-not-found'], { relativeTo: this.route });\r\n      return;\r\n    } else if (mode && !this.onlineExamId) {\r\n      this.showToastr('top-right', 'danger', 'Online Exam Not Found');\r\n      // this.router.navigate(['../page-not-found'], { relativeTo: this.route });\r\n      return;\r\n    }\r\n\r\n    this.branchService.getCategoryData().subscribe((category: CategoryModel) => {\r\n      this.category = category;\r\n    });\r\n\r\n    this.courseService.getCourseData().subscribe((course: CourseModel) => {\r\n      this.course = course;\r\n    });\r\n\r\n    this.batchService.getBatchData().subscribe((batch: BatchModel) => {\r\n      this.batch = batch;\r\n    });\r\n\r\n    this.subjects = [];\r\n    this.batch.subjects.forEach((curSubject: any) => {\r\n      const mySubject = this.course.subjects.find(\r\n        (subject: SubjectModel) => subject._id === curSubject.subject,\r\n      );\r\n      this.subjects.push(mySubject);\r\n    });\r\n\r\n    this.onlineExamForm = new FormGroup({\r\n      title: new FormControl(null, {\r\n        validators: [Validators.required],\r\n      }),\r\n      subject: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      date: new FormControl(this.dateService.getDateString(), {\r\n        validators: [Validators.required],\r\n      }),\r\n      time: new FormControl(null, {\r\n        validators: [Validators.required],\r\n      }),\r\n      duration: new FormControl(null, {\r\n        validators: [Validators.required],\r\n      }),\r\n      description: new FormControl(null, {\r\n        validators: [],\r\n      }),\r\n      eachQuestionMarks: new FormControl(null, {\r\n        validators: [Validators.required, Validators.min(1)],\r\n      }),\r\n      totalQuestions: new FormControl(null, {\r\n        validators: [Validators.required, Validators.min(1)],\r\n      }),\r\n      totalMarks: new FormControl(null, {\r\n        validators: [],\r\n      }),\r\n      passingMarks: new FormControl(null, {\r\n        validators: [Validators.required, Validators.min(1)],\r\n      }),\r\n    });\r\n\r\n    if (mode && this.onlineExamId) {\r\n      this.onlineExamService.getOnlineExam(this.onlineExamId).subscribe(\r\n        (onlineExam: OnlineExamModel) => {\r\n          this.onlineExam = onlineExam;\r\n\r\n          this.onlineExamForm.patchValue({\r\n            title: this.onlineExam.title,\r\n            subject: this.onlineExam.subject,\r\n            date: this.onlineExam.date,\r\n            time: this.onlineExam.time,\r\n            duration: this.onlineExam.duration,\r\n            branch: this.onlineExam.branch,\r\n            description: this.onlineExam.description,\r\n            eachQuestionMarks: this.onlineExam.eachQuestionMarks,\r\n            totalQuestions: this.onlineExam.totalQuestions,\r\n            totalMarks: this.onlineExam.totalMarks,\r\n            passingMarks: this.onlineExam.passingMarks,\r\n          });\r\n\r\n          this.loading = false;\r\n        },\r\n        (err: any) => {\r\n          this.showToastr('top-right', 'danger', err);\r\n          this.back();\r\n        },\r\n      );\r\n    } else {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  previousStep() {\r\n    this.stepper.previous();\r\n  }\r\n\r\n  submitOnlineExamForm() {\r\n    this.onlineExamForm.markAllAsTouched();\r\n    if (this.onlineExamForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'All Online Exam Fields are Required');\r\n      return;\r\n    }\r\n\r\n    this.stepper.next();\r\n  }\r\n\r\n  calculateTotalMarks() {\r\n    const totalQuestions = this.onlineExamForm.value.totalQuestions;\r\n    const eachQuestionMarks = this.onlineExamForm.value.eachQuestionMarks;\r\n    const totalMarks =\r\n      (totalQuestions ? totalQuestions : 0) * (eachQuestionMarks ? eachQuestionMarks : 0);\r\n    this.onlineExamForm.patchValue({ totalMarks });\r\n  }\r\n\r\n  saveOnlineExam() {\r\n    this.onlineExamForm.markAllAsTouched();\r\n    if (this.onlineExamForm.invalid) {\r\n      this.showToastr('top-right', 'danger', 'All Online Exam Fields are Required');\r\n      return;\r\n    }\r\n    this.submit = true;\r\n\r\n    const onlineExam: any = { ...this.onlineExamForm.getRawValue() };\r\n    onlineExam.branch = this.branchId;\r\n    onlineExam.category = this.category._id;\r\n    onlineExam.course = this.course._id;\r\n    onlineExam.batch = this.batch._id;\r\n\r\n    if (!this.onlineExam) {\r\n      this.onlineExamService.addOnlineExam(onlineExam).subscribe(\r\n        (res: any) => {\r\n          this.showToastr('top-right', 'success', 'New Online Exam Added Successfully!');\r\n          this.back();\r\n        },\r\n        (error: any) => {\r\n          this.showToastr('top-right', 'danger', error);\r\n          this.submit = false;\r\n        },\r\n      );\r\n    } else {\r\n      onlineExam._id = this.onlineExam._id;\r\n\r\n      this.onlineExamService.editOnlineExam(onlineExam).subscribe(\r\n        (res: any) => {\r\n          this.showToastr('top-right', 'success', 'Online Exam Updated Successfully!');\r\n          this.back();\r\n        },\r\n        (error: any) => {\r\n          this.showToastr('top-right', 'danger', error);\r\n          this.submit = false;\r\n        },\r\n      );\r\n    }\r\n  }\r\n\r\n  getSubject(subjectId: string) {\r\n    const subject = this.subjects.find((curSubject: SubjectModel) => curSubject._id === subjectId);\r\n    if (subject) {\r\n      return subject.subject;\r\n    }\r\n\r\n    return '--';\r\n  }\r\n\r\n  private showToastr(position: any, status: any, message: string) {\r\n    this.toastrService.show(status, message, {\r\n      position,\r\n      status,\r\n    });\r\n  }\r\n\r\n  back() {\r\n    this.router.navigate(['../manage'], { relativeTo: this.route, replaceUrl: true });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.onlineExamService.deleteOnlineExamId();\r\n    this.onlineExamService.deleteOnlineExamData();\r\n  }\r\n}\r\n","import { ReactiveFormsModule } from '@angular/forms';\nimport { AddOnlineTestComponent } from './add-online-test.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n  NbInputModule,\n  NbButtonModule,\n  NbSpinnerModule,\n  NbCardModule,\n  NbStepperModule,\n  NbSelectModule,\n  NbIconModule,\n} from '@nebular/theme';\nimport { AddOnlineTestRoutingModule } from './add-online-test-routing.module';\n\n@NgModule({\n  declarations: [AddOnlineTestComponent],\n  imports: [\n    CommonModule,\n    AddOnlineTestRoutingModule,\n    NbSpinnerModule,\n    NbInputModule,\n    NbButtonModule,\n    NbCardModule,\n    NbStepperModule,\n    NbSelectModule,\n    NbIconModule,\n    ReactiveFormsModule,\n  ],\n})\nexport class AddOnlineTestModule {}\n"]}