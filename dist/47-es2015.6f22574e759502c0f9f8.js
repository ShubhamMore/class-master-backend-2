(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"6Rzr":function(e,t,n){"use strict";n.r(t),n.d(t,"ViewBudgetSummeryModule",(function(){return g}));var r=n("aceb"),a=n("ofXK"),i=n("fXoL"),c=n("QKEp"),d=n("EQut"),o=n("ZatZ"),l=n("tyNb");function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](r.dateService.formatDate(e.date)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ","income"===e.type?e.amount:""," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ","expense"===e.type?e.amount:""," ")}}function s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"table",4),i["\u0275\u0275elementStart"](2,"thead",5),i["\u0275\u0275elementStart"](3,"tr"),i["\u0275\u0275elementStart"](4,"th"),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th"),i["\u0275\u0275text"](7,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th"),i["\u0275\u0275text"](9,"Title"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th"),i["\u0275\u0275text"](11,"Income"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th"),i["\u0275\u0275text"](13,"Expense"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"tbody"),i["\u0275\u0275template"](15,m,11,5,"tr",6),i["\u0275\u0275elementStart"](16,"tr"),i["\u0275\u0275elementStart"](17,"td",7),i["\u0275\u0275elementStart"](18,"strong"),i["\u0275\u0275text"](19,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"td"),i["\u0275\u0275elementStart"](21,"strong"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"td"),i["\u0275\u0275elementStart"](24,"strong"),i["\u0275\u0275text"](25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](15),i["\u0275\u0275property"]("ngForOf",e.budgetSummery),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](e.getTotalIncome()),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.getTotalExpense())}}function u(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",8),i["\u0275\u0275text"](1,"No Budget Summery Available"),i["\u0275\u0275elementEnd"]())}const h=[{path:"",component:(()=>{class e{constructor(e,t,n,r,a){this.budgetService=e,this.branchService=t,this.dateService=n,this.router=r,this.route=a}ngOnInit(){this.loading=!0,this.budgetSummery=[],this.branchId=this.branchService.getBranchId(),this.branchId?(this.month=this.budgetService.getMonth(),this.year=this.budgetService.getYear(),this.searchBudget()):this.back()}searchBudget(){this.budgetService.getBudgetSummery(this.branchId,this.month,this.year).subscribe(e=>{this.budgetSummery=e,this.loading=!1},e=>{this.loading=!1})}getTotalIncome(){let e=0;return this.budgetSummery.forEach(t=>{"income"===t.type&&(e+=t.amount)}),e}getTotalExpense(){let e=0;return this.budgetSummery.forEach(t=>{"expense"===t.type&&(e+=t.amount)}),e}getTotalBalance(){return this.getTotalIncome()-this.getTotalExpense()}getDuration(){const e=this.budgetSummery.length;return e>0?" From "+this.dateService.formatDate(this.budgetSummery[0].date)+" To "+this.dateService.formatDate(this.budgetSummery[e-1].date):""}print(){window.print()}back(){this.router.navigate(["../"],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](l.c),i["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-view-budget-summery"]],decls:12,vars:3,consts:[["nbButton","","size","small","status","warning",1,"float-right",3,"click"],["class","table-responsive",4,"ngIf","ngIfElse"],["noBudgetSummery",""],[1,"table-responsive"],[1,"table","table-sm"],[1,"table-heading"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"text-center","pt-2"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-card"),i["\u0275\u0275elementStart"](1,"nb-card-header"),i["\u0275\u0275elementStart"](2,"button",0),i["\u0275\u0275listener"]("click",(function(){return t.back()})),i["\u0275\u0275text"](3," Back "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h4"),i["\u0275\u0275text"](5," BUDGET SUMMERY "),i["\u0275\u0275elementStart"](6,"small"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"nb-card-body"),i["\u0275\u0275template"](9,s,26,3,"div",1),i["\u0275\u0275template"](10,u,2,0,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](11);i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](t.getDuration()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.budgetSummery.length>0)("ngIfElse",e)}},directives:[r.y,r.A,r.v,r.x,a.n,a.m],styles:[""]}),e})()},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let p=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.g.forChild(h)],l.g]}),e})(),g=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,p,r.B,r.w,r.P]]}),e})()},QKEp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lJxs"),a=n("JIr8"),i=n("z6cu"),c=n("fXoL"),d=n("fCOA");let o=(()=>{class e{constructor(e){this.httpService=e}setMonth(e){this.searchMonth=e}getMonth(){return this.searchMonth}setYear(e){this.searchYear=e}getYear(){return this.searchYear}getBudgetForBranch(e,t,n){return this.httpService.httpPost({api:"getBudgetForBranch",data:{branch:e,month:t,year:n}}).pipe(Object(r.a)(e=>e),Object(a.a)(e=>Object(i.a)(e)))}getBudgetForBranchDashboard(e,t){return this.httpService.httpPost({api:"getBudgetForBranchDashboard",data:{branch:e,year:t}}).pipe(Object(r.a)(e=>e),Object(a.a)(e=>Object(i.a)(e)))}getBudgetSummery(e,t,n){return this.httpService.httpPost({api:"getBudgetSummery",data:{branch:e,month:t,year:n}}).pipe(Object(r.a)(e=>e),Object(a.a)(e=>Object(i.a)(e)))}saveBudget(e){return this.httpService.httpPost({api:"saveBudget",data:e}).pipe(Object(r.a)(e=>e),Object(a.a)(e=>Object(i.a)(e)))}deleteBudget(e){return this.httpService.httpPost({api:"deleteBudget",data:{id:e}}).pipe(Object(r.a)(e=>e),Object(a.a)(e=>Object(i.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](d.a))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
//# sourceMappingURL=47-es2015.6f22574e759502c0f9f8.js.map