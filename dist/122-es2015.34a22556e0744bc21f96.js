(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{R7iH:function(e,t,n){"use strict";n.r(t),n.d(t,"ReceiptInfoModule",(function(){return v}));var i=n("3Pt+"),l=n("aceb"),r=n("ofXK"),a=n("fXoL"),s=n("EQut"),o=n("fDUG"),d=n("tyNb");function m(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",19),a["\u0275\u0275text"](1," User Name is required! "),a["\u0275\u0275elementEnd"]())}function u(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",19),a["\u0275\u0275text"](1," Company Name should contain minimum 5 characters "),a["\u0275\u0275elementEnd"]())}function c(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,m,2,0,"p",18),a["\u0275\u0275template"](2,u,2,0,"p",18),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.billingForm.get("name").errors?null:e.billingForm.get("name").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.billingForm.get("name").errors?null:e.billingForm.get("name").errors.minlength)}}function g(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",19),a["\u0275\u0275text"](1," Company address is required! "),a["\u0275\u0275elementEnd"]())}function p(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",19),a["\u0275\u0275text"](1," Company address should be 10 characters "),a["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,g,2,0,"p",18),a["\u0275\u0275template"](2,p,2,0,"p",18),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.billingForm.get("address").errors?null:e.billingForm.get("address").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.billingForm.get("address").errors?null:e.billingForm.get("address").errors.minlength)}}const h=[{path:"",component:(()=>{class e{constructor(e,t,n,i,l){this.branchService=e,this.toastrService=t,this.billingService=n,this.router=i,this.route=l}ngOnInit(){this.loading=!0,this.submit=!1,this.branchId=this.branchService.getBranchId(),this.branchId?(this.billingForm=new i.f({name:new i.d(null,{validators:[i.u.required,i.u.minLength(5)]}),address:new i.d(null,{validators:[i.u.required,i.u.minLength(10)]}),gstNumber:new i.d(null,{validators:[]}),termsAndConditions:new i.d(null,{validators:[]})}),this.getBillingDetails()):this.back()}getBillingDetails(){this.billingService.getBillingDetails(this.branchId).subscribe(e=>{this.billingDetails=e,this.billingDetails&&this.billingForm.patchValue({name:this.billingDetails.name,address:this.billingDetails.address,gstNumber:this.billingDetails.gstNumber,termsAndConditions:this.billingDetails.termsAndConditions}),this.loading=!1},e=>{this.loading=!1})}saveBillingDetails(){if(this.billingForm.markAllAsTouched(),this.billingForm.invalid)return void this.showToastr("top-right","danger","Fill Billing Details Correctly");this.submit=!0;const e=this.billingForm.value;e.branch=this.branchId,this.billingDetails&&(e._id=this.billingDetails._id),this.billingService.saveBillingDetails(e).subscribe(e=>{this.showToastr("top-right","success","Billing Details Updated Successfully!"),this.back()},e=>{this.showToastr("top-right","danger",e),this.submit=!1})}back(){this.router.navigate(["../"],{relativeTo:this.route})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](s.a),a["\u0275\u0275directiveInject"](l.Gb),a["\u0275\u0275directiveInject"](o.a),a["\u0275\u0275directiveInject"](d.c),a["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-receipt-info"]],decls:36,vars:7,consts:[["id","title",1,"title"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-control-group"],["for","input-billing-name",1,"label"],["type","text","nbInput","","id","input-billing-name","name","name","formControlName","name","placeholder","Company Name","minlength","5","maxlength","30","fullWidth","",3,"status"],[4,"ngIf"],["for","input-gst-number",1,"label"],["type","text","nbInput","","id","input-gst-number","name","gstNumber","formControlName","gstNumber","placeholder","GST Number (Optional)","fullWidth",""],[1,"col-md-12"],["for","input-billing-address",1,"label"],["type","text","nbInput","","id","input-billing-address","name","address","formControlName","address","placeholder","Company Address","rows","2","minlength","10","maxlength","150","fullWidth","",3,"status"],["for","input-terms-conditions",1,"label"],["type","text","nbInput","","id","input-terms-conditions","name","termsAndConditions","formControlName","termsAndConditions","placeholder","Terms & Conditions (Optional)","rows","2","minlength","25","fullWidth",""],[1,"col-12","text-right"],["type","submit","nbButton","","size","small","status","primary","nbSpinnerStatus","primary","nbSpinnerSize","small",3,"disabled","nbSpinner"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"nb-card"),a["\u0275\u0275elementStart"](1,"nb-card-header"),a["\u0275\u0275elementStart"](2,"h3",0),a["\u0275\u0275text"](3,"Receipt Details"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"nb-card-body"),a["\u0275\u0275elementStart"](5,"div",1),a["\u0275\u0275elementStart"](6,"div",2),a["\u0275\u0275elementStart"](7,"form",3),a["\u0275\u0275listener"]("ngSubmit",(function(){return t.saveBillingDetails()})),a["\u0275\u0275elementStart"](8,"div",1),a["\u0275\u0275elementStart"](9,"div",4),a["\u0275\u0275elementStart"](10,"div",5),a["\u0275\u0275elementStart"](11,"label",6),a["\u0275\u0275text"](12,"Company Name:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](13,"input",7),a["\u0275\u0275template"](14,c,3,2,"ng-container",8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",4),a["\u0275\u0275elementStart"](16,"div",5),a["\u0275\u0275elementStart"](17,"label",9),a["\u0275\u0275text"](18,"GST Number:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](19,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",11),a["\u0275\u0275elementStart"](21,"div",5),a["\u0275\u0275elementStart"](22,"label",12),a["\u0275\u0275text"](23,"Company Address:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"textarea",13),a["\u0275\u0275template"](25,b,3,2,"ng-container",8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",11),a["\u0275\u0275elementStart"](27,"div",5),a["\u0275\u0275elementStart"](28,"label",14),a["\u0275\u0275text"](29,"Terms & Conditions:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"textarea",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"br"),a["\u0275\u0275elementStart"](32,"div",1),a["\u0275\u0275elementStart"](33,"div",16),a["\u0275\u0275elementStart"](34,"button",17),a["\u0275\u0275text"](35," Save "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("formGroup",t.billingForm),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("status",t.billingForm.get("name").touched?t.billingForm.get("name").invalid?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.billingForm.get("name").invalid&&t.billingForm.get("name").touched),a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("status",t.billingForm.get("address").touched?t.billingForm.get("address").invalid?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.billingForm.get("address").invalid&&t.billingForm.get("address").touched),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("disabled",t.submit)("nbSpinner",t.submit))},directives:[l.y,l.A,l.x,i.v,i.n,i.g,l.Q,i.a,i.m,i.e,i.j,i.i,r.n,l.v,l.sb],styles:[""]}),e})()},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let f=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[d.g.forChild(h)],d.g]}),e})(),v=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,f,l.R,l.w,l.tb,l.B,i.s]]}),e})()}}]);
//# sourceMappingURL=122-es2015.34a22556e0744bc21f96.js.map