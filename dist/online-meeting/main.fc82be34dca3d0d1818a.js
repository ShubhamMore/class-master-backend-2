(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,r){t.exports=r("zUnb")},zUnb:function(t,e,r){"use strict";r.r(e);var n=r("fXoL");const o="http://35.154.130.138:3100";var i=r("jhN1"),a=r("tk/3"),s=r("tyNb"),c=r("ofXK"),b=r("3hj0"),u=r("lJxs"),l=r("JIr8"),p=r("z6cu");let h=(()=>{class t{constructor(t){this.http=t}httpGet(t){return this.http.get(o+t.api).pipe(Object(u.a)(t=>t),Object(l.a)(t=>{let e="SOMETHING BAD HAPPENED";return t.error&&(e="object"==typeof t.error?"Can't Reach Server.., Please Try Again":t.error),Object(p.a)(e)}))}httpPost(t){return this.http.post(o+t.api,t.data).pipe(Object(u.a)(t=>t),Object(l.a)(t=>{let e="SOMETHING BAD HAPPENED";return t.error&&(e="object"==typeof t.error?"Can't Reach Server.., Please Try Again":t.error),Object(p.a)(e)}))}httpPatch(t){return this.http.patch(o+t.api,t.data).pipe(Object(u.a)(t=>t),Object(l.a)(t=>{let e="SOMETHING BAD HAPPENED";return t.error&&(e="object"==typeof t.error?"Can't Reach Server.., Please Try Again":t.error),Object(p.a)(e)}))}httpPut(t){return this.http.put(o+t.api,t.data).pipe(Object(u.a)(t=>t),Object(l.a)(t=>{let e="SOMETHING BAD HAPPENED";return t.error&&(e="object"==typeof t.error?"Can't Reach Server.., Please Try Again":t.error),Object(p.a)(e)}))}httpDelete(t){return this.http.delete(o+t.api,t.data).pipe(Object(u.a)(t=>t),Object(l.a)(t=>{let e="SOMETHING BAD HAPPENED";return t.error&&(e="object"==typeof t.error?"Can't Reach Server.., Please Try Again":t.error),Object(p.a)(e)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(a.a))},t.\u0275prov=n.zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function g(t,e){if(1&t){const t=n.Hb();n.Gb(0,"main"),n.Gb(1,"h1"),n.Wb(2,"Class Master Online Zoom Meeting"),n.Fb(),n.Gb(3,"button",3),n.Lb("click",(function(){return n.Rb(t),n.Nb(2).getSignature()})),n.Wb(4,"Join Meeting"),n.Fb(),n.Fb()}}function d(t,e){if(1&t&&(n.Gb(0,"div"),n.Ub(1,g,5,0,"main",0),n.Fb()),2&t){const t=n.Nb(),e=n.Qb(4);n.ub(1),n.Ob("ngIf",!t.error)("ngIfElse",e)}}function f(t,e){1&t&&(n.Gb(0,"h2",4),n.Wb(1,"Loading..."),n.Fb())}function m(t,e){if(1&t&&(n.Gb(0,"h2",5),n.Wb(1),n.Fb()),2&t){const t=n.Nb();n.ub(1),n.Xb(t.error)}}b.ZoomMtg.preLoadWasm(),b.ZoomMtg.prepareJssdk();let O=(()=>{class t{constructor(t,e,r,n){this.httpClient=t,this.route=r,this.httpService=n}ngOnInit(){this.loading=!0,this.route.queryParams.subscribe(t=>{this.lecture=t.lecture,this.user=t.user,this.error=this.lecture?this.user?null:"Invalid User":"Invalid Lecture",this.apiKey="-e4wJMiURO-i3gr436TgsQ",this.leaveUrl=`http://35.154.130.138:3100/online-meeting?lecture=${this.lecture}&user=${this.user}`,this.loading=!1})}getSignature(){this.loading=!0,this.httpService.httpPost({api:"/getZoomMeetingSignature",data:{lecture:this.lecture,user:this.user}}).subscribe(t=>{console.log(t),t.meetingNumber?this.startMeeting(t):this.error="Invalid Meeting Id",this.loading=!1},t=>{this.error=t,this.loading=!1})}startMeeting(t){document.getElementById("zmmtg-root").style.display="block",b.ZoomMtg.init({leaveUrl:this.leaveUrl,isSupportAV:!0,success:e=>{this.error=null,b.ZoomMtg.join({signature:t.signature,meetingNumber:+t.meetingNumber,userName:t.userName,apiKey:this.apiKey,userEmail:t.userEmail,passWord:t.password,success:t=>{console.log(t)},error:t=>{console.log(t)}})},error:t=>{console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(n.Db(a.a),n.Db(c.c),n.Db(s.a),n.Db(h))},t.\u0275cmp=n.xb({type:t,selectors:[["app-root"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingData",""],["showError",""],[3,"click"],[1,"pt-5","pb-5","text-center"],[1,"pt-5","pb-5","text-center","text-danger"]],template:function(t,e){if(1&t&&(n.Ub(0,d,2,2,"div",0),n.Ub(1,f,2,0,"ng-template",null,1,n.Vb),n.Ub(3,m,2,1,"ng-template",null,2,n.Vb)),2&t){const t=n.Qb(2);n.Ob("ngIf",!e.loading)("ngIfElse",t)}},directives:[c.h],styles:["main[_ngcontent-%COMP%]{width:70%;margin:auto;text-align:center}button[_ngcontent-%COMP%]{margin-top:20px;background-color:#2d8cff;color:#fff;text-decoration:none;padding:10px 40px;display:inline-block;border-radius:10px}button[_ngcontent-%COMP%]:hover{background-color:#2681f2}"]}),t})();const v=[];let P=(()=>{class t{}return t.\u0275mod=n.Bb({type:t,bootstrap:[O]}),t.\u0275inj=n.Ab({factory:function(e){return new(e||t)},providers:[],imports:[[i.a,a.b,s.b.forRoot(v)]]}),t})();Object(n.R)(),i.b().bootstrapModule(P).catch(t=>console.error(t))},zn8P:function(t,e){function r(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id="zn8P"}},[[0,0,4]]]);