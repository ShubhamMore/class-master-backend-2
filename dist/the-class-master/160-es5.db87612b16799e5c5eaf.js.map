{"version":3,"sources":["webpack:///src/app/institute/branch/employee/manage-employee-salary/add-salary/add-salary.component.html","webpack:///src/app/institute/branch/employee/manage-employee-salary/add-salary/add-salary-routing.module.ts","webpack:///src/app/institute/branch/employee/manage-employee-salary/add-salary/add-salary.component.ts","webpack:///src/app/institute/branch/employee/manage-employee-salary/add-salary/add-salary.module.ts"],"names":["AddSalaryComponent","AddSalaryModule","AddSalaryRoutingModule","routes","path","component","branchService","employeeService","branchEmployeeService","employeeSalaryService","dateService","toastrService","router","route","this","loading","submit","branchId","getBranchId","getEmployeeData","subscribe","employee","getBranchEmployeeData","branchEmployee","ernDeduction","earnings","description","amount","parseFloat","basicSalary","toFixed","deductions","years","getYears","months","getMonths","salaryForm","date","getDateString","validators","required","month","getCurrentMonth","year","getCurrentYear","basicAmount","get","disable","ernDeductForm","min","paymentDetailsForm","generatedBy","paymentMode","bankDetails","transactionDetails","navigate","relativeTo","invalid","showToastr","extras","value","push","reset","ernDeduct","i","splice","totalEarningAmount","forEach","earning","totalDeductionAmount","deduction","totalEarning","totalDeduction","toString","netSalary","getNetSalary","numberToWords","stepper","selectedIndex","previous","markAllAsTouched","next","enable","employeeSalary","branch","imsMasterId","role","netSalaryInWords","getNetSalaryInWords","addEmployeeSalary","res","back","error","position","status","message","show","type","getEmployeeType","queryParams","deleteEmployeeId","deleteBranchEmployeeId","salaryFormSubmit","addErnDeduct","ernDeductChange","previousStep","ernDeductFormSubmit","paymentDetailsFormSubmit","saveEmployee","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","forChild"],"mappings":"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","file":"x","sourcesContent":["<nb-card>\n  <nb-card-header>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <button\n          type=\"button\"\n          class=\"float-right\"\n          nbButton\n          size=\"small\"\n          status=\"warning\"\n          (click)=\"back()\"\n        >\n          Back\n        </button>\n        <h3 class=\"\">Generate Salary</h3>\n      </div>\n    </div>\n\n    <div class=\"row\" *ngIf=\"!loading\">\n      <div class=\"col-md-4 col-sm-6 col-12\"><strong>Name:</strong> {{ employee.name }}</div>\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <strong>IMS ID:</strong> {{ employee.imsMasterId }}\n      </div>\n      <div class=\"col-md-4 col-sm-6 col-12\"><strong>Email:</strong> {{ employee.email }}</div>\n      <div class=\"col-md-4 col-sm-6 col-12\"><strong>Phone:</strong> {{ employee.phone }}</div>\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <strong>Role:</strong> {{ branchEmployee.role | uppercase }}\n      </div>\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <strong>Basic Salary:</strong> {{ branchEmployee.basicSalary }}/-\n      </div>\n    </div>\n  </nb-card-header>\n\n  <nb-card-body>\n    <nb-stepper #stepper [linear]=\"true\" [disableStepNavigation]=\"true\">\n      <nb-step [stepControl]=\"salaryForm\" label=\"Salary Details\">\n        <form class=\"\" (submit)=\"salaryFormSubmit()\" [formGroup]=\"salaryForm\">\n          <div class=\"row\">\n            <div class=\"col-md-4 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-date\">Date:</label>\n                <input\n                  type=\"date\"\n                  nbInput\n                  id=\"input-date\"\n                  name=\"date\"\n                  formControlName=\"date\"\n                  placeholder=\"date\"\n                  fullWidth\n                  [status]=\"\n                    salaryForm.get('date').touched\n                      ? salaryForm.get('date').invalid\n                        ? 'danger'\n                        : 'success'\n                      : 'basic'\n                  \"\n                />\n                <ng-container\n                  *ngIf=\"salaryForm.get('date').invalid && salaryForm.get('date').touched\"\n                >\n                  <p class=\"caption status-danger\" *ngIf=\"salaryForm.get('date').errors?.required\">\n                    Date is required!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-4 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-month\">Select Month:</label>\n                <nb-select fullWidth formControlName=\"month\">\n                  <nb-option *ngFor=\"let month of months\" [value]=\"month.monthNo\">{{\n                    month.month\n                  }}</nb-option>\n                </nb-select>\n                <ng-container\n                  *ngIf=\"salaryForm.get('month').invalid && salaryForm.get('month').touched\"\n                >\n                  <p class=\"caption status-danger\" *ngIf=\"salaryForm.get('month').errors?.required\">\n                    Please Select Month\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-4 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-year\">Select Year:</label>\n                <nb-select fullWidth formControlName=\"year\">\n                  <nb-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</nb-option>\n                </nb-select>\n                <ng-container\n                  *ngIf=\"salaryForm.get('year').invalid && salaryForm.get('year').touched\"\n                >\n                  <p class=\"caption status-danger\" *ngIf=\"salaryForm.get('year').errors?.required\">\n                    Please Select Year\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-4 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-basic-amount\">Basic Amount:</label>\n                <input\n                  type=\"number\"\n                  nbInput\n                  id=\"input-basic-amount\"\n                  name=\"basicAmount\"\n                  formControlName=\"basicAmount\"\n                  placeholder=\"basicAmount\"\n                  min=\"0\"\n                  fullWidth\n                  [status]=\"\n                    salaryForm.get('basicAmount').touched\n                      ? salaryForm.get('basicAmount').invalid\n                        ? 'danger'\n                        : 'success'\n                      : 'basic'\n                  \"\n                />\n                <ng-container\n                  *ngIf=\"\n                    salaryForm.get('basicAmount').invalid && salaryForm.get('basicAmount').touched\n                  \"\n                >\n                  <p\n                    class=\"caption status-danger\"\n                    *ngIf=\"salaryForm.get('basicAmount').errors?.required\"\n                  >\n                    Basic Amount is required!\n                  </p>\n                  <p\n                    class=\"caption status-danger\"\n                    *ngIf=\"salaryForm.get('basicAmount').errors?.min\"\n                  >\n                    Basic Amount should be greater than 0!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-8 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-description\">Description:</label>\n                <input\n                  type=\"text\"\n                  nbInput\n                  id=\"input-description\"\n                  name=\"description\"\n                  formControlName=\"description\"\n                  placeholder=\"Description\"\n                  fullWidth\n                  status=\"basic\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <hr />\n\n          <div class=\"row\">\n            <div class=\"col-md-12 text-right\">\n              <button nbButton size=\"small\" type=\"submit\">\n                <span>Next</span>\n                <nb-icon icon=\"arrow-ios-forward-outline\"></nb-icon>\n              </button>\n            </div>\n          </div>\n        </form>\n      </nb-step>\n\n      <nb-step label=\"Earnings/Deductions\">\n        <form class=\"\" (submit)=\"addErnDeduct()\" [formGroup]=\"ernDeductForm\">\n          <div class=\"row\">\n            <div class=\"col-md-4 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-year\">Select Definition:</label>\n                <nb-select fullWidth selected=\"0\" (selectedChange)=\"ernDeductChange($event)\">\n                  <nb-option value=\"0\">Earning</nb-option>\n                  <nb-option value=\"1\">Deduction</nb-option>\n                </nb-select>\n              </div>\n            </div>\n\n            <div class=\"col-md-8 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-description\"\n                  >{{ ernDeduction ? 'Earning' : 'Deduction' }} Note:</label\n                >\n                <input\n                  type=\"string\"\n                  nbInput\n                  id=\"input-description\"\n                  name=\"description\"\n                  formControlName=\"description\"\n                  [placeholder]=\"ernDeduction ? 'Earning' : 'Deduction'\"\n                  fullWidth\n                  status=\"basic\"\n                />\n              </div>\n            </div>\n\n            <div class=\"col-md-4 col-sm-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-amount\">Amount:</label>\n                <input\n                  type=\"number\"\n                  nbInput\n                  id=\"input-amount\"\n                  name=\"amount\"\n                  formControlName=\"amount\"\n                  placeholder=\"Amount\"\n                  min=\"0\"\n                  fullWidth\n                  [status]=\"\n                    ernDeductForm.get('amount').touched\n                      ? ernDeductForm.get('amount').invalid\n                        ? 'danger'\n                        : 'success'\n                      : 'basic'\n                  \"\n                />\n                <ng-container\n                  *ngIf=\"ernDeductForm.get('amount').invalid && ernDeductForm.get('amount').touched\"\n                >\n                  <p\n                    class=\"caption status-danger\"\n                    *ngIf=\"ernDeductForm.get('amount').errors?.required\"\n                  >\n                    Amount is required!\n                  </p>\n                  <p class=\"caption status-danger\" *ngIf=\"ernDeductForm.get('amount').errors?.min\">\n                    Amount should be greater than 0!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-8 col-sm-6 col-12 text-right\">\n              <button\n                type=\"submit\"\n                class=\"mt-4\"\n                nbButton\n                size=\"small\"\n                [status]=\"ernDeduction ? 'success' : 'danger'\"\n              >\n                Add {{ ernDeduction ? 'Earning' : 'Deduction' }}\n              </button>\n            </div>\n          </div>\n        </form>\n\n        <br />\n\n        <div class=\"row\">\n          <div class=\"col-md-6 col-12\">\n            <nb-card status=\"basic\">\n              <nb-card-header>\n                <h5>Earnings</h5>\n              </nb-card-header>\n              <nb-card-body class=\"ern-deduct-body\">\n                <div class=\"table-responsive\" *ngIf=\"earnings.length > 0; else noEarnings\">\n                  <table class=\"table table-am\">\n                    <thead>\n                      <tr>\n                        <th>#</th>\n                        <th>Earning</th>\n                        <th>Amount</th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr *ngFor=\"let earning of earnings; let i = index\">\n                        <td>{{ i + 1 }}</td>\n                        <td>{{ earning.description }}</td>\n                        <td>{{ earning.amount }}</td>\n                        <td>\n                          <button\n                            nbButton\n                            size=\"tiny\"\n                            outline\n                            status=\"danger\"\n                            shape=\"round\"\n                            (click)=\"deleteErnDeduct(true, i)\"\n                            nbTooltip=\"Remove Earning\"\n                            *ngIf=\"i !== 0\"\n                          >\n                            <nb-icon icon=\"close-outline\"></nb-icon>\n                          </button>\n                        </td>\n                      </tr>\n                      <tr>\n                        <th colspan=\"2\">Total</th>\n                        <th colspan=\"2\">{{ totalEarning() }}</th>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </nb-card-body>\n            </nb-card>\n          </div>\n\n          <div class=\"col-md-6 col-12\">\n            <nb-card status=\"basic\">\n              <nb-card-header>\n                <h5>Deductions</h5>\n              </nb-card-header>\n              <nb-card-body class=\"ern-deduct-body\">\n                <div class=\"table-responsive\" *ngIf=\"deductions.length > 0; else noDeductions\">\n                  <table class=\"table table-sm\">\n                    <thead>\n                      <tr>\n                        <th>#</th>\n                        <th>Deduction</th>\n                        <th>Amount</th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr *ngFor=\"let deduction of deductions; let i = index\">\n                        <td>{{ i + 1 }}</td>\n                        <td>{{ deduction.description }}</td>\n                        <td>{{ deduction.amount }}</td>\n                        <td>\n                          <button\n                            nbButton\n                            size=\"tiny\"\n                            outline\n                            status=\"danger\"\n                            shape=\"round\"\n                            nbTooltip=\"Remove Deduction\"\n                            (click)=\"deleteErnDeduct(false, i)\"\n                          >\n                            <nb-icon icon=\"close-outline\"></nb-icon>\n                          </button>\n                        </td>\n                      </tr>\n                      <tr>\n                        <th colspan=\"2\">Total</th>\n                        <th colspan=\"2\">{{ totalDeduction() }}</th>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </nb-card-body>\n            </nb-card>\n          </div>\n        </div>\n\n        <hr />\n\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <button nbButton size=\"small\" type=\"button\" (click)=\"previousStep()\">\n              <nb-icon icon=\"arrow-ios-back-outline\"></nb-icon>\n              <span>Previous</span>\n            </button>\n          </div>\n          <div class=\"col-md-6 text-right\">\n            <button nbButton size=\"small\" type=\"button\" (click)=\"ernDeductFormSubmit()\">\n              <span>Next</span>\n              <nb-icon icon=\"arrow-ios-forward-outline\"></nb-icon>\n            </button>\n          </div>\n        </div>\n      </nb-step>\n\n      <nb-step [stepControl]=\"paymentDetailsForm\" label=\"Payment Details\">\n        <form class=\"\" (submit)=\"paymentDetailsFormSubmit()\" [formGroup]=\"paymentDetailsForm\">\n          <div class=\"row\">\n            <div class=\"col-md-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-generated-by\">Generated By:</label>\n                <input\n                  type=\"text\"\n                  nbInput\n                  id=\"input-generated-by\"\n                  name=\"generatedBy\"\n                  formControlName=\"generatedBy\"\n                  placeholder=\"Generated By\"\n                  fullWidth\n                  [status]=\"\n                    paymentDetailsForm.get('generatedBy').touched\n                      ? paymentDetailsForm.get('generatedBy').invalid\n                        ? 'danger'\n                        : 'success'\n                      : 'basic'\n                  \"\n                />\n                <ng-container\n                  *ngIf=\"\n                    paymentDetailsForm.get('generatedBy').invalid &&\n                    paymentDetailsForm.get('generatedBy').touched\n                  \"\n                >\n                  <p\n                    class=\"caption status-danger\"\n                    *ngIf=\"paymentDetailsForm.get('generatedBy').errors?.required\"\n                  >\n                    Generated By is required!\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-payment-mode\">Payment Mode:</label>\n                <nb-select\n                  id=\"input-payment-mode\"\n                  name=\"paymentMode\"\n                  formControlName=\"paymentMode\"\n                  [status]=\"\n                    paymentDetailsForm.get('paymentMode').touched\n                      ? paymentDetailsForm.get('paymentMode').invalid\n                        ? 'danger'\n                        : 'success'\n                      : 'basic'\n                  \"\n                  fullWidth\n                >\n                  <nb-option value=\"\">Select Payment Mode</nb-option>\n                  <nb-option value=\"cash\">Cash</nb-option>\n                  <nb-option value=\"card\">Card</nb-option>\n                  <nb-option value=\"wallet\">Waller</nb-option>\n                  <nb-option value=\"other\">Other</nb-option>\n                </nb-select>\n                <ng-container\n                  *ngIf=\"\n                    paymentDetailsForm.get('paymentMode').invalid &&\n                    paymentDetailsForm.get('paymentMode').touched\n                  \"\n                >\n                  <p\n                    class=\"caption status-danger\"\n                    *ngIf=\"paymentDetailsForm.get('paymentMode').errors?.required\"\n                  >\n                    Please Select Payment Mode\n                  </p>\n                </ng-container>\n              </div>\n            </div>\n\n            <div class=\"col-md-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-bank-details\">Bank Details:</label>\n                <input\n                  type=\"text\"\n                  nbInput\n                  id=\"input-bank-details\"\n                  name=\"bankDetails\"\n                  formControlName=\"bankDetails\"\n                  placeholder=\"Bank Details\"\n                  fullWidth\n                  status=\"basic\"\n                />\n              </div>\n            </div>\n\n            <div class=\"col-md-6 col-12\">\n              <div class=\"form-control-group\">\n                <label class=\"label\" for=\"input-transaction-details\">Transaction Details:</label>\n                <input\n                  type=\"text\"\n                  nbInput\n                  id=\"input-transaction-details\"\n                  name=\"transactionDetails\"\n                  formControlName=\"transactionDetails\"\n                  placeholder=\"Transaction Details\"\n                  fullWidth\n                  status=\"basic\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <hr />\n\n          <div class=\"row\">\n            <div class=\"col-6 text-left\">\n              <button type=\"button\" class=\"\" nbButton size=\"small\" (click)=\"previousStep()\">\n                <nb-icon icon=\"arrow-ios-back-outline\"></nb-icon>\n                <span>prev</span>\n              </button>\n            </div>\n            <div class=\"col-6 text-right\">\n              <button nbButton size=\"small\" type=\"submit\">\n                <span>Next</span>\n                <nb-icon icon=\"arrow-ios-forward-outline\"></nb-icon>\n              </button>\n            </div>\n          </div>\n        </form>\n      </nb-step>\n\n      <nb-step label=\"Submit\">\n        <div class=\"step-container\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n              <tr>\n                <th>Date</th>\n                <td>{{ salaryForm.value.date }}</td>\n              </tr>\n              <tr>\n                <th>Month/Year</th>\n                <td>\n                  {{ dateService.getMonthByMonthNumber(salaryForm.value.month) }}\n                  <span>&nbsp;</span>\n                  {{ salaryForm.value.year }}\n                </td>\n              </tr>\n              <tr>\n                <th>Basic Salary</th>\n                <td>{{ branchEmployee.basicSalary }}</td>\n              </tr>\n              <tr>\n                <th>Description</th>\n                <td>{{ salaryForm.value.description ? salaryForm.value.description : '--' }}</td>\n              </tr>\n              <tr>\n                <th>Earnings</th>\n                <td>\n                  <div class=\"table-responsive\" *ngIf=\"earnings.length > 0; else noEarnings\">\n                    <table class=\"table table-am\">\n                      <thead>\n                        <tr>\n                          <th>#</th>\n                          <th>Earning</th>\n                          <th>Amount</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr *ngFor=\"let earning of earnings; let i = index\">\n                          <td>{{ i + 1 }}</td>\n                          <td>{{ earning.description }}</td>\n                          <td>{{ earning.amount }}</td>\n                        </tr>\n                        <tr>\n                          <th colspan=\"2\">Total</th>\n                          <th>{{ totalEarning() }}</th>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </td>\n              </tr>\n              <tr>\n                <th>Deductions</th>\n                <td>\n                  <div class=\"table-responsive\" *ngIf=\"deductions.length > 0; else noDeductions\">\n                    <table class=\"table table-sm\">\n                      <thead>\n                        <tr>\n                          <th>#</th>\n                          <th>Deduction</th>\n                          <th>Amount</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr *ngFor=\"let deduction of deductions; let i = index\">\n                          <td>{{ i + 1 }}</td>\n                          <td>{{ deduction.description }}</td>\n                          <td>{{ deduction.amount }}</td>\n                        </tr>\n                        <tr>\n                          <th colspan=\"2\">Total</th>\n                          <th>{{ totalDeduction() }}</th>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </td>\n              </tr>\n              <tr>\n                <th>Generated By</th>\n                <td>{{ paymentDetailsForm.value.generatedBy }}</td>\n              </tr>\n              <tr>\n                <th>Payment Mode</th>\n                <td>{{ paymentDetailsForm.value.paymentMode | uppercase }}</td>\n              </tr>\n              <tr>\n                <th>Bank Details</th>\n                <td>\n                  {{\n                    paymentDetailsForm.value.bankDetails\n                      ? paymentDetailsForm.value.bankDetails\n                      : '--'\n                  }}\n                </td>\n              </tr>\n              <tr>\n                <th>Transaction Details</th>\n                <td>\n                  {{\n                    paymentDetailsForm.value.transactionDetails\n                      ? paymentDetailsForm.value.transactionDetails\n                      : '--'\n                  }}\n                </td>\n              </tr>\n              <tr>\n                <th>Net Salary</th>\n                <td>{{ getNetSalary() }}</td>\n              </tr>\n              <tr>\n                <th>Net Salary in Words</th>\n                <td>{{ getNetSalaryInWords() }}</td>\n              </tr>\n            </table>\n          </div>\n\n          <hr />\n\n          <div class=\"row\">\n            <div class=\"col-6 text-left\">\n              <button\n                type=\"button\"\n                class=\"\"\n                nbButton\n                size=\"small\"\n                (click)=\"previousStep()\"\n                [disabled]=\"submit\"\n              >\n                <nb-icon icon=\"arrow-ios-back-outline\"></nb-icon>\n                <span>prev</span>\n              </button>\n            </div>\n            <div class=\"col-6 text-right\">\n              <button\n                nbButton\n                size=\"small\"\n                (click)=\"saveEmployee()\"\n                [disabled]=\"submit\"\n                [nbSpinner]=\"submit\"\n                nbSpinnerStatus=\"primary\"\n                nbSpinnerSize=\"small\"\n              >\n                <span>Submit</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </nb-step>\n    </nb-stepper>\n  </nb-card-body>\n</nb-card>\n\n<ng-template #noEarnings>\n  <p class=\"text-center pt-5 pb-5\">No Earnings</p>\n</ng-template>\n<ng-template #noDeductions>\n  <p class=\"text-center pt-5 pb-5\">No Deductions</p>\n</ng-template>\n","import { AddSalaryComponent } from './add-salary.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddSalaryComponent,\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddSalaryRoutingModule {}\n","import { EmployeeSalaryService } from './../../../../../services/employee-salary.service';\nimport { DateService, Month } from './../../../../../services/shared-services/date.service';\nimport { BranchEmployeeService } from './../../../../../services/branch-employee.service';\nimport { EmployeeService } from './../../../../../services/employee.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { EmployeeModel } from './../../../../../models/employee.model';\nimport { BranchEmployeeModel } from './../../../../../models/branch-employee.model';\nimport { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { BranchService } from './../../../../../services/branch.service';\nimport { NbToastrService, NbStepperComponent } from '@nebular/theme';\nimport { numberToWords } from '../../../../../shared/numberToWords';\n\n@Component({\n  selector: 'ngx-add-salary',\n  templateUrl: './add-salary.component.html',\n  styleUrls: ['./add-salary.component.scss'],\n})\nexport class AddSalaryComponent implements OnInit, OnDestroy {\n  @ViewChild('stepper', { static: false }) stepper: NbStepperComponent;\n\n  loading: boolean;\n  submit: boolean;\n\n  private branchId: string;\n\n  employee: EmployeeModel;\n  branchEmployee: BranchEmployeeModel;\n\n  salaryForm: FormGroup;\n  ernDeductForm: FormGroup;\n  paymentDetailsForm: FormGroup;\n\n  ernDeduction: boolean;\n  earnings: any[];\n  deductions: any[];\n  months: Month[];\n  years: string[];\n\n  constructor(\n    private branchService: BranchService,\n    private employeeService: EmployeeService,\n    private branchEmployeeService: BranchEmployeeService,\n    private employeeSalaryService: EmployeeSalaryService,\n    public dateService: DateService,\n    private toastrService: NbToastrService,\n    private router: Router,\n    private route: ActivatedRoute,\n  ) {\n    // route.queryParams.subscribe((param: Params) => {\n    //   // put the code from `ngOnInit` here\n    //   this.ngOnInit();\n    // });\n  }\n\n  ngOnInit(): void {\n    this.loading = true;\n    this.submit = false;\n\n    this.branchId = this.branchService.getBranchId();\n    if (!this.branchId) {\n      this.router.navigate(['../'], { relativeTo: this.route });\n      return;\n    }\n\n    this.employeeService.getEmployeeData().subscribe((employee: EmployeeModel) => {\n      this.employee = employee;\n    });\n\n    this.branchEmployeeService\n      .getBranchEmployeeData()\n      .subscribe((branchEmployee: BranchEmployeeModel) => {\n        this.branchEmployee = branchEmployee;\n      });\n\n    this.ernDeduction = true;\n    this.earnings = [\n      {\n        description: 'Basic Amount',\n        amount: parseFloat(this.branchEmployee.basicSalary).toFixed(2),\n      },\n    ];\n    this.deductions = [];\n\n    this.years = this.dateService.getYears();\n    this.months = this.dateService.getMonths();\n\n    this.salaryForm = new FormGroup({\n      date: new FormControl(this.dateService.getDateString(), {\n        validators: [Validators.required],\n      }),\n      month: new FormControl(this.dateService.getCurrentMonth(), {\n        validators: [Validators.required],\n      }),\n      year: new FormControl(this.dateService.getCurrentYear(), {\n        validators: [Validators.required],\n      }),\n      basicAmount: new FormControl(this.branchEmployee.basicSalary, {\n        validators: [Validators.required],\n      }),\n      description: new FormControl(null, {\n        validators: [],\n      }),\n    });\n\n    this.salaryForm.get('basicAmount').disable();\n\n    this.ernDeductForm = new FormGroup({\n      description: new FormControl(null, {\n        validators: [Validators.required],\n      }),\n      amount: new FormControl(0, {\n        validators: [Validators.required, Validators.min(0)],\n      }),\n    });\n\n    this.paymentDetailsForm = new FormGroup({\n      generatedBy: new FormControl(null, {\n        validators: [Validators.required],\n      }),\n      paymentMode: new FormControl('', { validators: [Validators.required] }),\n      bankDetails: new FormControl(null, { validators: [] }),\n      transactionDetails: new FormControl(null, { validators: [] }),\n    });\n\n    this.loading = false;\n  }\n\n  ernDeductChange(ernDeduction: any) {\n    if (ernDeduction === '0') {\n      this.ernDeduction = true;\n    } else {\n      this.ernDeduction = false;\n    }\n  }\n\n  addErnDeduct() {\n    if (this.ernDeductForm.invalid) {\n      this.showToastr(\n        'top-right',\n        'danger',\n        `Enter Valid ${this.ernDeduction ? 'Earning' : 'Deduction'} Details`,\n      );\n      return;\n    }\n\n    const extras: any = {\n      description: this.ernDeductForm.value.description,\n      amount: parseFloat(this.ernDeductForm.value.amount).toFixed(2),\n    };\n    if (this.ernDeduction) {\n      this.earnings.push(extras);\n    } else {\n      this.deductions.push(extras);\n    }\n    this.ernDeductForm.reset({ amount: '0' });\n  }\n\n  deleteErnDeduct(ernDeduct: boolean, i: number) {\n    if (ernDeduct) {\n      if (i === 0) {\n        return;\n      }\n      this.earnings.splice(i, 1);\n    } else {\n      this.deductions.splice(i, 1);\n    }\n  }\n\n  totalEarning() {\n    let totalEarningAmount: any = 0;\n    this.earnings.forEach((earning) => {\n      totalEarningAmount += +earning.amount;\n    });\n    return parseFloat(totalEarningAmount).toFixed(2);\n  }\n\n  totalDeduction() {\n    let totalDeductionAmount: any = 0;\n    this.deductions.forEach((deduction) => {\n      totalDeductionAmount += +deduction.amount;\n    });\n    return parseFloat(totalDeductionAmount).toFixed(2);\n  }\n\n  getNetSalary() {\n    const totalEarnings = +this.totalEarning();\n    const totalDeductions = +this.totalDeduction();\n    const netSalary: number = totalEarnings - totalDeductions;\n    return netSalary.toFixed(2).toString();\n  }\n\n  getNetSalaryInWords() {\n    const netSalary: number = +this.getNetSalary();\n    return numberToWords(netSalary) + ' Only/-';\n  }\n\n  previousStep() {\n    if (this.stepper.selectedIndex === 1) {\n      this.salaryForm.get('basicAmount').disable();\n    }\n    this.stepper.previous();\n  }\n\n  salaryFormSubmit() {\n    this.salaryForm.markAllAsTouched();\n    if (this.salaryForm.invalid) {\n      this.showToastr('top-right', 'danger', 'Employee Salary Details are Required');\n      return;\n    }\n    this.stepper.next();\n    this.salaryForm.get('basicAmount').enable();\n  }\n\n  ernDeductFormSubmit() {\n    this.stepper.next();\n  }\n\n  paymentDetailsFormSubmit() {\n    this.paymentDetailsForm.markAllAsTouched();\n    if (this.paymentDetailsForm.invalid) {\n      this.showToastr('top-right', 'danger', 'Enter Valid Payment Details');\n      return;\n    }\n    this.stepper.next();\n  }\n\n  saveEmployee() {\n    this.salaryForm.markAllAsTouched();\n\n    if (this.salaryForm.invalid) {\n      this.showToastr('top-right', 'danger', 'Employee Salary Details are Required');\n      return;\n    }\n\n    this.submit = true;\n\n    const employeeSalary: any = {\n      branch: this.branchId,\n      employee: this.employee.imsMasterId,\n      role: this.branchEmployee.role,\n      ...this.salaryForm.value,\n      earnings: this.earnings,\n      deductions: this.deductions,\n      ...this.paymentDetailsForm.value,\n      netSalary: this.getNetSalary(),\n      netSalaryInWords: this.getNetSalaryInWords(),\n    };\n\n    this.employeeSalaryService.addEmployeeSalary(employeeSalary).subscribe(\n      (res: any) => {\n        this.showToastr('top-right', 'success', 'Employee Salary Added Successfully');\n        this.back();\n      },\n      (error: any) => {\n        this.showToastr('top-right', 'danger', error);\n        this.submit = false;\n      },\n    );\n  }\n\n  private showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n\n  back() {\n    const type = this.employeeService.getEmployeeType();\n    this.router.navigate(['../'], { relativeTo: this.route, queryParams: { type } });\n  }\n\n  ngOnDestroy() {\n    this.employeeService.deleteEmployeeId();\n    this.branchEmployeeService.deleteBranchEmployeeId();\n  }\n}\n","import { ReactiveFormsModule } from '@angular/forms';\nimport {\n  NbCardModule,\n  NbIconModule,\n  NbSelectModule,\n  NbInputModule,\n  NbButtonModule,\n  NbSpinnerModule,\n  NbStepperModule,\n  NbToggleModule,\n  NbTooltipModule,\n  NbFormFieldModule,\n} from '@nebular/theme';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AddSalaryRoutingModule } from './add-salary-routing.module';\nimport { AddSalaryComponent } from './add-salary.component';\n\n@NgModule({\n  declarations: [AddSalaryComponent],\n  imports: [\n    CommonModule,\n    AddSalaryRoutingModule,\n    NbCardModule,\n    NbIconModule,\n    NbSelectModule,\n    NbInputModule,\n    NbTooltipModule,\n    NbButtonModule,\n    NbSpinnerModule,\n    NbStepperModule,\n    NbToggleModule,\n    NbFormFieldModule,\n    ReactiveFormsModule,\n  ],\n})\nexport class AddSalaryModule {}\n"]}