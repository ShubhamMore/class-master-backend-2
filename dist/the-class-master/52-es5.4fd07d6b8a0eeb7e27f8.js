!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1825:function(e,a,i){"use strict";i.r(a),i.d(a,"TransactionModule",(function(){return x}));var r=i("aceb"),o=i("ofXK"),c=i("fXoL"),u=i("FkVd"),s=i("tyNb"),l=i("ZatZ");function d(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td"),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275elementStart"](10,"button",7),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var t=e.$implicit;return c["\u0275\u0275nextContext"](3).viewTransaction(t)})),c["\u0275\u0275text"](11," View "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit,i=e.index,r=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](i+1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("trans_",a._id,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",r.dateService.formatDate(r.dateService.convertToDateString(a.createdAt))," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",r.getAmount(a.amount),"/-")}}function f(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275elementStart"](1,"table",5),c["\u0275\u0275elementStart"](2,"thead"),c["\u0275\u0275elementStart"](3,"tr"),c["\u0275\u0275elementStart"](4,"th"),c["\u0275\u0275text"](5,"#"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"th"),c["\u0275\u0275text"](7,"Transaction Id"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"th"),c["\u0275\u0275text"](9,"Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"th"),c["\u0275\u0275text"](11,"Amount"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](12,"th"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"tbody"),c["\u0275\u0275template"](14,d,12,4,"tr",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](14),c["\u0275\u0275property"]("ngForOf",n.transactions)}}function p(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275template"](1,f,15,1,"div",3),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](),a=c["\u0275\u0275reference"](9);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.transactions.length>0)("ngIfElse",a)}}function m(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"p",8),c["\u0275\u0275text"](1,"Loading..."),c["\u0275\u0275elementEnd"]())}function v(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"p",8),c["\u0275\u0275text"](1,"No Transactions Available"),c["\u0275\u0275elementEnd"]())}var h,g,S,b=[{path:"",component:(h=function(){function e(n,a,i,r,o){t(this,e),this.transactionService=n,this.router=a,this.route=i,this.dateService=r,this.toastrService=o}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.transactionService.getInstituteTransactions().subscribe((function(e){t.transactions=e,t.loading=!1}),(function(e){t.showToastr("top-right","danger",e),t.loading=!1}))}},{key:"viewTransaction",value:function(t){this.transactionService.setInstituteTransactionData(t),this.router.navigate(["./view"],{relativeTo:this.route})}},{key:"getAmount",value:function(t){return(t=parseFloat(t.toString())).toFixed(2).toString()}},{key:"showToastr",value:function(t,e,n){this.toastrService.show(e,n,{position:t,status:e})}}]),e}(),h.\u0275fac=function(t){return new(t||h)(c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](s.c),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](r.Gb))},h.\u0275cmp=c["\u0275\u0275defineComponent"]({type:h,selectors:[["ngx-transaction"]],decls:10,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingData",""],["noTransactions",""],["class","table-responsive",4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-borderless"],[4,"ngFor","ngForOf"],["type","button","nbButton","","size","small","status","success",3,"click"],[1,"pt-5","pb-5","text-center"]],template:function(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"nb-card"),c["\u0275\u0275elementStart"](1,"nb-card-header"),c["\u0275\u0275elementStart"](2,"h3"),c["\u0275\u0275text"](3,"Transactions"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"nb-card-body"),c["\u0275\u0275template"](5,p,2,2,"div",0),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,m,2,0,"ng-template",null,1,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](8,v,2,0,"ng-template",null,2,c["\u0275\u0275templateRefExtractor"])),2&t){var n=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!e.loading)("ngIfElse",n)}},directives:[r.y,r.A,r.x,o.n,o.m,r.v],styles:[""]}),h),canActivate:[]},{path:"view",loadChildren:function(){return i.e(228).then(i.bind(null,"7/TM")).then((function(t){return t.ViewTransactionModule}))}},{path:"page-not-found",loadChildren:function(){return i.e(0).then(i.bind(null,"DeSt")).then((function(t){return t.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],T=((S=function e(){t(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:S}),S.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||S)},imports:[[s.g.forChild(b)],s.g]}),S),x=((g=function e(){t(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:g}),g.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||g)},imports:[[o.c,r.B,r.w,T]]}),g)},FkVd:function(e,a,i){"use strict";i.d(a,"a",(function(){return d}));var r=i("lJxs"),o=i("JIr8"),c=i("2Vo4"),u=i("z6cu"),s=i("fXoL"),l=i("fCOA"),d=function(){var e=function(){function e(n){t(this,e),this.httpService=n,this.instituteTransaction=new c.a(null),this.studentTransaction=new c.a(null)}return n(e,[{key:"setInstituteTransactionData",value:function(t){this.instituteTransaction.next(t)}},{key:"getInstituteTransactionData",value:function(){return this.instituteTransaction}},{key:"deleteInstituteTransactionData",value:function(){this.instituteTransaction.next(null)}},{key:"setStudentTransactionData",value:function(t){this.studentTransaction.next(t)}},{key:"getStudentTransactionData",value:function(){return this.studentTransaction}},{key:"deleteStudentTransactionData",value:function(){this.studentTransaction.next(null)}},{key:"getTransactionHistory",value:function(){return this.httpService.httpPost({api:"getTransactionHistory",data:{}}).pipe(Object(r.a)((function(t){return t})),Object(o.a)((function(t){return Object(u.a)(t)})))}},{key:"getInstituteTransaction",value:function(t){return this.httpService.httpPost({api:"getInstituteTransaction",data:{id:t}}).pipe(Object(r.a)((function(t){return t})),Object(o.a)((function(t){return Object(u.a)(t)})))}},{key:"getInstituteTransactions",value:function(){return this.httpService.httpPost({api:"getInstituteTransactions",data:{}}).pipe(Object(r.a)((function(t){return t})),Object(o.a)((function(t){return Object(u.a)(t)})))}},{key:"getStudentTransaction",value:function(t){return this.httpService.httpPost({api:"getStudentTransaction",data:{id:t}}).pipe(Object(r.a)((function(t){return t})),Object(o.a)((function(t){return Object(u.a)(t)})))}},{key:"getStudentTransactions",value:function(){return this.httpService.httpPost({api:"getStudentTransactions",data:{}}).pipe(Object(r.a)((function(t){return t})),Object(o.a)((function(t){return Object(u.a)(t)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](l.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();
//# sourceMappingURL=52-es5.4fd07d6b8a0eeb7e27f8.js.map