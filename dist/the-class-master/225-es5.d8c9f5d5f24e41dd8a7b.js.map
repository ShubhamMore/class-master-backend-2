{"version":3,"sources":["webpack:///src/app/institute/membership-plans/membership-plans.component.html","webpack:///src/app/institute/membership-plans/membership-plans-routing.module.ts","webpack:///src/app/institute/membership-plans/membership-plans.component.ts","webpack:///src/app/institute/membership-plans/membership-plans.module.ts"],"names":["MembershipPlansComponent","MembershipPlansRoutingModule","MembershipPlansModule","routes","path","component","menuService","branchService","membershipService","paymentService","dialogService","toastrService","router","route","this","loading","submit","branchId","getBranchId","membershipType","getMembershipType","setBranchId","membershipPlans","getMembershipPlans","hideMenu","getMemberships","subscribe","error","name","membershipPlan","getMembership","parseFloat","price","toString","toFixed","order","status","activateBranch","receipt","checkout","open","context","closeOnBackdropClick","closeOnEsc","onClose","onClosePayment","find","curMembershipPlan","planType","packageType","setPaymentDetails","paymentDetails","getPaymentDetails","onCheckout","navigate","relativeTo","id","orderId","ReceiptId","amount","receiptId","res","showToastr","position","message","show","deleteBranchId","deletePaymentDetails","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","forChild"],"mappings":"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","file":"x","sourcesContent":["<nb-card>\n  <nb-card-header>\n    <h3>Pricing</h3>\n  </nb-card-header>\n  <nb-card-body>\n    <div class=\"table-responsive\">\n      <table class=\"table table-bordered\">\n        <thead>\n          <tr class=\"table-header\">\n            <th class=\"feature-heading\">\n              <h3>Feature</h3>\n            </th>\n            <th class=\"first-heading\">\n              <h4>Monthly</h4>\n              <h6>&#x20B9; {{ getPrice('monthly') }}</h6>\n            </th>\n            <th class=\"second-heading\">\n              <h4>Quarterly</h4>\n              <h6>&#x20B9; {{ getPrice('quarterly') }}</h6>\n            </th>\n            <th class=\"third-heading\">\n              <h4>Half Yearly</h4>\n              <h6>&#x20B9; {{ getPrice('half-yearly') }}</h6>\n            </th>\n            <th class=\"fourth-heading\">\n              <h4>Yearly</h4>\n              <h6>&#x20B9; {{ getPrice('yearly') }}</h6>\n            </th>\n          </tr>\n        </thead>\n        <tbody class=\"\">\n          <tr>\n            <td class=\"feature-title\">DURATION</td>\n            <td class=\"first-title\">1 Month</td>\n            <td class=\"second-title\">3 Months</td>\n            <td class=\"third-title\">6 Months</td>\n            <td class=\"fourth-title\">12 Months</td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">CLASS MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">STUDENT MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">ATTENDANCE MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">STUDY MATERIAL STORAGE & SHARING</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">HOMEWORK MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">STUDENT PERFORMANCE TRACKER</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">FEE MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">EMPLOYEE MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">SALARY MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">LEAVE MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">REAL TIME BUSINESS REPORTS</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">REAL TIME NOTIFICATIONS</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">REMINDER AND ALERTS</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">LECTURE MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">EXAM MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">ONLINE EXAM MANAGEMENT</td>\n            <td class=\"first-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"second-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"third-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n            <td class=\"fourth-title\"><nb-icon status=\"success\" icon=\"checkmark\"></nb-icon></td>\n          </tr>\n\n          <tr>\n            <td class=\"feature-title\">STORAGE</td>\n            <td class=\"first-title\">2GB</td>\n            <td class=\"second-title\">2GB</td>\n            <td class=\"third-title\">2GB</td>\n            <td class=\"fourth-title\">2GB</td>\n          </tr>\n        </tbody>\n        <tr>\n          <td class=\"feature-footer\"></td>\n          <td class=\"first-footer\">\n            <button\n              nbButton\n              size=\"small\"\n              (click)=\"activate('membership', 'monthly')\"\n              *ngIf=\"isMembershipPlanAvailable('monthly'); else noMembership\"\n              [disabled]=\"submit\"\n              [nbSpinner]=\"submit && paymentDetails.packageType === 'monthly'\"\n              nbSpinnerStatus=\"primary\"\n              nbSpinnerSize=\"small\"\n            >\n              Activate\n            </button>\n          </td>\n          <td class=\"second-footer\">\n            <button\n              nbButton\n              size=\"small\"\n              (click)=\"activate('membership', 'quarterly')\"\n              *ngIf=\"isMembershipPlanAvailable('quarterly'); else noMembership\"\n              [disabled]=\"submit\"\n              [nbSpinner]=\"submit && paymentDetails.packageType === 'quarterly'\"\n              nbSpinnerStatus=\"primary\"\n              nbSpinnerSize=\"small\"\n            >\n              Activate\n            </button>\n          </td>\n          <td class=\"third-footer\">\n            <button\n              nbButton\n              size=\"small\"\n              (click)=\"activate('membership', 'half-yearly')\"\n              *ngIf=\"isMembershipPlanAvailable('half-yearly'); else noMembership\"\n              [disabled]=\"submit\"\n              [nbSpinner]=\"submit && paymentDetails.packageType === 'half-yearly'\"\n              nbSpinnerStatus=\"primary\"\n              nbSpinnerSize=\"small\"\n            >\n              Activate\n            </button>\n          </td>\n          <td class=\"fourth-footer\">\n            <button\n              nbButton\n              size=\"small\"\n              (click)=\"activate('membership', 'yearly')\"\n              *ngIf=\"isMembershipPlanAvailable('yearly'); else noMembership\"\n              [disabled]=\"submit\"\n              [nbSpinner]=\"submit && paymentDetails.packageType === 'yearly'\"\n              nbSpinnerStatus=\"primary\"\n              nbSpinnerSize=\"small\"\n            >\n              Activate\n            </button>\n          </td>\n        </tr>\n        <tfoot></tfoot>\n      </table>\n    </div>\n  </nb-card-body>\n</nb-card>\n\n<ng-template #noMembership>\n  <button nbButton size=\"small\">Comming Soon</button>\n</ng-template>\n","import { MembershipPlansComponent } from './membership-plans.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MembershipPlansComponent,\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../shared/page-not-found/page-not-found.module').then((m) => m.PageNotFoundModule),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MembershipPlansRoutingModule {}\n","import { MembershipPlanModel } from './../../models/membership-plan.model';\nimport { PaymentComponent } from './../payment/payment.component';\nimport { NbDialogService, NbToastrService } from '@nebular/theme';\nimport { CheckoutComponent } from './../checkout/checkout.component';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PaymentService } from './../../services/payment.service';\nimport { BranchService } from './../../services/branch.service';\nimport { MenuService } from './../menu.service';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { MembershipService } from '../../services/membership.service';\n\n@Component({\n  selector: 'ngx-membership-plans',\n  templateUrl: './membership-plans.component.html',\n  styleUrls: ['./membership-plans.component.scss'],\n})\nexport class MembershipPlansComponent implements OnInit, OnDestroy {\n  loading: boolean;\n  submit: boolean;\n\n  branchId: string;\n  membershipType: string;\n  paymentDetails: any;\n\n  membershipPlans: MembershipPlanModel[];\n\n  constructor(\n    private menuService: MenuService,\n    private branchService: BranchService,\n    private membershipService: MembershipService,\n    private paymentService: PaymentService,\n    private dialogService: NbDialogService,\n    private toastrService: NbToastrService,\n    private router: Router,\n    private route: ActivatedRoute,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = true;\n    this.submit = false;\n\n    this.branchId = this.branchService.getBranchId();\n    this.membershipType = this.membershipService.getMembershipType();\n\n    if (this.membershipType !== 'renew') {\n      this.branchService.setBranchId('');\n      this.branchId = null;\n    }\n\n    this.membershipPlans = [];\n\n    this.getMembershipPlans();\n\n    this.menuService.hideMenu();\n  }\n\n  getMembershipPlans() {\n    this.membershipService.getMemberships().subscribe(\n      (membershipPlans: MembershipPlanModel[]) => {\n        this.membershipPlans = membershipPlans;\n        this.loading = false;\n      },\n      (error: any) => {\n        this.loading = false;\n      },\n    );\n  }\n\n  getPrice(name: string) {\n    const membershipPlan = this.getMembership(name);\n\n    if (membershipPlan) {\n      const price = parseFloat(membershipPlan.price.toString());\n      return price.toFixed(2).toString() + '/-';\n    } else {\n      return '--';\n    }\n  }\n\n  onClosePayment(order: any) {\n    if (order.status) {\n      this.activateBranch(this.branchId, order.order, order.receipt);\n    }\n  }\n\n  onCheckout(checkout: any) {\n    if (checkout.status) {\n      this.dialogService\n        .open(PaymentComponent, {\n          context: {},\n          closeOnBackdropClick: false,\n          closeOnEsc: false,\n        })\n        .onClose.subscribe((order: any) => order && this.onClosePayment(order));\n    }\n  }\n\n  getMembership(name: string) {\n    return this.membershipPlans.find(\n      (curMembershipPlan: MembershipPlanModel) => curMembershipPlan.name === name,\n    );\n  }\n\n  isMembershipPlanAvailable(name: string): boolean {\n    const membershipPlan = this.getMembership(name);\n\n    if (membershipPlan) {\n      return true;\n    }\n    return false;\n  }\n\n  activate(planType: string, packageType: string) {\n    const membershipPlan = this.getMembership(packageType);\n\n    if (membershipPlan) {\n      this.paymentService.setPaymentDetails(planType, packageType, membershipPlan.price);\n\n      if (this.branchId && this.membershipType === 'renew') {\n        this.paymentDetails = this.paymentService.getPaymentDetails();\n        this.dialogService\n          .open(CheckoutComponent, {\n            context: {},\n            closeOnBackdropClick: false,\n            closeOnEsc: false,\n          })\n          .onClose.subscribe((checkout: any) => checkout && this.onCheckout(checkout));\n      } else {\n        this.router.navigate(['../add'], { relativeTo: this.route });\n      }\n    }\n  }\n\n  private activateBranch(id: string, orderId: string, ReceiptId: string) {\n    this.submit = true;\n\n    const paymentDetails = {\n      amount: this.paymentDetails.amount,\n      planType: this.paymentDetails.planType,\n      packageType: this.paymentDetails.packageType,\n      orderId: orderId,\n      receiptId: ReceiptId,\n    };\n    this.branchService.activateBranch(id, paymentDetails).subscribe(\n      (res: any) => {\n        this.showToastr('top-right', 'success', 'Institute Activated Successfully');\n        this.router.navigate(['/institute'], { relativeTo: this.route });\n      },\n      (error: any) => {\n        this.submit = false;\n        this.showToastr('top-right', 'danger', error);\n      },\n    );\n  }\n\n  private showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.branchId && this.membershipType === 'renew') {\n      this.branchService.deleteBranchId();\n      this.paymentService.deletePaymentDetails();\n    }\n  }\n}\n","import { MembershipPlansComponent } from './membership-plans.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MembershipPlansRoutingModule } from './membership-plans-routing.module';\nimport { ThemeModule } from './../../@theme/theme.module';\nimport {\n  NbCardModule,\n  NbButtonModule,\n  NbIconModule,\n  NbSpinnerModule,\n  NbTooltipModule,\n} from '@nebular/theme';\n\n@NgModule({\n  declarations: [MembershipPlansComponent],\n  imports: [\n    CommonModule,\n    MembershipPlansRoutingModule,\n    ThemeModule,\n    NbCardModule,\n    NbIconModule,\n    NbButtonModule,\n    NbSpinnerModule,\n    NbTooltipModule,\n  ],\n})\nexport class MembershipPlansModule {}\n"]}