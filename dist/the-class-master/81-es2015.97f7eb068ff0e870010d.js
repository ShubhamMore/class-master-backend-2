(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{xdzg:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",(function(){return A}));var a=n("z+eI"),r=n("aceb"),l=n("ofXK"),o=n("fXoL"),i=n("EQut"),d=n("0AbP"),s=n("L3Ly"),m=n("tyNb"),c=n("ZatZ"),u=n("QKEp"),h=n("WeFf"),p=n("3b5Z");function S(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"nb-card",8),o["\u0275\u0275elementStart"](2,"nb-card-header"),o["\u0275\u0275elementStart"](3,"button",9),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).addCourse()})),o["\u0275\u0275element"](4,"nb-icon",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"h3",11),o["\u0275\u0275elementStart"](6,"span",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).manageCourse()})),o["\u0275\u0275text"](7,"Course"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"nb-card-body"),o["\u0275\u0275elementStart"](9,"nb-actions",13),o["\u0275\u0275elementStart"](10,"nb-action"),o["\u0275\u0275elementStart"](11,"div",3),o["\u0275\u0275elementStart"](12,"div",14),o["\u0275\u0275elementStart"](13,"h4",15),o["\u0275\u0275text"](14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"h6"),o["\u0275\u0275text"](16,"Active"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"nb-action"),o["\u0275\u0275elementStart"](18,"div",3),o["\u0275\u0275elementStart"](19,"div",14),o["\u0275\u0275elementStart"](20,"h4",15),o["\u0275\u0275text"](21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"h6"),o["\u0275\u0275text"](23,"Inactive"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](14),o["\u0275\u0275textInterpolate"](e.dashboardInfo.activeCourses),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](e.dashboardInfo.inactiveCourses)}}function g(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"nb-card",16),o["\u0275\u0275elementStart"](2,"nb-card-header"),o["\u0275\u0275elementStart"](3,"button",17),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).addStudent()})),o["\u0275\u0275element"](4,"nb-icon",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"h3",11),o["\u0275\u0275elementStart"](6,"span",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).manageStudent()})),o["\u0275\u0275text"](7,"Student"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"nb-card-body"),o["\u0275\u0275elementStart"](9,"nb-actions",13),o["\u0275\u0275elementStart"](10,"nb-action"),o["\u0275\u0275elementStart"](11,"div",3),o["\u0275\u0275elementStart"](12,"div",14),o["\u0275\u0275elementStart"](13,"h4",15),o["\u0275\u0275text"](14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"h6"),o["\u0275\u0275text"](16,"Active"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"nb-action"),o["\u0275\u0275elementStart"](18,"div",3),o["\u0275\u0275elementStart"](19,"div",14),o["\u0275\u0275elementStart"](20,"h4",15),o["\u0275\u0275text"](21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"h6"),o["\u0275\u0275text"](23,"Inactive"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](14),o["\u0275\u0275textInterpolate"](e.dashboardInfo.activeStudents),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](e.dashboardInfo.inactiveStudents)}}function v(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"nb-card",18),o["\u0275\u0275elementStart"](2,"nb-card-header"),o["\u0275\u0275elementStart"](3,"button",19),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).addEmployee()})),o["\u0275\u0275element"](4,"nb-icon",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"h3",11),o["\u0275\u0275elementStart"](6,"span",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).manageEmployee()})),o["\u0275\u0275text"](7,"Employee"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"nb-card-body"),o["\u0275\u0275elementStart"](9,"nb-actions",13),o["\u0275\u0275elementStart"](10,"nb-action"),o["\u0275\u0275elementStart"](11,"div",3),o["\u0275\u0275elementStart"](12,"div",14),o["\u0275\u0275elementStart"](13,"h4",15),o["\u0275\u0275text"](14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"h6"),o["\u0275\u0275text"](16,"Active"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"nb-action"),o["\u0275\u0275elementStart"](18,"div",3),o["\u0275\u0275elementStart"](19,"div",14),o["\u0275\u0275elementStart"](20,"h4",15),o["\u0275\u0275text"](21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"h6"),o["\u0275\u0275text"](23,"Inactive"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](14),o["\u0275\u0275textInterpolate"](e.dashboardInfo.activeEmployees),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](e.dashboardInfo.inactiveEmployees)}}function E(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1,"\xa0Used"),o["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275elementStart"](1,"div",14),o["\u0275\u0275elementStart"](2,"nb-card"),o["\u0275\u0275elementStart"](3,"nb-card-header"),o["\u0275\u0275elementStart"](4,"h3"),o["\u0275\u0275text"](5,"Branch Storage"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"nb-card-body"),o["\u0275\u0275elementStart"](7,"div",23),o["\u0275\u0275elementStart"](8,"h4"),o["\u0275\u0275text"](9),o["\u0275\u0275elementStart"](10,"small"),o["\u0275\u0275text"](11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"nb-progress-bar",24),o["\u0275\u0275template"](13,E,2,0,"span",25),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",26),o["\u0275\u0275elementStart"](15,"bdi"),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](9),o["\u0275\u0275textInterpolate1"](" ",e.availableStorage," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("left of ",e.totalStorage,""),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",e.usedStorageInPercentage)("displayValue",!0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.usedStorageInPercentage>=25),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("",e.usedStorage," Used")}}function x(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",20),o["\u0275\u0275elementStart"](1,"div",3),o["\u0275\u0275elementStart"](2,"div",14),o["\u0275\u0275elementStart"](3,"nb-card",21),o["\u0275\u0275elementStart"](4,"nb-card-header"),o["\u0275\u0275elementStart"](5,"button",22),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).addLead()})),o["\u0275\u0275element"](6,"nb-icon",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"h3",11),o["\u0275\u0275elementStart"](8,"span",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).manageLead()})),o["\u0275\u0275text"](9,"Lead"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"nb-card-body"),o["\u0275\u0275elementStart"](11,"nb-actions",13),o["\u0275\u0275elementStart"](12,"nb-action"),o["\u0275\u0275elementStart"](13,"div",3),o["\u0275\u0275elementStart"](14,"div",14),o["\u0275\u0275elementStart"](15,"h4",15),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"h6"),o["\u0275\u0275text"](18,"Won"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"nb-action"),o["\u0275\u0275elementStart"](20,"div",3),o["\u0275\u0275elementStart"](21,"div",14),o["\u0275\u0275elementStart"](22,"h4",15),o["\u0275\u0275text"](23),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"h6"),o["\u0275\u0275text"](25,"Open"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](26,"nb-action"),o["\u0275\u0275elementStart"](27,"div",3),o["\u0275\u0275elementStart"](28,"div",14),o["\u0275\u0275elementStart"](29,"h4",15),o["\u0275\u0275text"](30),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"h6"),o["\u0275\u0275text"](32,"Lost"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](33,b,17,6,"div",0),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](16),o["\u0275\u0275textInterpolate"](e.dashboardInfo.wonLeads),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](e.dashboardInfo.openLeads),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](e.dashboardInfo.lostLeads),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf","manager"===e.role)}}function f(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",35),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).previousYear()})),o["\u0275\u0275element"](1,"nb-icon",36),o["\u0275\u0275elementEnd"]()}}function I(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",37),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).nextYear()})),o["\u0275\u0275element"](1,"nb-icon",38),o["\u0275\u0275elementEnd"]()}}function y(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",27),o["\u0275\u0275elementStart"](1,"nb-card"),o["\u0275\u0275elementStart"](2,"nb-card-header"),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275elementStart"](4,"div",28),o["\u0275\u0275elementStart"](5,"h3"),o["\u0275\u0275elementStart"](6,"span",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).manageBudget()})),o["\u0275\u0275text"](7,"Budget"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",29),o["\u0275\u0275elementStart"](9,"div",30),o["\u0275\u0275template"](10,f,2,0,"button",31),o["\u0275\u0275elementStart"](11,"button",32),o["\u0275\u0275elementStart"](12,"strong"),o["\u0275\u0275text"](13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](14,I,2,0,"button",33),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"nb-card-body"),o["\u0275\u0275element"](16,"chart",34),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngIf",e.year>2018),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.year),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.year<e.currentYear),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("data",e.data)("options",e.options)}}function C(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275template"](1,S,24,2,"div",4),o["\u0275\u0275template"](2,g,24,2,"div",4),o["\u0275\u0275template"](3,v,24,2,"div",4),o["\u0275\u0275template"](4,x,34,4,"div",5),o["\u0275\u0275template"](5,y,17,5,"div",6),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","manager"===e.role),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","manager"===e.role),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","manager"===e.role),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","teacher"!==e.role),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","manager"===e.role)}}function w(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td"),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"td"),o["\u0275\u0275text"](12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"td"),o["\u0275\u0275text"](14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"td"),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"td"),o["\u0275\u0275text"](18),o["\u0275\u0275pipe"](19,"uppercase"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=o["\u0275\u0275nextContext"](4);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n+1),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](a.dateService.formatDate(e.date)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](a.getTime(e.startTime,e.endTime)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.categoryName),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate2"]("",e.courseName,"/",e.batchName,""),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.subjectName),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.teacherName),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.topic),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](19,10,e.sessionType))}}function T(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",41),o["\u0275\u0275elementStart"](1,"table",42),o["\u0275\u0275elementStart"](2,"thead"),o["\u0275\u0275elementStart"](3,"tr"),o["\u0275\u0275elementStart"](4,"th"),o["\u0275\u0275text"](5,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"th"),o["\u0275\u0275text"](7,"Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"th"),o["\u0275\u0275text"](9,"Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"th"),o["\u0275\u0275text"](11,"Category"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"th"),o["\u0275\u0275text"](13,"Course/Batch"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"th"),o["\u0275\u0275text"](15,"Subject"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"th"),o["\u0275\u0275text"](17,"Teacher"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"th"),o["\u0275\u0275text"](19,"Topic"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"th"),o["\u0275\u0275text"](21,"Session Type"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"tbody"),o["\u0275\u0275template"](23,w,20,12,"tr",43),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](23),o["\u0275\u0275property"]("ngForOf",e.upcomingLectures)}}function k(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,T,24,1,"div",40),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2),t=o["\u0275\u0275reference"](5);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.upcomingLectures.length>0)("ngIfElse",t)}}function B(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275elementStart"](1,"div",14),o["\u0275\u0275elementStart"](2,"nb-card"),o["\u0275\u0275elementStart"](3,"nb-card-header"),o["\u0275\u0275elementStart"](4,"h3"),o["\u0275\u0275text"](5,"Upcoming Lectures"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"nb-card-body"),o["\u0275\u0275template"](7,k,2,2,"ng-container",39),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngIf",!e.loading)("ngIfElse",t)}}function L(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",44),o["\u0275\u0275text"](1,"Loading..."),o["\u0275\u0275elementEnd"]())}function V(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",44),o["\u0275\u0275text"](1,"No Upcoming Lectures"),o["\u0275\u0275elementEnd"]())}const j=[{path:"",component:(()=>{class e{constructor(e,t,n,a,r,l,o,i,d,s,m){this.branchService=e,this.dashboardService=t,this.toastrService=n,this.storageService=a,this.router=r,this.route=l,this.dateService=o,this.budgetService=i,this.menuService=d,this.themeService=s,this.roleService=m}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.roleService.getEmployeeRole().subscribe(e=>{this.role=e}),this.upcomingLectures=[],this.getEmployeeDashboardData(),"manager"===this.role&&(this.currentYear=+this.dateService.getCurrentYear(),this.year=+this.dateService.getCurrentYear(),this.getBudgetData(),this.themeSubscription=this.themeService.getJsTheme().subscribe(e=>{this.colors=e.variables;const t=e.variables.chartjs;this.options={maintainAspectRatio:!1,responsive:!0,legend:{labels:{fontColor:t.textColor}},scales:{xAxes:[{gridLines:{display:!1,color:t.axisLineColor},ticks:{fontColor:t.textColor}}],yAxes:[{gridLines:{display:!0,color:t.axisLineColor},ticks:{fontColor:t.textColor}}]}}}))):this.back()}calculateStorage(e){const t=this.storageService.convertByteToUnit(e.totalStorageAssigned),n=this.storageService.convertByteToUnit(e.totalStorageUsed),a=this.storageService.convertByteToUnit(e.totalStorageAssigned-e.totalStorageUsed);this.totalStorage=t.value.toFixed(1)+" "+t.unit,this.usedStorage=n.value.toFixed(1)+" "+n.unit,this.availableStorage=a.value.toFixed(1)+" "+a.unit,this.usedStorageInPercentage=parseInt((100*e.totalStorageUsed/e.totalStorageAssigned).toFixed(1))}getEmployeeDashboardData(){this.dashboardService.getBranchDashboardForEmployee(this.branchId,this.role).subscribe(e=>{"manager"===this.role?(this.dashboardInfo=e,this.calculateStorage(this.dashboardInfo.branchStorage)):"teacher"===this.role?this.upcomingLectures=e:this.dashboardInfo=e,this.menuService.showMenus(),this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.router.navigate(["../../"],{relativeTo:this.route})})}addStudent(){this.router.navigate(["../student/add"],{relativeTo:this.route})}manageStudent(){this.router.navigate(["../student"],{relativeTo:this.route,queryParams:{type:"active"}})}addEmployee(){this.router.navigate(["../employee/add"],{relativeTo:this.route})}manageEmployee(){this.router.navigate(["../employee"],{relativeTo:this.route,queryParams:{type:"active"}})}addCourse(){this.router.navigate(["../manage-branch/course/add"],{relativeTo:this.route})}manageCourse(){this.router.navigate(["../manage-branch/course"],{relativeTo:this.route})}addLead(){this.router.navigate(["../lead/add"],{relativeTo:this.route})}manageLead(){this.router.navigate(["../lead"],{relativeTo:this.route,queryParams:{type:"active"}})}manageBudget(){this.router.navigate(["../budget"],{relativeTo:this.route})}manageClassSchedule(){this.router.navigate(["../schedule"],{relativeTo:this.route})}manageStudentReports(){this.router.navigate(["../students-report"],{relativeTo:this.route})}previousYear(){this.year>=2018&&(this.year--,this.getBudgetData())}nextYear(){this.year<=this.currentYear&&(this.year++,this.getBudgetData())}getBudgetData(){this.budgetService.getBudgetForBranchDashboard(this.branchId,this.year.toString()).subscribe(e=>{this.setBarChartData(e)},e=>{this.showToastr("top-right","danger",e)})}setBarChartData(e){const t=[],n=[];for(let a=0;a<12;a++){const r=e.income.find(e=>e._id===a+1);t.push(r?r.amount:0);const l=e.expense.find(e=>e._id===a+1);n.push(l?l.amount:0)}this.data={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:t,label:"Income",backgroundColor:this.colors.warningLight},{data:n,label:"Expense",backgroundColor:this.colors.dangerLight}]}}back(){this.router.navigate(["../"],{relativeTo:this.route})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](d.a),o["\u0275\u0275directiveInject"](r.Gb),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](m.c),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](r.Eb),o["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dashboard"]],decls:6,vars:2,consts:[["class","row",4,"ngIf"],["loadingData",""],["noUpcomingLectures",""],[1,"row"],["class","col-md-4 col-sm-6 col-12",4,"ngIf"],["class","col-md-5 col-sm-6 col-12",4,"ngIf"],["class","col-md-7 col-sm-6 col-12",4,"ngIf"],[1,"col-md-4","col-sm-6","col-12"],["status","warning"],["nbButton","","size","small","outline","","status","warning","nbTooltip","Add Course","shape","round",1,"float-right","text-white",3,"click"],["icon","plus"],[1,"text-white"],[1,"pointer",3,"click"],["size","giant","fullWidth",""],[1,"col-12"],[1,"text-center"],["status","success"],["nbButton","","size","small","outline","","status","success","nbTooltip","Add Student","shape","round",1,"float-right","text-white",3,"click"],["status","danger"],["nbButton","","size","small","outline","","status","danger","nbTooltip","Add Employee","shape","round",1,"float-right","text-white",3,"click"],[1,"col-md-5","col-sm-6","col-12"],["status","info"],["nbButton","","size","small","outline","","status","info","nbTooltip","Add Lead","shape","round",1,"float-right","text-white",3,"click"],[1,"progress-info"],["status","danger",3,"value","displayValue"],[4,"ngIf"],[1,"caption","description"],[1,"col-md-7","col-sm-6","col-12"],[1,"col-md-8","col-sm-7","col-12"],[1,"col-md-4","col-sm-5","col-12"],[1,"btn-group"],["nbButton","","size","small","status","primary","nbTooltip","Previous Year",3,"click",4,"ngIf"],["type","button","nbButton","","size","small"],["nbButton","","size","small","status","primary","nbTooltip","Next Year",3,"click",4,"ngIf"],["type","bar",1,"bar-chart",3,"data","options"],["nbButton","","size","small","status","primary","nbTooltip","Previous Year",3,"click"],["icon","arrow-ios-back-outline"],["nbButton","","size","small","status","primary","nbTooltip","Next Year",3,"click"],["icon","arrow-ios-forward-outline"],[4,"ngIf","ngIfElse"],["class","table-responsive",4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],[1,"pt-5","pb-5","text-center"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,C,6,5,"div",0),o["\u0275\u0275template"](1,B,8,2,"div",0),o["\u0275\u0275template"](2,L,2,0,"ng-template",null,1,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](4,V,2,0,"ng-template",null,2,o["\u0275\u0275templateRefExtractor"])),2&e&&(o["\u0275\u0275property"]("ngIf",!t.loading&&"teacher"!==t.role),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","teacher"===t.role))},directives:[l.n,r.y,r.A,r.v,r.Ib,r.N,r.x,r.m,r.l,r.kb,a.ChartComponent,l.m],pipes:[l.w],styles:[".bar-chart[_ngcontent-%COMP%]{height:40vh}"]}),e})()},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let D=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[m.g.forChild(j)],m.g]}),e})(),A=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,r.n,a.ChartModule,D,r.B,r.w,r.P,r.Jb,r.lb]]}),e})()}}]);
//# sourceMappingURL=81-es2015.97f7eb068ff0e870010d.js.map