(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1825:function(t,e,n){"use strict";n.r(e),n.d(e,"TransactionModule",(function(){return g}));var a=n("aceb"),i=n("ofXK"),r=n("fXoL"),s=n("FkVd"),o=n("tyNb"),c=n("ZatZ");function l(t,e){if(1&t){const t=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"td"),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"td"),r["\u0275\u0275elementStart"](10,"button",7),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](t);const n=e.$implicit;return r["\u0275\u0275nextContext"](3).viewTransaction(n)})),r["\u0275\u0275text"](11," View "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=e.index,a=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n+1),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("trans_",t._id,""),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",a.dateService.formatDate(a.dateService.convertToDateString(t.createdAt))," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",a.getAmount(t.amount),"/-")}}function d(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275elementStart"](1,"table",5),r["\u0275\u0275elementStart"](2,"thead"),r["\u0275\u0275elementStart"](3,"tr"),r["\u0275\u0275elementStart"](4,"th"),r["\u0275\u0275text"](5,"#"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Transaction Id"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"th"),r["\u0275\u0275text"](11,"Amount"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](12,"th"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"tbody"),r["\u0275\u0275template"](14,l,12,4,"tr",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](14),r["\u0275\u0275property"]("ngForOf",t.transactions)}}function u(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,d,15,1,"div",3),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"](),e=r["\u0275\u0275reference"](9);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.transactions.length>0)("ngIfElse",e)}}function p(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"p",8),r["\u0275\u0275text"](1,"Loading..."),r["\u0275\u0275elementEnd"]())}function m(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"p",8),r["\u0275\u0275text"](1,"No Transactions Available"),r["\u0275\u0275elementEnd"]())}const h=[{path:"",component:(()=>{class t{constructor(t,e,n,a,i){this.transactionService=t,this.router=e,this.route=n,this.dateService=a,this.toastrService=i}ngOnInit(){this.loading=!0,this.transactionService.getInstituteTransactions().subscribe(t=>{this.transactions=t,this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}viewTransaction(t){this.transactionService.setInstituteTransactionData(t),this.router.navigate(["./view"],{relativeTo:this.route})}getAmount(t){return(t=parseFloat(t.toString())).toFixed(2).toString()}showToastr(t,e,n){this.toastrService.show(e,n,{position:t,status:e})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](o.c),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](a.Gb))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-transaction"]],decls:10,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingData",""],["noTransactions",""],["class","table-responsive",4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-borderless"],[4,"ngFor","ngForOf"],["type","button","nbButton","","size","small","status","success",3,"click"],[1,"pt-5","pb-5","text-center"]],template:function(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"nb-card"),r["\u0275\u0275elementStart"](1,"nb-card-header"),r["\u0275\u0275elementStart"](2,"h3"),r["\u0275\u0275text"](3,"Transactions"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"nb-card-body"),r["\u0275\u0275template"](5,u,2,2,"div",0),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,p,2,0,"ng-template",null,1,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](8,m,2,0,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"])),2&t){const t=r["\u0275\u0275reference"](7);r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",!e.loading)("ngIfElse",t)}},directives:[a.y,a.A,a.x,i.n,i.m,a.v],styles:[""]}),t})(),canActivate:[]},{path:"view",loadChildren:()=>n.e(228).then(n.bind(null,"7/TM")).then(t=>t.ViewTransactionModule)},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(t=>t.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let f=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.g.forChild(h)],o.g]}),t})(),g=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,a.B,a.w,f]]}),t})()},FkVd:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("lJxs"),i=n("JIr8"),r=n("2Vo4"),s=n("z6cu"),o=n("fXoL"),c=n("fCOA");let l=(()=>{class t{constructor(t){this.httpService=t,this.instituteTransaction=new r.a(null),this.studentTransaction=new r.a(null)}setInstituteTransactionData(t){this.instituteTransaction.next(t)}getInstituteTransactionData(){return this.instituteTransaction}deleteInstituteTransactionData(){this.instituteTransaction.next(null)}setStudentTransactionData(t){this.studentTransaction.next(t)}getStudentTransactionData(){return this.studentTransaction}deleteStudentTransactionData(){this.studentTransaction.next(null)}getTransactionHistory(){return this.httpService.httpPost({api:"getTransactionHistory",data:{}}).pipe(Object(a.a)(t=>t),Object(i.a)(t=>Object(s.a)(t)))}getInstituteTransaction(t){return this.httpService.httpPost({api:"getInstituteTransaction",data:{id:t}}).pipe(Object(a.a)(t=>t),Object(i.a)(t=>Object(s.a)(t)))}getInstituteTransactions(){return this.httpService.httpPost({api:"getInstituteTransactions",data:{}}).pipe(Object(a.a)(t=>t),Object(i.a)(t=>Object(s.a)(t)))}getStudentTransaction(t){return this.httpService.httpPost({api:"getStudentTransaction",data:{id:t}}).pipe(Object(a.a)(t=>t),Object(i.a)(t=>Object(s.a)(t)))}getStudentTransactions(){return this.httpService.httpPost({api:"getStudentTransactions",data:{}}).pipe(Object(a.a)(t=>t),Object(i.a)(t=>Object(s.a)(t)))}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](c.a))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
//# sourceMappingURL=52-es2015.4fd07d6b8a0eeb7e27f8.js.map