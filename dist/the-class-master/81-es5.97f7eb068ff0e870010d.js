!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{xdzg:function(n,a,r){"use strict";r.r(a),r.d(a,"DashboardModule",(function(){return F}));var l=r("z+eI"),o=r("aceb"),i=r("ofXK"),d=r("fXoL"),m=r("EQut"),c=r("0AbP"),s=r("L3Ly"),u=r("tyNb"),v=r("ZatZ"),h=r("QKEp"),p=r("WeFf"),S=r("3b5Z");function g(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",7),d["\u0275\u0275elementStart"](1,"nb-card",8),d["\u0275\u0275elementStart"](2,"nb-card-header"),d["\u0275\u0275elementStart"](3,"button",9),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).addCourse()})),d["\u0275\u0275element"](4,"nb-icon",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"h3",11),d["\u0275\u0275elementStart"](6,"span",12),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).manageCourse()})),d["\u0275\u0275text"](7,"Course"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"nb-card-body"),d["\u0275\u0275elementStart"](9,"nb-actions",13),d["\u0275\u0275elementStart"](10,"nb-action"),d["\u0275\u0275elementStart"](11,"div",3),d["\u0275\u0275elementStart"](12,"div",14),d["\u0275\u0275elementStart"](13,"h4",15),d["\u0275\u0275text"](14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"h6"),d["\u0275\u0275text"](16,"Active"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"nb-action"),d["\u0275\u0275elementStart"](18,"div",3),d["\u0275\u0275elementStart"](19,"div",14),d["\u0275\u0275elementStart"](20,"h4",15),d["\u0275\u0275text"](21),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"h6"),d["\u0275\u0275text"](23,"Inactive"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](14),d["\u0275\u0275textInterpolate"](a.dashboardInfo.activeCourses),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](a.dashboardInfo.inactiveCourses)}}function f(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",7),d["\u0275\u0275elementStart"](1,"nb-card",16),d["\u0275\u0275elementStart"](2,"nb-card-header"),d["\u0275\u0275elementStart"](3,"button",17),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).addStudent()})),d["\u0275\u0275element"](4,"nb-icon",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"h3",11),d["\u0275\u0275elementStart"](6,"span",12),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).manageStudent()})),d["\u0275\u0275text"](7,"Student"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"nb-card-body"),d["\u0275\u0275elementStart"](9,"nb-actions",13),d["\u0275\u0275elementStart"](10,"nb-action"),d["\u0275\u0275elementStart"](11,"div",3),d["\u0275\u0275elementStart"](12,"div",14),d["\u0275\u0275elementStart"](13,"h4",15),d["\u0275\u0275text"](14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"h6"),d["\u0275\u0275text"](16,"Active"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"nb-action"),d["\u0275\u0275elementStart"](18,"div",3),d["\u0275\u0275elementStart"](19,"div",14),d["\u0275\u0275elementStart"](20,"h4",15),d["\u0275\u0275text"](21),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"h6"),d["\u0275\u0275text"](23,"Inactive"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](14),d["\u0275\u0275textInterpolate"](a.dashboardInfo.activeStudents),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](a.dashboardInfo.inactiveStudents)}}function b(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",7),d["\u0275\u0275elementStart"](1,"nb-card",18),d["\u0275\u0275elementStart"](2,"nb-card-header"),d["\u0275\u0275elementStart"](3,"button",19),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).addEmployee()})),d["\u0275\u0275element"](4,"nb-icon",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"h3",11),d["\u0275\u0275elementStart"](6,"span",12),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).manageEmployee()})),d["\u0275\u0275text"](7,"Employee"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"nb-card-body"),d["\u0275\u0275elementStart"](9,"nb-actions",13),d["\u0275\u0275elementStart"](10,"nb-action"),d["\u0275\u0275elementStart"](11,"div",3),d["\u0275\u0275elementStart"](12,"div",14),d["\u0275\u0275elementStart"](13,"h4",15),d["\u0275\u0275text"](14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"h6"),d["\u0275\u0275text"](16,"Active"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"nb-action"),d["\u0275\u0275elementStart"](18,"div",3),d["\u0275\u0275elementStart"](19,"div",14),d["\u0275\u0275elementStart"](20,"h4",15),d["\u0275\u0275text"](21),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"h6"),d["\u0275\u0275text"](23,"Inactive"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](14),d["\u0275\u0275textInterpolate"](a.dashboardInfo.activeEmployees),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](a.dashboardInfo.inactiveEmployees)}}function E(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span"),d["\u0275\u0275text"](1,"\xa0Used"),d["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",3),d["\u0275\u0275elementStart"](1,"div",14),d["\u0275\u0275elementStart"](2,"nb-card"),d["\u0275\u0275elementStart"](3,"nb-card-header"),d["\u0275\u0275elementStart"](4,"h3"),d["\u0275\u0275text"](5,"Branch Storage"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"nb-card-body"),d["\u0275\u0275elementStart"](7,"div",23),d["\u0275\u0275elementStart"](8,"h4"),d["\u0275\u0275text"](9),d["\u0275\u0275elementStart"](10,"small"),d["\u0275\u0275text"](11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"nb-progress-bar",24),d["\u0275\u0275template"](13,E,2,0,"span",25),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",26),d["\u0275\u0275elementStart"](15,"bdi"),d["\u0275\u0275text"](16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate1"](" ",n.availableStorage," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("left of ",n.totalStorage,""),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",n.usedStorageInPercentage)("displayValue",!0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.usedStorageInPercentage>=25),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",n.usedStorage," Used")}}function y(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",20),d["\u0275\u0275elementStart"](1,"div",3),d["\u0275\u0275elementStart"](2,"div",14),d["\u0275\u0275elementStart"](3,"nb-card",21),d["\u0275\u0275elementStart"](4,"nb-card-header"),d["\u0275\u0275elementStart"](5,"button",22),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).addLead()})),d["\u0275\u0275element"](6,"nb-icon",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"h3",11),d["\u0275\u0275elementStart"](8,"span",12),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).manageLead()})),d["\u0275\u0275text"](9,"Lead"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"nb-card-body"),d["\u0275\u0275elementStart"](11,"nb-actions",13),d["\u0275\u0275elementStart"](12,"nb-action"),d["\u0275\u0275elementStart"](13,"div",3),d["\u0275\u0275elementStart"](14,"div",14),d["\u0275\u0275elementStart"](15,"h4",15),d["\u0275\u0275text"](16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"h6"),d["\u0275\u0275text"](18,"Won"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"nb-action"),d["\u0275\u0275elementStart"](20,"div",3),d["\u0275\u0275elementStart"](21,"div",14),d["\u0275\u0275elementStart"](22,"h4",15),d["\u0275\u0275text"](23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"h6"),d["\u0275\u0275text"](25,"Open"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"nb-action"),d["\u0275\u0275elementStart"](27,"div",3),d["\u0275\u0275elementStart"](28,"div",14),d["\u0275\u0275elementStart"](29,"h4",15),d["\u0275\u0275text"](30),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"h6"),d["\u0275\u0275text"](32,"Lost"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](33,x,17,6,"div",0),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](16),d["\u0275\u0275textInterpolate"](a.dashboardInfo.wonLeads),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](a.dashboardInfo.openLeads),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](a.dashboardInfo.lostLeads),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf","manager"===a.role)}}function I(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",35),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](3).previousYear()})),d["\u0275\u0275element"](1,"nb-icon",36),d["\u0275\u0275elementEnd"]()}}function C(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",37),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](3).nextYear()})),d["\u0275\u0275element"](1,"nb-icon",38),d["\u0275\u0275elementEnd"]()}}function k(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",27),d["\u0275\u0275elementStart"](1,"nb-card"),d["\u0275\u0275elementStart"](2,"nb-card-header"),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"div",28),d["\u0275\u0275elementStart"](5,"h3"),d["\u0275\u0275elementStart"](6,"span",12),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).manageBudget()})),d["\u0275\u0275text"](7,"Budget"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"div",29),d["\u0275\u0275elementStart"](9,"div",30),d["\u0275\u0275template"](10,I,2,0,"button",31),d["\u0275\u0275elementStart"](11,"button",32),d["\u0275\u0275elementStart"](12,"strong"),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](14,C,2,0,"button",33),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"nb-card-body"),d["\u0275\u0275element"](16,"chart",34),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](10),d["\u0275\u0275property"]("ngIf",a.year>2018),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](a.year),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",a.year<a.currentYear),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("data",a.data)("options",a.options)}}function w(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",3),d["\u0275\u0275template"](1,g,24,2,"div",4),d["\u0275\u0275template"](2,f,24,2,"div",4),d["\u0275\u0275template"](3,b,24,2,"div",4),d["\u0275\u0275template"](4,y,34,4,"div",5),d["\u0275\u0275template"](5,k,17,5,"div",6),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","manager"===n.role),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","manager"===n.role),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","manager"===n.role),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","teacher"!==n.role),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","manager"===n.role)}}function T(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"td"),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"td"),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"td"),d["\u0275\u0275text"](10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td"),d["\u0275\u0275text"](12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"td"),d["\u0275\u0275text"](14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"td"),d["\u0275\u0275text"](16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"td"),d["\u0275\u0275text"](18),d["\u0275\u0275pipe"](19,"uppercase"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index,r=d["\u0275\u0275nextContext"](4);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a+1),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](r.dateService.formatDate(n.date)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](r.getTime(n.startTime,n.endTime)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.categoryName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"]("",n.courseName,"/",n.batchName,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.subjectName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.teacherName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.topic),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](19,10,n.sessionType))}}function B(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",41),d["\u0275\u0275elementStart"](1,"table",42),d["\u0275\u0275elementStart"](2,"thead"),d["\u0275\u0275elementStart"](3,"tr"),d["\u0275\u0275elementStart"](4,"th"),d["\u0275\u0275text"](5,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275text"](7,"Date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"th"),d["\u0275\u0275text"](9,"Time"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"th"),d["\u0275\u0275text"](11,"Category"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"th"),d["\u0275\u0275text"](13,"Course/Batch"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"th"),d["\u0275\u0275text"](15,"Subject"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"th"),d["\u0275\u0275text"](17,"Teacher"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"th"),d["\u0275\u0275text"](19,"Topic"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"th"),d["\u0275\u0275text"](21,"Session Type"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"tbody"),d["\u0275\u0275template"](23,T,20,12,"tr",43),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](23),d["\u0275\u0275property"]("ngForOf",n.upcomingLectures)}}function L(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,B,24,1,"div",40),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2),a=d["\u0275\u0275reference"](5);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.upcomingLectures.length>0)("ngIfElse",a)}}function V(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",3),d["\u0275\u0275elementStart"](1,"div",14),d["\u0275\u0275elementStart"](2,"nb-card"),d["\u0275\u0275elementStart"](3,"nb-card-header"),d["\u0275\u0275elementStart"](4,"h3"),d["\u0275\u0275text"](5,"Upcoming Lectures"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"nb-card-body"),d["\u0275\u0275template"](7,L,2,2,"ng-container",39),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](),a=d["\u0275\u0275reference"](3);d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngIf",!n.loading)("ngIfElse",a)}}function j(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",44),d["\u0275\u0275text"](1,"Loading..."),d["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",44),d["\u0275\u0275text"](1,"No Upcoming Lectures"),d["\u0275\u0275elementEnd"]())}var A,N,P,Y=[{path:"",component:(A=function(){function n(t,a,r,l,o,i,d,m,c,s,u){e(this,n),this.branchService=t,this.dashboardService=a,this.toastrService=r,this.storageService=l,this.router=o,this.route=i,this.dateService=d,this.budgetService=m,this.menuService=c,this.themeService=s,this.roleService=u}var a,r,l;return a=n,(r=[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.roleService.getEmployeeRole().subscribe((function(t){e.role=t})),this.upcomingLectures=[],this.getEmployeeDashboardData(),"manager"===this.role&&(this.currentYear=+this.dateService.getCurrentYear(),this.year=+this.dateService.getCurrentYear(),this.getBudgetData(),this.themeSubscription=this.themeService.getJsTheme().subscribe((function(t){e.colors=t.variables;var n=t.variables.chartjs;e.options={maintainAspectRatio:!1,responsive:!0,legend:{labels:{fontColor:n.textColor}},scales:{xAxes:[{gridLines:{display:!1,color:n.axisLineColor},ticks:{fontColor:n.textColor}}],yAxes:[{gridLines:{display:!0,color:n.axisLineColor},ticks:{fontColor:n.textColor}}]}}})))):this.back()}},{key:"calculateStorage",value:function(e){var t=this.storageService.convertByteToUnit(e.totalStorageAssigned),n=this.storageService.convertByteToUnit(e.totalStorageUsed),a=this.storageService.convertByteToUnit(e.totalStorageAssigned-e.totalStorageUsed);this.totalStorage=t.value.toFixed(1)+" "+t.unit,this.usedStorage=n.value.toFixed(1)+" "+n.unit,this.availableStorage=a.value.toFixed(1)+" "+a.unit,this.usedStorageInPercentage=parseInt((100*e.totalStorageUsed/e.totalStorageAssigned).toFixed(1))}},{key:"getEmployeeDashboardData",value:function(){var e=this;this.dashboardService.getBranchDashboardForEmployee(this.branchId,this.role).subscribe((function(t){"manager"===e.role?(e.dashboardInfo=t,e.calculateStorage(e.dashboardInfo.branchStorage)):"teacher"===e.role?e.upcomingLectures=t:e.dashboardInfo=t,e.menuService.showMenus(),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.router.navigate(["../../"],{relativeTo:e.route})}))}},{key:"addStudent",value:function(){this.router.navigate(["../student/add"],{relativeTo:this.route})}},{key:"manageStudent",value:function(){this.router.navigate(["../student"],{relativeTo:this.route,queryParams:{type:"active"}})}},{key:"addEmployee",value:function(){this.router.navigate(["../employee/add"],{relativeTo:this.route})}},{key:"manageEmployee",value:function(){this.router.navigate(["../employee"],{relativeTo:this.route,queryParams:{type:"active"}})}},{key:"addCourse",value:function(){this.router.navigate(["../manage-branch/course/add"],{relativeTo:this.route})}},{key:"manageCourse",value:function(){this.router.navigate(["../manage-branch/course"],{relativeTo:this.route})}},{key:"addLead",value:function(){this.router.navigate(["../lead/add"],{relativeTo:this.route})}},{key:"manageLead",value:function(){this.router.navigate(["../lead"],{relativeTo:this.route,queryParams:{type:"active"}})}},{key:"manageBudget",value:function(){this.router.navigate(["../budget"],{relativeTo:this.route})}},{key:"manageClassSchedule",value:function(){this.router.navigate(["../schedule"],{relativeTo:this.route})}},{key:"manageStudentReports",value:function(){this.router.navigate(["../students-report"],{relativeTo:this.route})}},{key:"previousYear",value:function(){this.year>=2018&&(this.year--,this.getBudgetData())}},{key:"nextYear",value:function(){this.year<=this.currentYear&&(this.year++,this.getBudgetData())}},{key:"getBudgetData",value:function(){var e=this;this.budgetService.getBudgetForBranchDashboard(this.branchId,this.year.toString()).subscribe((function(t){e.setBarChartData(t)}),(function(t){e.showToastr("top-right","danger",t)}))}},{key:"setBarChartData",value:function(e){for(var t=[],n=[],a=function(a){var r=e.income.find((function(e){return e._id===a+1}));t.push(r?r.amount:0);var l=e.expense.find((function(e){return e._id===a+1}));n.push(l?l.amount:0)},r=0;r<12;r++)a(r);this.data={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:t,label:"Income",backgroundColor:this.colors.warningLight},{data:n,label:"Expense",backgroundColor:this.colors.dangerLight}]}}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}])&&t(a.prototype,r),l&&t(a,l),n}(),A.\u0275fac=function(e){return new(e||A)(d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](o.Gb),d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](u.c),d["\u0275\u0275directiveInject"](u.a),d["\u0275\u0275directiveInject"](v.a),d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](o.Eb),d["\u0275\u0275directiveInject"](S.a))},A.\u0275cmp=d["\u0275\u0275defineComponent"]({type:A,selectors:[["ngx-dashboard"]],decls:6,vars:2,consts:[["class","row",4,"ngIf"],["loadingData",""],["noUpcomingLectures",""],[1,"row"],["class","col-md-4 col-sm-6 col-12",4,"ngIf"],["class","col-md-5 col-sm-6 col-12",4,"ngIf"],["class","col-md-7 col-sm-6 col-12",4,"ngIf"],[1,"col-md-4","col-sm-6","col-12"],["status","warning"],["nbButton","","size","small","outline","","status","warning","nbTooltip","Add Course","shape","round",1,"float-right","text-white",3,"click"],["icon","plus"],[1,"text-white"],[1,"pointer",3,"click"],["size","giant","fullWidth",""],[1,"col-12"],[1,"text-center"],["status","success"],["nbButton","","size","small","outline","","status","success","nbTooltip","Add Student","shape","round",1,"float-right","text-white",3,"click"],["status","danger"],["nbButton","","size","small","outline","","status","danger","nbTooltip","Add Employee","shape","round",1,"float-right","text-white",3,"click"],[1,"col-md-5","col-sm-6","col-12"],["status","info"],["nbButton","","size","small","outline","","status","info","nbTooltip","Add Lead","shape","round",1,"float-right","text-white",3,"click"],[1,"progress-info"],["status","danger",3,"value","displayValue"],[4,"ngIf"],[1,"caption","description"],[1,"col-md-7","col-sm-6","col-12"],[1,"col-md-8","col-sm-7","col-12"],[1,"col-md-4","col-sm-5","col-12"],[1,"btn-group"],["nbButton","","size","small","status","primary","nbTooltip","Previous Year",3,"click",4,"ngIf"],["type","button","nbButton","","size","small"],["nbButton","","size","small","status","primary","nbTooltip","Next Year",3,"click",4,"ngIf"],["type","bar",1,"bar-chart",3,"data","options"],["nbButton","","size","small","status","primary","nbTooltip","Previous Year",3,"click"],["icon","arrow-ios-back-outline"],["nbButton","","size","small","status","primary","nbTooltip","Next Year",3,"click"],["icon","arrow-ios-forward-outline"],[4,"ngIf","ngIfElse"],["class","table-responsive",4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],[1,"pt-5","pb-5","text-center"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,w,6,5,"div",0),d["\u0275\u0275template"](1,V,8,2,"div",0),d["\u0275\u0275template"](2,j,2,0,"ng-template",null,1,d["\u0275\u0275templateRefExtractor"]),d["\u0275\u0275template"](4,D,2,0,"ng-template",null,2,d["\u0275\u0275templateRefExtractor"])),2&e&&(d["\u0275\u0275property"]("ngIf",!t.loading&&"teacher"!==t.role),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf","teacher"===t.role))},directives:[i.n,o.y,o.A,o.v,o.Ib,o.N,o.x,o.m,o.l,o.kb,l.ChartComponent,i.m],pipes:[i.w],styles:[".bar-chart[_ngcontent-%COMP%]{height:40vh}"]}),A)},{path:"page-not-found",loadChildren:function(){return r.e(0).then(r.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],z=((P=function t(){e(this,t)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||P)},imports:[[u.g.forChild(Y)],u.g]}),P),F=((N=function t(){e(this,t)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},imports:[[i.c,o.n,l.ChartModule,z,o.B,o.w,o.P,o.Jb,o.lb]]}),N)}}])}();
//# sourceMappingURL=81-es5.97f7eb068ff0e870010d.js.map