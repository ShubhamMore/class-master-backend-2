(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"+FD+":function(e,t,n){"use strict";n.r(t),n.d(t,"UsersModule",(function(){return w}));var a=n("aceb"),l=n("ofXK"),s=n("fXoL"),r=n("CHqn");function i(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",10),s["\u0275\u0275elementStart"](1,"div",11),s["\u0275\u0275elementStart"](2,"nb-form-field"),s["\u0275\u0275element"](3,"nb-icon",12),s["\u0275\u0275elementStart"](4,"input",13),s["\u0275\u0275listener"]("input",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().searchInstitute(t.target.value)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function d(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"td"),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"td"),s["\u0275\u0275elementStart"](14,"button",17),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"](2).changeUserStatus("institute",n.imsMasterId,!n.status)})),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n+1),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.email),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.phone),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.imsMasterId),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.status?"Active":"Inactive"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("status",e.status?"danger":"success"),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.status?"Deactivate":"Activate"," ")}}function m(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",14),s["\u0275\u0275elementStart"](1,"table",15),s["\u0275\u0275elementStart"](2,"thead"),s["\u0275\u0275elementStart"](3,"tr"),s["\u0275\u0275elementStart"](4,"th"),s["\u0275\u0275text"](5,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"th"),s["\u0275\u0275text"](7,"Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"th"),s["\u0275\u0275text"](9,"Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"th"),s["\u0275\u0275text"](11,"Phone"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"th"),s["\u0275\u0275text"](13,"IMS Master ID"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"th"),s["\u0275\u0275text"](15,"Status"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"th"),s["\u0275\u0275text"](17,"Action"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"tbody"),s["\u0275\u0275template"](19,d,16,8,"tr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("ngForOf",e.institutes)}}function o(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",10),s["\u0275\u0275elementStart"](1,"div",11),s["\u0275\u0275elementStart"](2,"nb-form-field"),s["\u0275\u0275element"](3,"nb-icon",12),s["\u0275\u0275elementStart"](4,"input",18),s["\u0275\u0275listener"]("input",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().searchEmployee(t.target.value)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function c(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"td"),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"td"),s["\u0275\u0275elementStart"](14,"button",17),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"](2).changeUserStatus("employee",n.imsMasterId,!n.status)})),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n+1),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.email),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.phone),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.imsMasterId),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.status?"Active":"Inactive"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("status",e.status?"danger":"success"),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.status?"Deactivate":"Activate"," ")}}function u(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",14),s["\u0275\u0275elementStart"](1,"table",15),s["\u0275\u0275elementStart"](2,"thead"),s["\u0275\u0275elementStart"](3,"tr"),s["\u0275\u0275elementStart"](4,"th"),s["\u0275\u0275text"](5,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"th"),s["\u0275\u0275text"](7,"Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"th"),s["\u0275\u0275text"](9,"Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"th"),s["\u0275\u0275text"](11,"Phone"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"th"),s["\u0275\u0275text"](13,"IMS Master ID"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"th"),s["\u0275\u0275text"](15,"Status"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"th"),s["\u0275\u0275text"](17,"Action"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"tbody"),s["\u0275\u0275template"](19,c,16,8,"tr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("ngForOf",e.employees)}}function p(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",10),s["\u0275\u0275elementStart"](1,"div",11),s["\u0275\u0275elementStart"](2,"nb-form-field"),s["\u0275\u0275element"](3,"nb-icon",12),s["\u0275\u0275elementStart"](4,"input",19),s["\u0275\u0275listener"]("input",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().searchStudent(t.target.value)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td"),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"td"),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"td"),s["\u0275\u0275elementStart"](14,"button",17),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"](2).changeUserStatus("student",n.imsMasterId,!n.status)})),s["\u0275\u0275text"](15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n+1),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.email),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.phone),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.imsMasterId),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.status?"Active":"Inactive"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("status",e.status?"danger":"success"),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.status?"Deactivate":"Activate"," ")}}function S(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",14),s["\u0275\u0275elementStart"](1,"table",15),s["\u0275\u0275elementStart"](2,"thead"),s["\u0275\u0275elementStart"](3,"tr"),s["\u0275\u0275elementStart"](4,"th"),s["\u0275\u0275text"](5,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"th"),s["\u0275\u0275text"](7,"Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"th"),s["\u0275\u0275text"](9,"Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"th"),s["\u0275\u0275text"](11,"Phone"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"th"),s["\u0275\u0275text"](13,"IMS Master ID"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"th"),s["\u0275\u0275text"](15,"Status"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"th"),s["\u0275\u0275text"](17,"Action"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"tbody"),s["\u0275\u0275template"](19,h,16,8,"tr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("ngForOf",e.students)}}function f(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",20),s["\u0275\u0275text"](1,"No Institutes"),s["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",20),s["\u0275\u0275text"](1,"No Employees"),s["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",20),s["\u0275\u0275text"](1,"No Students"),s["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",20),s["\u0275\u0275text"](1,"Loading..."),s["\u0275\u0275elementEnd"]())}let I=(()=>{class e{constructor(e,t){this.userService=e,this.toastrService=t}ngOnInit(){this.loading=!0,this.institutes=[],this.employees=[],this.students=[],this.filteredInstitutes=[],this.filteredEmployees=[],this.filteredStudents=[],this.curTab="institutes",this.userService.getUsers().subscribe(e=>{this.institutes=e.institutes,this.employees=e.employees,this.students=e.students,this.filteredInstitutes=[...this.institutes],this.filteredEmployees=[...this.employees],this.filteredStudents=[...this.students],this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}changeTab(e){this.curTab=e}searchInstitute(e){this.institute=e?e.trim().toLowerCase():null,this.filteredInstitutes=this.institute?this.institutes.filter(e=>e.name.toLowerCase().includes(this.institute)):[...this.institutes]}searchEmployee(e){this.employee=e?e.trim().toLowerCase():null,this.filteredEmployees=this.employee?this.employees.filter(e=>e.name.toLowerCase().includes(this.employee)):[...this.employees]}searchStudent(e){this.student=e?e.trim().toLowerCase():null,this.filteredStudents=this.student?this.students.filter(e=>e.name.toLowerCase().includes(this.student)):[...this.students]}changeUserStatus(e,t,n){this.loading=!0,this.userService.changeUserStatus(t,n).subscribe(a=>{if("institute"===e){const e=this.institutes.findIndex(e=>e.imsMasterId===t);e>=0&&(this.institutes[e].status=n),this.searchInstitute(this.institute)}else if("employee"===e){const e=this.employees.findIndex(e=>e.imsMasterId===t);e>=0&&(this.employees[e].status=n),this.searchInstitute(this.employee)}else if("student"===e){const e=this.students.findIndex(e=>e.imsMasterId===t);e>=0&&(this.students[e].status=n),this.searchInstitute(this.student)}else this.showToastr("top-right","danger","Invalid User Role");this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](a.Gb))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-users"]],decls:26,vars:13,consts:[["fullWidth","",3,"routeParam","changeTab"],["tabTitle","institutes"],["class","row",4,"ngIf","ngIfElse"],["class","table-responsive",4,"ngIf","ngIfElse"],["tabTitle","employees"],["tabTitle","students"],["noInstitutes",""],["noEmployees",""],["noStudents",""],["loadingData",""],[1,"row"],[1,"col-md-6","col-12"],["nbPrefix","","icon","search-outline","pack","eva"],["type","text","nbInput","","shape","round","placeholder","Search Institute","fullWidth","",3,"input"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","button","nbButton","","size","small",3,"status","click"],["type","text","nbInput","","shape","round","placeholder","Search Employee","fullWidth","",3,"input"],["type","text","nbInput","","shape","round","placeholder","Search Student","fullWidth","",3,"input"],[1,"pt-5","pb-5","text-center"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275text"](3,"USERS"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"nb-card-body"),s["\u0275\u0275elementStart"](5,"nb-tabset",0),s["\u0275\u0275listener"]("changeTab",(function(e){return t.changeTab(e.tabTitle)})),s["\u0275\u0275elementStart"](6,"nb-tab",1),s["\u0275\u0275template"](7,i,5,0,"div",2),s["\u0275\u0275element"](8,"br"),s["\u0275\u0275template"](9,m,20,1,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-tab",4),s["\u0275\u0275template"](11,o,5,0,"div",2),s["\u0275\u0275element"](12,"br"),s["\u0275\u0275template"](13,u,20,1,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"nb-tab",5),s["\u0275\u0275template"](15,p,5,0,"div",2),s["\u0275\u0275element"](16,"br"),s["\u0275\u0275template"](17,S,20,1,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,f,2,0,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](20,E,2,0,"ng-template",null,7,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](22,x,2,0,"ng-template",null,8,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](24,v,2,0,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"])),2&e){const e=s["\u0275\u0275reference"](19),n=s["\u0275\u0275reference"](21),a=s["\u0275\u0275reference"](23),l=s["\u0275\u0275reference"](25);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("routeParam",t.curTab),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",l),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.filteredInstitutes.length>0)("ngIfElse",e),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",l),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.filteredEmployees.length>0)("ngIfElse",n),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",l),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.filteredStudents.length>0)("ngIfElse",a)}},directives:[a.y,a.A,a.x,a.Bb,a.Ab,l.n,a.L,a.N,a.jb,a.Q,l.m,a.v],styles:[""]}),e})();var g=n("tyNb");const b=[{path:"",component:I},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let y=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[g.g.forChild(b)],g.g]}),e})(),w=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,y,a.B,a.Lb,a.P,a.R,a.w,a.Jb,a.Cb,a.M]]}),e})()}}]);
//# sourceMappingURL=64-es2015.0809d37902ce0be83961.js.map