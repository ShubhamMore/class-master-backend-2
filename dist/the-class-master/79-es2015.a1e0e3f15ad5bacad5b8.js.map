{"version":3,"sources":["webpack:///src/app/employee/branch/budget/manage-budget/manage-budget.component.html","webpack:///src/app/employee/branch/budget/manage-budget/manage-budget-routing.module.ts","webpack:///src/app/employee/branch/budget/manage-budget/manage-budget.component.ts","webpack:///src/app/employee/branch/budget/manage-budget/manage-budget.module.ts"],"names":["routes","path","component","ManageBudgetComponent","budgetService","branchService","dialogService","dateService","toastrService","themeService","router","route","this","loading","branchId","getBranchId","incomes","expenses","themeSubscription","getJsTheme","subscribe","config","themeConfig","months","getMonths","years","getYears","month","getCurrentMonth","setMonth","year","getCurrentYear","setYear","searchBudget","back","navigate","relativeTo","amount","toFixed","toString","dialog","colors","variables","chartjs","chartData","data","labels","datasets","getTotalIncome","getTotalExpense","backgroundColor","warningLight","dangerLight","options","maintainAspectRatio","responsive","scales","xAxes","display","yAxes","legend","fontColor","textColor","open","context","getBudgetForBranch","budgetData","error","showToastr","totalIncome","forEach","income","totalExpense","expense","id","i","type","deleteBudget","budget","splice","position","status","message","show","unsubscribe","addIncomeExpense","onSelectYear","onSelectMonth","viewStatement","openChart","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","ManageBudgetRoutingModule","forChild","ManageBudgetModule","ChartModule"],"mappings":"mRAoCY,gDAAqD,yBAAU,+B,yBAAzB,qCAAe,iE,yBAgBrD,gDAAgE,yBAE9D,+B,yBAFsC,6CAAwB,uE,kEAyE5D,yCACE,sCAAI,yBAAW,8BACf,sCACE,2CAAsB,yBAAkB,8BAC1C,8BACA,sCACE,wCAAM,yBAA8B,8BACtC,8BACA,yCACE,+CAIE,wKAAqC,aACtC,8BACH,8BACF,8B,wEAfM,kEAEoB,sEAGhB,qF,yBAjBhB,0CACE,4CACE,yCACE,sCACE,sCAAI,6BAAC,8BACL,sCAAI,kCAAM,8BACV,sCAAI,kCAAM,8BACV,0CAAwB,mCAAM,8BAChC,8BACF,8BACA,0CACE,6CAiBF,8BACF,8BACF,+B,6CAnBU,6E,yBAZZ,0CACE,6CA+BF,wC,6EA/BgC,iFAAyC,e,kEA8CjE,yCACE,sCAAI,yBAAW,8BACf,sCACE,2CAAsB,yBAAmB,8BAC3C,8BACA,sCACE,wCAAM,yBAA+B,8BACvC,8BACA,yCACE,+CAIE,wKAAsC,cACvC,8BACH,8BACF,8B,wEAfM,kEAEoB,sEAGhB,qF,yBAjBhB,0CACE,4CACE,yCACE,sCACE,sCAAI,6BAAC,8BACL,sCAAI,mCAAO,8BACX,sCAAI,kCAAM,8BACV,0CAAwB,mCAAM,8BAChC,8BACF,8BACA,6CACE,6CAiBF,8BACF,8BACF,+B,6CAnBU,8E,yBAZZ,0CACE,6CA+BF,wC,6EA/BgC,kFAA2C,e,sBAsCjF,wCAA4B,sCAAU,+B,sBAItC,wCAA4B,qCAAS,+B,sBAIrC,wCAA4B,uCAAW,+B,yBAIvC,2CACE,kDACE,sCAAI,qCAAS,8BACf,8BACA,gDACE,uCACF,8BACA,kDACE,6CAAkD,iEAAS,WAAa,iCAAK,8BAC/E,8BACF,+B,yBALsB,qEAAuB,sBCxM/C,MAAMA,EAAiB,CACrB,CAAEC,KAAM,GAAIC,UCQP,M,MAAMC,EAgBX,YACUC,EACAC,EACAC,EACDC,EACAC,EACCC,EACAC,EACAC,GAPA,KAAAP,gBACA,KAAAC,gBACA,KAAAC,gBACD,KAAAC,cACA,KAAAC,gBACC,KAAAC,eACA,KAAAC,SACA,KAAAC,QAGV,WACEC,KAAKC,SAAU,EAEfD,KAAKE,SAAWF,KAAKP,cAAcU,cAC9BH,KAAKE,UAKVF,KAAKI,QAAU,GACfJ,KAAKK,SAAW,GAEhBL,KAAKM,kBAAoBN,KAAKH,aAAaU,aAAaC,UAAWC,IACjET,KAAKU,YAAcD,IAGrBT,KAAKW,OAASX,KAAKL,YAAYiB,YAC/BZ,KAAKa,MAAQb,KAAKL,YAAYmB,WAE9Bd,KAAKe,MAAQf,KAAKL,YAAYqB,kBAC9BhB,KAAKR,cAAcyB,SAASjB,KAAKe,OACjCf,KAAKkB,KAAOlB,KAAKL,YAAYwB,iBAC7BnB,KAAKR,cAAc4B,QAAQpB,KAAKkB,MAEhClB,KAAKqB,gBAnBHrB,KAAKsB,OAsBT,mBACEtB,KAAKF,OAAOyB,SAAS,CAAC,UAAW,CAAEC,WAAYxB,KAAKD,QAGtD,gBACEC,KAAKF,OAAOyB,SAAS,CAAC,cAAe,CAAEC,WAAYxB,KAAKD,QAG1D,UAAU0B,GAER,OADAA,GAAUA,GACIC,QAAQ,GAAGC,WAAa,KAGxC,aAAaT,GACXlB,KAAKkB,KAAOA,EACZlB,KAAKR,cAAc4B,QAAQF,GACd,KAATA,IACFlB,KAAKe,MAAQ,IAEff,KAAKqB,eAGP,cAAcN,GACZf,KAAKe,MAAQA,EACbf,KAAKR,cAAcyB,SAASjB,KAAKe,OACjCf,KAAKqB,eAGP,UAAUO,GACR,MAAMC,EAAc7B,KAAKU,YAAYoB,UAC/BC,EAAe/B,KAAKU,YAAYoB,UAAUC,QAE1CC,EAAY,CAChBC,KAAM,CACJC,OAAQ,CAAC,SAAU,WACnBC,SAAU,CACR,CACEF,KAAM,CAACjC,KAAKoC,iBAAkBpC,KAAKqC,mBACnCC,gBAAiB,CAACT,EAAOU,aAAcV,EAAOW,gBAKpDC,QAAS,CACPC,qBAAqB,EACrBC,YAAY,EACZC,OAAQ,CACNC,MAAO,CACL,CACEC,SAAS,IAGbC,MAAO,CACL,CACED,SAAS,KAIfE,OAAQ,CACNd,OAAQ,CACNe,UAAWlB,EAAQmB,cAK3BlD,KAAKN,cAAcyD,KAAKvB,EAAQ,CAAEwB,QAASpB,IAG7C,eACEhC,KAAKC,SAAU,EACfD,KAAKR,cAAc6D,mBAAmBrD,KAAKE,SAAUF,KAAKe,MAAOf,KAAKkB,MAAMV,UACzE8C,IACCtD,KAAKI,QAAUkD,EAAWlD,QAC1BJ,KAAKK,SAAWiD,EAAWjD,SAC3BL,KAAKC,SAAU,GAEhBsD,IACCvD,KAAKwD,WAAW,YAAa,SAAUD,GACvCvD,KAAKC,SAAU,IAKrB,iBACE,IAAIwD,EAAc,EAIlB,OAHAzD,KAAKI,QAAQsD,QAASC,IACpBF,GAAeE,EAAOlC,SAEjBgC,EAGT,kBACE,IAAIG,EAAe,EAInB,OAHA5D,KAAKK,SAASqD,QAASG,IACrBD,GAAgBC,EAAQpC,SAEnBmC,EAGT,kBAGE,OAFqB5D,KAAKoC,iBACJpC,KAAKqC,kBAI7B,aAAayB,EAAYC,EAAWC,GAClChE,KAAKR,cAAcyE,aAAaH,GAAItD,UACjC0D,IACc,WAATF,GACFhE,KAAKI,QAAQ+D,OAAOJ,EAAG,GACvB/D,KAAKwD,WAAW,YAAa,UAAW,mCAExCxD,KAAKK,SAAS8D,OAAOJ,EAAG,GACxB/D,KAAKwD,WAAW,YAAa,UAAW,oCAG3CD,IACCvD,KAAKwD,WAAW,YAAa,SAAUD,GACvCvD,KAAKC,SAAU,IAKrB,OACED,KAAKF,OAAOyB,SAAS,CAAC,OAAQ,CAAEC,WAAYxB,KAAKD,QAG3C,WAAWqE,EAAeC,EAAaC,GAC7CtE,KAAKJ,cAAc2E,KAAKF,EAAQC,EAAS,CACvCF,WACAC,WAIJ,YACErE,KAAKM,kBAAkBkE,e,6CA7LdjF,GAAqB,oT,mDAArBA,EAAqB,2oD,0CFblC,2CACE,kDACE,yCACE,yCACE,sCAAI,kCAAM,8BACZ,8BAEA,yCACE,4CAOE,qDAAS,EAAAkF,sBAET,gDAAmB,wCACrB,8BACF,8BACF,8BACF,8BAEA,iDACE,0CACE,0CACE,0CACE,4CAAsC,yCAAY,8BAClD,gDAIE,+DAAkB,EAAAC,aAAA,MAGlB,gDAAoB,sCAAS,8BAC7B,mDACF,8BACF,8BACF,8BAEA,0CACE,0CACE,6CAAuC,0CAAa,8BACpD,iDAIE,+DAAkB,EAAAC,cAAA,MAGlB,gDAAoB,uCAAU,8BAC9B,mDAGF,8BACF,8BACF,8BAEA,0CACE,8CAQE,qDAAS,EAAAC,mBAET,8CAAkB,0CACpB,8BACF,8BACF,8BAEA,kCAEA,0CACE,0CACE,uCACE,2CAAQ,sCAAS,8BACjB,qCAAS,yCAAM,0BAAiC,8BAClD,8BACF,8BAEA,0CACE,uCACE,2CAAQ,uCAAU,8BAClB,qCAAS,yCAAM,0BAAkC,8BACnD,8BACF,8BAEA,0CACE,uCACE,2CAAQ,uCAAU,8BAClB,qCACA,4CAAmE,0BAEjE,8BACJ,8BACF,8BAEA,2CACE,8CAAyD,4HAAS,EAAAC,UAAA,MAChE,4CAAgB,0CAClB,8BACF,8BACF,8BAEA,kCAEA,iDACE,8CACE,sDAiCF,8BACA,8CACE,sDAiCF,8BACF,8BACF,8BACF,8BAEA,gGAIA,gGAIA,gGAIA,gG,+CAvKY,0EAKW,yEAWX,0EAKW,0EA6BE,+FAOA,+FAQT,8GAA6D,+FAiBvD,yEAAoC,cAmCpC,yEAAoC,gB,iPEvInD,IDNL,CACExF,KAAM,iBACNyF,aAAc,IACZ,iCAAkEC,KAC/DC,GAAMA,EAAEC,qBAIf,CACE5F,KAAM,KACN6F,WAAY,iBACZC,UAAW,SAQR,Y,MAAMC,G,yDAAAA,I,+EAAAA,IAAyB,SAH3B,CAAC,IAAaC,SAASjG,IACtB,O,GAEL,GEMA,Q,MAAMkG,G,yDAAAA,I,+EAAAA,IAAkB,SAdpB,CACP,IACA,EACA,IACA,IACA,KACA,IAEA,EAAAC,YACA,KACA,IACA,S,GAGG","file":"x","sourcesContent":["<nb-card>\n  <nb-card-header>\n    <div class=\"row\">\n      <div class=\"col-md-9 col-sm-8\">\n        <h3>BUDGET</h3>\n      </div>\n\n      <div class=\"col-md-3 col-sm-4\">\n        <button\n          type=\"button\"\n          fullWidth\n          nbTooltip=\"Add Income Expense\"\n          nbButton\n          size=\"small\"\n          status=\"primary\"\n          (click)=\"addIncomeExpense()\"\n        >\n          Add Income/Expense <nb-icon icon=\"plus-circle-outline\"></nb-icon>\n        </button>\n      </div>\n    </div>\n  </nb-card-header>\n\n  <nb-card-body>\n    <div class=\"row\">\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <div class=\"form-control-group\">\n          <label class=\"label\" for=\"input-year\">Select Year:</label>\n          <nb-select\n            name=\"year\"\n            id=\"input-year\"\n            [selected]=\"year\"\n            (selectedChange)=\"onSelectYear($event)\"\n            fullWidth\n          >\n            <nb-option value=\"\">All Years</nb-option>\n            <nb-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</nb-option>\n          </nb-select>\n        </div>\n      </div>\n\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <div class=\"form-control-group\">\n          <label class=\"label\" for=\"input-month\">Select Month:</label>\n          <nb-select\n            name=\"month\"\n            id=\"input-month\"\n            [selected]=\"month\"\n            (selectedChange)=\"onSelectMonth($event)\"\n            fullWidth\n          >\n            <nb-option value=\"\">All Months</nb-option>\n            <nb-option *ngFor=\"let month of months\" [value]=\"month.monthNo\">{{\n              month.month\n            }}</nb-option>\n          </nb-select>\n        </div>\n      </div>\n\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <button\n          class=\"mt-4\"\n          type=\"button\"\n          nbTooltip=\"Budget Summery\"\n          nbButton\n          size=\"small\"\n          fullWidth\n          status=\"success\"\n          (click)=\"viewStatement()\"\n        >\n          View Summery&nbsp;<nb-icon icon=\"list-outline\"></nb-icon>\n        </button>\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row\">\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <h4>\n          <strong>Income : </strong>\n          &#x20b9; <span>{{ getAmount(getTotalIncome()) }}</span>\n        </h4>\n      </div>\n\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <h4>\n          <strong>Expense : </strong>\n          &#x20b9; <span>{{ getAmount(getTotalExpense()) }}</span>\n        </h4>\n      </div>\n\n      <div class=\"col-md-4 col-sm-6 col-12\">\n        <h4>\n          <strong>Balance : </strong>\n          &#x20b9;\n          <span [ngClass]=\"getTotalBalance() >= 0 ? '' : 'negative-balance'\">{{\n            getAmount(getTotalBalance())\n          }}</span>\n        </h4>\n      </div>\n\n      <div class=\"col-md-3 col-sm-5 col-7 pt-3 mx-auto\">\n        <button nbButton size=\"small\" status=\"primary\" fullWidth (click)=\"openChart(budgetChart)\">\n          View Chart&nbsp;<nb-icon icon=\"pie-chart-outline\"></nb-icon>\n        </button>\n      </div>\n    </div>\n\n    <hr />\n\n    <nb-tabset fullWidth>\n      <nb-tab tabTitle=\"INCOME\">\n        <ng-container *ngIf=\"!loading; else loadingBudget\">\n          <div class=\"table-responsive\" *ngIf=\"incomes.length > 0; else noIncome\">\n            <table class=\"table table-sm table-hover\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Income</th>\n                  <th>Amount</th>\n                  <th class=\"text-center\">Delete</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let income of incomes; let i = index\" routerLinkActive=\"active\">\n                  <td>{{ i + 1 }}</td>\n                  <td>\n                    <span class=\"pointer\">{{ income.title }}</span>\n                  </td>\n                  <td>\n                    <span>{{ getAmount(income.amount) }}</span>\n                  </td>\n                  <td class=\"text-center\">\n                    <nb-icon\n                      class=\"pointer delete-budget\"\n                      icon=\"close-circle-outline\"\n                      nbTooltip=\"Delete Income\"\n                      (click)=\"deleteBudget(income._id, i, 'income')\"\n                    ></nb-icon>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </ng-container>\n      </nb-tab>\n      <nb-tab tabTitle=\"EXPENSE\">\n        <ng-container *ngIf=\"!loading; else loadingBudget\">\n          <div class=\"table-responsive\" *ngIf=\"expenses.length > 0; else noExpense\">\n            <table class=\"table table-sm table-hover\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Expense</th>\n                  <th>Amount</th>\n                  <th class=\"text-center\">Delete</th>\n                </tr>\n              </thead>\n              <tbody class=\"expense\">\n                <tr *ngFor=\"let expense of expenses; let i = index\" routerLinkActive=\"active\">\n                  <td>{{ i + 1 }}</td>\n                  <td>\n                    <span class=\"pointer\">{{ expense.title }}</span>\n                  </td>\n                  <td>\n                    <span>{{ getAmount(expense.amount) }}</span>\n                  </td>\n                  <td class=\"text-center\">\n                    <nb-icon\n                      class=\"pointer delete-budget\"\n                      icon=\"close-circle-outline\"\n                      nbTooltip=\"Delete Expense\"\n                      (click)=\"deleteBudget(expense._id, i, 'expense')\"\n                    ></nb-icon>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </ng-container>\n      </nb-tab>\n    </nb-tabset>\n  </nb-card-body>\n</nb-card>\n\n<ng-template #loadingBudget>\n  <p class=\"text-center pt-2\">Loading...</p>\n</ng-template>\n\n<ng-template #noIncome>\n  <p class=\"text-center pt-2\">No Income</p>\n</ng-template>\n\n<ng-template #noExpense>\n  <p class=\"text-center pt-2\">No Expenses</p>\n</ng-template>\n\n<ng-template #budgetChart let-chartData let-ref=\"dialogRef\">\n  <nb-card>\n    <nb-card-header>\n      <h4>Pie Chart</h4>\n    </nb-card-header>\n    <nb-card-body>\n      <chart type=\"pie\" [data]=\"chartData.data\" [options]=\"chartData.options\"></chart>\n    </nb-card-body>\n    <nb-card-footer>\n      <button class=\"float-right\" nbButton size=\"small\" (click)=\"ref.close()\">Close</button>\n    </nb-card-footer>\n  </nb-card>\n</ng-template>\n","import { ManageBudgetComponent } from './manage-budget.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: ManageBudgetComponent },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageBudgetRoutingModule {}\n","import { DateService, Month } from './../../../../services/shared-services/date.service';\r\nimport { Component, OnInit, TemplateRef } from '@angular/core';\r\nimport { BudgetService } from '../../../../services/budget.service';\r\nimport { BranchService } from '../../../../services/branch.service';\r\nimport { BudgetModel } from '../../../../models/budget.model';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { NbDialogService, NbThemeService, NbToastrService } from '@nebular/theme';\r\n\r\n@Component({\r\n  selector: 'ngx-manage-budget',\r\n  templateUrl: './manage-budget.component.html',\r\n  styleUrls: ['./manage-budget.component.scss'],\r\n})\r\nexport class ManageBudgetComponent implements OnInit {\r\n  loading: boolean;\r\n  private branchId: string;\r\n\r\n  incomes: BudgetModel[];\r\n  expenses: BudgetModel[];\r\n\r\n  months: Month[];\r\n  years: string[];\r\n\r\n  month: string;\r\n  year: string;\r\n\r\n  themeSubscription: any;\r\n  themeConfig: any;\r\n\r\n  constructor(\r\n    private budgetService: BudgetService,\r\n    private branchService: BranchService,\r\n    private dialogService: NbDialogService,\r\n    public dateService: DateService,\r\n    public toastrService: NbToastrService,\r\n    private themeService: NbThemeService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n\r\n    this.branchId = this.branchService.getBranchId();\r\n    if (!this.branchId) {\r\n      this.back();\r\n      return;\r\n    }\r\n\r\n    this.incomes = [];\r\n    this.expenses = [];\r\n\r\n    this.themeSubscription = this.themeService.getJsTheme().subscribe((config: any) => {\r\n      this.themeConfig = config;\r\n    });\r\n\r\n    this.months = this.dateService.getMonths();\r\n    this.years = this.dateService.getYears();\r\n\r\n    this.month = this.dateService.getCurrentMonth();\r\n    this.budgetService.setMonth(this.month);\r\n    this.year = this.dateService.getCurrentYear();\r\n    this.budgetService.setYear(this.year);\r\n\r\n    this.searchBudget();\r\n  }\r\n\r\n  addIncomeExpense() {\r\n    this.router.navigate(['../add'], { relativeTo: this.route });\r\n  }\r\n\r\n  viewStatement() {\r\n    this.router.navigate(['../summery'], { relativeTo: this.route });\r\n  }\r\n\r\n  getAmount(amount: any) {\r\n    amount = +amount;\r\n    return amount.toFixed(2).toString() + '/-';\r\n  }\r\n\r\n  onSelectYear(year: string) {\r\n    this.year = year;\r\n    this.budgetService.setYear(year);\r\n    if (year === '') {\r\n      this.month = '';\r\n    }\r\n    this.searchBudget();\r\n  }\r\n\r\n  onSelectMonth(month: string) {\r\n    this.month = month;\r\n    this.budgetService.setMonth(this.month);\r\n    this.searchBudget();\r\n  }\r\n\r\n  openChart(dialog: TemplateRef<any>) {\r\n    const colors: any = this.themeConfig.variables;\r\n    const chartjs: any = this.themeConfig.variables.chartjs;\r\n\r\n    const chartData = {\r\n      data: {\r\n        labels: ['Income', 'Expense'],\r\n        datasets: [\r\n          {\r\n            data: [this.getTotalIncome(), this.getTotalExpense()],\r\n            backgroundColor: [colors.warningLight, colors.dangerLight],\r\n          },\r\n        ],\r\n      },\r\n\r\n      options: {\r\n        maintainAspectRatio: false,\r\n        responsive: true,\r\n        scales: {\r\n          xAxes: [\r\n            {\r\n              display: false,\r\n            },\r\n          ],\r\n          yAxes: [\r\n            {\r\n              display: false,\r\n            },\r\n          ],\r\n        },\r\n        legend: {\r\n          labels: {\r\n            fontColor: chartjs.textColor,\r\n          },\r\n        },\r\n      },\r\n    };\r\n    this.dialogService.open(dialog, { context: chartData });\r\n  }\r\n\r\n  searchBudget() {\r\n    this.loading = true;\r\n    this.budgetService.getBudgetForBranch(this.branchId, this.month, this.year).subscribe(\r\n      (budgetData: { incomes: BudgetModel[]; expenses: BudgetModel[] }) => {\r\n        this.incomes = budgetData.incomes;\r\n        this.expenses = budgetData.expenses;\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        this.showToastr('top-right', 'danger', error);\r\n        this.loading = false;\r\n      },\r\n    );\r\n  }\r\n\r\n  getTotalIncome() {\r\n    let totalIncome = 0;\r\n    this.incomes.forEach((income: BudgetModel) => {\r\n      totalIncome += income.amount;\r\n    });\r\n    return totalIncome;\r\n  }\r\n\r\n  getTotalExpense() {\r\n    let totalExpense = 0;\r\n    this.expenses.forEach((expense: BudgetModel) => {\r\n      totalExpense += expense.amount;\r\n    });\r\n    return totalExpense;\r\n  }\r\n\r\n  getTotalBalance() {\r\n    const totalIncomes = this.getTotalIncome();\r\n    const totalExpenses = this.getTotalExpense();\r\n    return totalIncomes - totalExpenses;\r\n  }\r\n\r\n  deleteBudget(id: string, i: number, type: string) {\r\n    this.budgetService.deleteBudget(id).subscribe(\r\n      (budget: any) => {\r\n        if (type === 'income') {\r\n          this.incomes.splice(i, 1);\r\n          this.showToastr('top-right', 'success', 'Income Deleted Successfully!!');\r\n        } else {\r\n          this.expenses.splice(i, 1);\r\n          this.showToastr('top-right', 'success', 'Expense Deleted Successfully!!');\r\n        }\r\n      },\r\n      (error: any) => {\r\n        this.showToastr('top-right', 'danger', error);\r\n        this.loading = false;\r\n      },\r\n    );\r\n  }\r\n\r\n  back() {\r\n    this.router.navigate(['../'], { relativeTo: this.route });\r\n  }\r\n\r\n  private showToastr(position: any, status: any, message: string) {\r\n    this.toastrService.show(status, message, {\r\n      position,\r\n      status,\r\n    });\r\n  }\r\n\r\n  OnDestroy() {\r\n    this.themeSubscription.unsubscribe();\r\n  }\r\n}\r\n","// import { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { ChartModule } from 'angular2-chartjs';\nimport {\n  NbCardModule,\n  NbInputModule,\n  NbButtonModule,\n  NbSelectModule,\n  NbTooltipModule,\n  NbIconModule,\n  NbTabsetModule,\n} from '@nebular/theme';\nimport { ManageBudgetComponent } from './manage-budget.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ManageBudgetRoutingModule } from './manage-budget-routing.module';\n\n@NgModule({\n  declarations: [ManageBudgetComponent],\n  imports: [\n    CommonModule,\n    ManageBudgetRoutingModule,\n    NbCardModule,\n    NbInputModule,\n    NbSelectModule,\n    NbButtonModule,\n    // NgxChartsModule,\n    ChartModule,\n    NbTooltipModule,\n    NbIconModule,\n    NbTabsetModule,\n  ],\n})\nexport class ManageBudgetModule {}\n"]}