!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{gAi8:function(n,r,a){"use strict";a.r(r),a.d(r,"AddStudentModule",(function(){return H}));var d=a("ofXK"),i=a("cxbk"),l=a("3Pt+"),s=a("fXoL"),o=a("EQut"),u=a("JmRu"),m=a("ZatZ"),c=a("fvxu"),p=a("aceb"),h=a("/ehT"),g=a("5hth"),S=a("tyNb"),v=["stepper"];function b(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",20),s["\u0275\u0275elementStart"](1,"nb-checkbox",35),s["\u0275\u0275listener"]("checkedChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).alreadyRegister(e)})),s["\u0275\u0275text"](2,"Already Registered Student"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("checked",r.alreadyRegisteredUser)}}function f(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"button",41),s["\u0275\u0275element"](1,"nb-icon",42),s["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Student Id is required! "),s["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,E,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentSearchForm.get("studentId").errors?null:n.studentSearchForm.get("studentId").errors.required)}}function y(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",36),s["\u0275\u0275elementStart"](1,"form",37),s["\u0275\u0275listener"]("submit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).searchStudent()})),s["\u0275\u0275elementStart"](2,"div",13),s["\u0275\u0275elementStart"](3,"label",38),s["\u0275\u0275text"](4,"Student Id:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-form-field"),s["\u0275\u0275element"](6,"input",39),s["\u0275\u0275template"](7,f,2,0,"button",40),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,x,2,1,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroup",r.studentSearchForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("status",r.studentSearchForm.get("studentId").touched?r.studentSearchForm.get("studentId").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!r.student),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.studentSearchForm.get("studentId").invalid&&r.studentSearchForm.get("studentId").touched)}}function F(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Student name is required! "),s["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Student Name should contain minimum 3 characters "),s["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,F,2,0,"p",43),s["\u0275\u0275template"](2,I,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("name").errors?null:n.studentForm.get("name").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("name").errors?null:n.studentForm.get("name").errors.minlength)}}function C(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Email is required! "),s["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Email should be the real one! "),s["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Email Already registered, Please try another Email! "),s["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,C,2,0,"p",43),s["\u0275\u0275template"](2,D,2,0,"p",43),s["\u0275\u0275template"](3,N,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("email").errors?null:n.studentForm.get("email").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("email").errors?null:n.studentForm.get("email").errors.email),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.userExist)}}function k(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Phone is required! "),s["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Phone should contain 10 digits "),s["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,k,2,0,"p",43),s["\u0275\u0275template"](2,T,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("phone").errors?null:n.studentForm.get("phone").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(null==n.studentForm.get("phone").errors?null:n.studentForm.get("phone").errors.minlength)||(null==n.studentForm.get("phone").errors?null:n.studentForm.get("phone").errors.maxlength)||(null==n.studentForm.get("phone").errors?null:n.studentForm.get("phone").errors.min)||(null==n.studentForm.get("phone").errors?null:n.studentForm.get("phone").errors.max))}}function q(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Parent Name should contain minimum 3 characters "),s["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,q,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("parentName").errors?null:n.studentForm.get("parentName").errors.minlength)}}function R(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Parent Email should be the real one! "),s["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,R,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.studentForm.get("parentEmail").errors?null:n.studentForm.get("parentEmail").errors.parentEmail)}}function j(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Parent Phone should contain 10 digits "),s["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,j,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(null==n.studentForm.get("parentPhone").errors?null:n.studentForm.get("parentPhone").errors.minlength)||(null==n.studentForm.get("parentPhone").errors?null:n.studentForm.get("parentPhone").errors.maxlength)||(null==n.studentForm.get("parentPhone").errors?null:n.studentForm.get("parentPhone").errors.min)||(null==n.studentForm.get("parentPhone").errors?null:n.studentForm.get("parentPhone").errors.max))}}function U(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",37),s["\u0275\u0275listener"]("submit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).studentFormSubmit()})),s["\u0275\u0275elementStart"](1,"div",6),s["\u0275\u0275elementStart"](2,"div",12),s["\u0275\u0275elementStart"](3,"div",13),s["\u0275\u0275elementStart"](4,"label",45),s["\u0275\u0275text"](5,"Student Name:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"input",46),s["\u0275\u0275template"](7,w,3,2,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",12),s["\u0275\u0275elementStart"](9,"div",13),s["\u0275\u0275elementStart"](10,"label",47),s["\u0275\u0275text"](11,"Email address:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"input",48),s["\u0275\u0275listener"]("input",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).checkUser()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,P,4,3,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",12),s["\u0275\u0275elementStart"](15,"div",13),s["\u0275\u0275elementStart"](16,"label",49),s["\u0275\u0275text"](17,"Phone:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](18,"input",50),s["\u0275\u0275template"](19,B,3,2,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",12),s["\u0275\u0275elementStart"](21,"div",13),s["\u0275\u0275elementStart"](22,"label",51),s["\u0275\u0275text"](23,"Birth Date:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](24,"input",52),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",20),s["\u0275\u0275elementStart"](26,"div",13),s["\u0275\u0275elementStart"](27,"label",53),s["\u0275\u0275text"](28,"Address:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](29,"textarea",54),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",12),s["\u0275\u0275elementStart"](31,"div",13),s["\u0275\u0275elementStart"](32,"label",55),s["\u0275\u0275text"](33,"Parent Name:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](34,"input",56),s["\u0275\u0275template"](35,A,2,1,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div",12),s["\u0275\u0275elementStart"](37,"div",13),s["\u0275\u0275elementStart"](38,"label",57),s["\u0275\u0275text"](39,"Parent Email address:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](40,"input",58),s["\u0275\u0275template"](41,V,2,1,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"div",12),s["\u0275\u0275elementStart"](43,"div",13),s["\u0275\u0275elementStart"](44,"label",59),s["\u0275\u0275text"](45,"Parent Phone:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](46,"input",60),s["\u0275\u0275template"](47,M,2,1,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](48,"hr"),s["\u0275\u0275elementStart"](49,"div",6),s["\u0275\u0275elementStart"](50,"div",61),s["\u0275\u0275elementStart"](51,"button",27),s["\u0275\u0275elementStart"](52,"span"),s["\u0275\u0275text"](53,"Next"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](54,"nb-icon",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("formGroup",r.studentForm),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("status",r.studentForm.get("name").touched?r.studentForm.get("name").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.studentForm.get("name").invalid&&r.studentForm.get("name").touched),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("status",r.studentForm.get("email").touched?r.studentForm.get("email").invalid||r.userExist?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(r.studentForm.get("email").invalid||r.userExist)&&r.studentForm.get("email").touched),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("status",r.studentForm.get("phone").touched?r.studentForm.get("phone").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.studentForm.get("phone").invalid&&r.studentForm.get("phone").touched),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("max",r.dateService.getDateString()),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("status",r.studentForm.get("parentName").touched?r.studentForm.get("parentName").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.studentForm.get("parentName").invalid&&r.studentForm.get("parentName").touched),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("status",r.studentForm.get("parentEmail").touched?r.studentForm.get("parentEmail").invalid||r.userExist?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(r.studentForm.get("parentEmail").invalid||r.userExist)&&r.studentForm.get("parentEmail").touched),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("status",r.studentForm.get("parentPhone").touched?r.studentForm.get("parentPhone").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.studentForm.get("parentPhone").invalid&&r.studentForm.get("parentPhone").touched)}}function W(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",62),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.category)}}function z(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Branch Category is required! "),s["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,z,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.branchStudentForm.get("category").errors?null:n.branchStudentForm.get("category").errors.required)}}function L(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",44),s["\u0275\u0275text"](1," Admission Date is required! "),s["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,L,2,0,"p",43),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.branchStudentForm.get("admissionDate").errors?null:n.branchStudentForm.get("admissionDate").errors.required)}}function Q(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"th"),s["\u0275\u0275text"](2,"IMS Id"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](n.studentSearchForm.value.studentId)}}function J(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"button",1),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().back()})),s["\u0275\u0275text"](3," Back "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h3",2),s["\u0275\u0275text"](5),s["\u0275\u0275pipe"](6,"uppercase"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card-body"),s["\u0275\u0275elementStart"](8,"nb-stepper",3,4),s["\u0275\u0275elementStart"](10,"nb-step",5),s["\u0275\u0275elementStart"](11,"div",6),s["\u0275\u0275template"](12,b,3,1,"div",7),s["\u0275\u0275template"](13,y,9,4,"div",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,U,55,14,"form",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-step",10),s["\u0275\u0275elementStart"](16,"form",11),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().branchStudentFormSubmit()})),s["\u0275\u0275elementStart"](17,"div",6),s["\u0275\u0275elementStart"](18,"div",12),s["\u0275\u0275elementStart"](19,"div",13),s["\u0275\u0275elementStart"](20,"label",14),s["\u0275\u0275text"](21,"Branch Category:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"nb-select",15),s["\u0275\u0275elementStart"](23,"nb-option",16),s["\u0275\u0275text"](24,"Select Category"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](25,W,2,2,"nb-option",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](26,G,2,1,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"div",12),s["\u0275\u0275elementStart"](28,"div",13),s["\u0275\u0275elementStart"](29,"label",18),s["\u0275\u0275text"](30,"Admission Date:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](31,"input",19),s["\u0275\u0275template"](32,O,2,1,"ng-container",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",20),s["\u0275\u0275elementStart"](34,"div",13),s["\u0275\u0275elementStart"](35,"label",21),s["\u0275\u0275text"](36,"Description:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](37,"textarea",22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](38,"hr"),s["\u0275\u0275elementStart"](39,"div",6),s["\u0275\u0275elementStart"](40,"div",23),s["\u0275\u0275elementStart"](41,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().previousStep()})),s["\u0275\u0275element"](42,"nb-icon",25),s["\u0275\u0275elementStart"](43,"span"),s["\u0275\u0275text"](44,"prev"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](45,"div",26),s["\u0275\u0275elementStart"](46,"button",27),s["\u0275\u0275elementStart"](47,"span"),s["\u0275\u0275text"](48,"Next"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](49,"nb-icon",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](50,"nb-step",29),s["\u0275\u0275elementStart"](51,"div",30),s["\u0275\u0275elementStart"](52,"div",31),s["\u0275\u0275elementStart"](53,"table",32),s["\u0275\u0275elementStart"](54,"tbody"),s["\u0275\u0275template"](55,Q,5,1,"tr",0),s["\u0275\u0275elementStart"](56,"tr"),s["\u0275\u0275elementStart"](57,"th"),s["\u0275\u0275text"](58,"Student Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](59,"td"),s["\u0275\u0275text"](60),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](61,"tr"),s["\u0275\u0275elementStart"](62,"th"),s["\u0275\u0275text"](63,"Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](64,"td"),s["\u0275\u0275text"](65),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](66,"tr"),s["\u0275\u0275elementStart"](67,"th"),s["\u0275\u0275text"](68,"Phone"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](69,"td"),s["\u0275\u0275text"](70),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](71,"tr"),s["\u0275\u0275elementStart"](72,"th"),s["\u0275\u0275text"](73,"Address"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](74,"td"),s["\u0275\u0275text"](75),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](76,"tr"),s["\u0275\u0275elementStart"](77,"th"),s["\u0275\u0275text"](78,"Parent Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](79,"td"),s["\u0275\u0275text"](80),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](81,"tr"),s["\u0275\u0275elementStart"](82,"th"),s["\u0275\u0275text"](83,"Parent Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](84,"td"),s["\u0275\u0275text"](85),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](86,"tr"),s["\u0275\u0275elementStart"](87,"th"),s["\u0275\u0275text"](88,"Parent Phone"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](89,"td"),s["\u0275\u0275text"](90),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](91,"tr"),s["\u0275\u0275elementStart"](92,"th"),s["\u0275\u0275text"](93,"Category"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](94,"td"),s["\u0275\u0275text"](95),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](96,"tr"),s["\u0275\u0275elementStart"](97,"th"),s["\u0275\u0275text"](98,"Admission Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](99,"td"),s["\u0275\u0275text"](100),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](101,"tr"),s["\u0275\u0275elementStart"](102,"th"),s["\u0275\u0275text"](103,"Description"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](104,"td"),s["\u0275\u0275text"](105),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](106,"hr"),s["\u0275\u0275elementStart"](107,"div",6),s["\u0275\u0275elementStart"](108,"div",23),s["\u0275\u0275elementStart"](109,"button",33),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().previousStep()})),s["\u0275\u0275element"](110,"nb-icon",25),s["\u0275\u0275elementStart"](111,"span"),s["\u0275\u0275text"](112,"prev"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](113,"div",26),s["\u0275\u0275elementStart"](114,"button",34),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveStudent()})),s["\u0275\u0275elementStart"](115,"span"),s["\u0275\u0275text"](116,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",r.student?"Edit Student "+s["\u0275\u0275pipeBind1"](6,28,r.student.name):"Add New Student"," "),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("linear",!0)("disableStepNavigation",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("stepControl",r.studentForm),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!r.student),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.alreadyRegisteredUser||r.student),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!r.alreadyRegisteredUser),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("stepControl",r.branchStudentForm),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroup",r.branchStudentForm),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("status",r.branchStudentForm.get("category").touched?r.branchStudentForm.get("category").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",r.categories),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.branchStudentForm.get("category").invalid&&r.branchStudentForm.get("category").touched),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("status",r.branchStudentForm.get("admissionDate").touched?r.branchStudentForm.get("admissionDate").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.branchStudentForm.get("admissionDate").invalid&&r.branchStudentForm.get("admissionDate").touched),s["\u0275\u0275advance"](23),s["\u0275\u0275property"]("ngIf",r.studentSearchForm.value.studentId),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.studentForm.value.name),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.studentForm.value.email),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.studentForm.value.phone),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.studentForm.value.address?r.studentForm.value.address:"--"),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.studentForm.value.parentName?r.studentForm.value.parentName:"--"),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",r.studentForm.value.parentEmail?r.studentForm.value.parentEmail:"--"," "),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",r.studentForm.value.parentPhone?r.studentForm.value.parentPhone:"--"," "),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.getCategory(r.branchStudentForm.value.category)),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.dateService.formatDate(r.branchStudentForm.value.admissionDate)),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",r.branchStudentForm.value.description?r.studentForm.value.description:"--"," "),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("disabled",r.submit),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("disabled",r.submit)("nbSpinner",r.submit)}}var _,K,X,Z=[{path:"",component:(_=function(){function n(t,r,a,d,i,l,s,o,u){e(this,n),this.branchService=t,this.studentService=r,this.dateService=a,this.userService=d,this.toastrService=i,this.branchStudentService=l,this.encryptService=s,this.router=o,this.route=u}var r,a,d;return r=n,(a=[{key:"ngOnInit",value:function(){var e,t=this;if(this.loading=!0,this.submit=!1,this.branchId=this.branchService.getBranchId(),this.branchId)return this.studentId=this.studentService.getStudentId(),this.branchStudentId=this.branchStudentService.getBranchStudentId(),this.route.queryParams.subscribe((function(t){e=t.mode})),e&&"edit"!==e?(this.showToastr("top-right","danger","Invalid Route"),void this.router.navigate(["../page-not-found"],{relativeTo:this.route})):!e||this.studentId||this.branchStudentId?(this.alreadyRegisteredUser=!1,this.categories=[],this.getCategories(),this.studentSearchForm=new l.f({studentId:new l.d(null,{validators:[l.u.required]})}),this.studentForm=new l.f({name:new l.d(null,{validators:[l.u.required,l.u.minLength(3)]}),email:new l.d(null,{validators:[l.u.required,l.u.email]}),phone:new l.d(null,{validators:[l.u.required,l.u.minLength(10),l.u.maxLength(10),l.u.min(1e9),l.u.max(9999999999)]}),birthDate:new l.d(null,{validators:[]}),parentName:new l.d(null,{validators:[]}),parentEmail:new l.d(null,{validators:[l.u.email]}),parentPhone:new l.d(null,{validators:[l.u.minLength(10),l.u.maxLength(10),l.u.min(1e9),l.u.max(9999999999)]}),address:new l.d(null,{validators:[]})}),this.branchStudentForm=new l.f({category:new l.d("",{validators:[l.u.required]}),admissionDate:new l.d(this.dateService.getDateString(),{validators:[l.u.required]}),description:new l.d(null,{validators:[]})}),void(e&&this.studentId&&this.branchStudentId?this.branchStudentService.getBranchStudentForEditing(this.branchStudentId,this.studentId).subscribe((function(e){t.student=e.student,t.branchStudent=e.branchStudent,t.userExist=!1,t.studentSearchForm.patchValue({studentId:t.student.imsMasterId}),t.studentForm.patchValue({name:t.student.name,email:t.student.email,phone:t.student.phone,parentName:t.student.parentName,parentEmail:t.student.parentEmail,parentPhone:t.student.parentPhone,birthDate:t.student.birthDate,address:t.student.address}),t.disableStudentDetails(),t.branchStudentForm.patchValue({category:t.branchStudent.category,admissionDate:t.branchStudent.admissionDate,description:t.branchStudent.description}),t.loading=!1}),(function(e){t.showToastr("top-right","danger",e),t.back()})):this.loading=!1)):(this.showToastr("top-right","danger","Student Not Found"),void this.router.navigate(["../page-not-found"],{relativeTo:this.route}));this.router.navigate(["../"],{relativeTo:this.route})}},{key:"getCategories",value:function(){var e=this;this.branchService.getBranchData().subscribe((function(t){t&&(e.categories=t.categories)})),this.categories||this.branchService.getBranch(this.branchId).subscribe((function(t){e.branchService.setBranchData(t),e.categories=t.categories}),(function(t){e.showToastr("top-right","danger",t),e.loading=!1}))}},{key:"checkUser",value:function(){var e=this;this.studentForm.get("email").valid&&!this.student&&this.userService.checkUser(this.studentForm.value.email).subscribe((function(t){e.userExist=t.exist}),(function(e){}))}},{key:"alreadyRegister",value:function(e){this.alreadyRegisteredUser=e}},{key:"searchStudent",value:function(){var e=this;this.studentSearchForm.markAllAsTouched(),this.studentSearchForm.invalid?this.showToastr("top-right","danger","Enter Student Id"):(this.studentId=this.studentSearchForm.value.studentId,this.loading=!0,this.studentService.searchStudent(this.studentId,this.branchId).subscribe((function(t){e.student=t,e.studentId=t.imsMasterId,e.userExist=!1,e.alreadyRegisteredUser=!1,e.studentSearchForm.patchValue({studentId:e.student.imsMasterId}),e.studentForm.patchValue({name:e.student.name,email:e.student.email,phone:e.student.phone,parentName:e.student.parentName,parentEmail:e.student.parentEmail,parentPhone:e.student.parentPhone,birthDate:e.student.birthDate,address:e.student.address}),e.disableStudentDetails(),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.studentId=null,e.loading=!1})))}},{key:"enableStudentDetails",value:function(){this.studentForm.get("name").enable(),this.studentForm.get("email").enable(),this.studentForm.get("phone").enable(),this.studentForm.get("parentName").enable(),this.studentForm.get("parentEmail").enable(),this.studentForm.get("parentPhone").enable(),this.studentForm.get("birthDate").enable(),this.studentForm.get("address").enable(),this.studentSearchForm.get("studentId").enable()}},{key:"disableStudentDetails",value:function(){this.studentForm.get("name").disable(),this.studentForm.get("email").disable(),this.studentForm.get("phone").disable(),this.studentForm.get("parentName").disable(),this.studentForm.get("parentEmail").disable(),this.studentForm.get("parentPhone").disable(),this.studentForm.get("birthDate").disable(),this.studentForm.get("address").disable(),this.studentSearchForm.get("studentId").disable()}},{key:"previousStep",value:function(){this.stepper.previous(),this.student&&this.disableStudentDetails()}},{key:"studentFormSubmit",value:function(){this.studentForm.markAllAsTouched(),this.studentForm.invalid?this.showToastr("top-right","danger","Student Details are Required"):this.userExist?this.showToastr("top-right","danger","User with this email address is already Exist"):(this.student&&this.enableStudentDetails(),this.stepper.next())}},{key:"branchStudentFormSubmit",value:function(){this.branchStudentForm.markAllAsTouched(),this.studentForm.invalid?this.showToastr("top-right","danger","Student Branch Details are Required"):this.stepper.next()}},{key:"saveStudent",value:function(){var e=this;if(this.studentForm.markAllAsTouched(),this.branchStudentForm.markAllAsTouched(),this.studentForm.invalid)this.showToastr("top-right","danger","Student Details are Required");else if(this.studentForm.invalid)this.showToastr("top-right","danger","Student Branch Details are Required");else if(this.submit=!0,this.studentId||this.branchStudentId)if(this.studentId&&!this.branchStudentId){var t=this.branchStudentForm.value;t.branch=this.branchId,t.student=this.studentId,this.branchStudentService.newBranchStudent(t).subscribe((function(t){e.showToastr("top-right","success","New Branch Student added Successfully"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}else if(this.studentId&&this.branchStudentId){var n=this.branchStudentForm.value;n._id=this.branchStudentId,this.branchStudentService.editBranchStudent(n).subscribe((function(t){e.showToastr("top-right","success","Student Updated Successfully"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}else this.showToastr("top-right","danger","Invalid data"),this.submit=!1;else{var r=this.studentForm.value;r.password=this.encryptService.encrypt(r.phone,i.a.encKey);var a=this.branchStudentForm.value;a.branch=this.branchId,this.studentService.addStudent(r,a).subscribe((function(t){e.showToastr("top-right","success","New Student Added Successfully"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"getCategory",value:function(e){var t=this.categories.find((function(t){return t._id===e}));return t?t.category:"--"}},{key:"back",value:function(){var e=this.studentService.getStudentType();this.router.navigate(["../"],{relativeTo:this.route,queryParams:{type:e},replaceUrl:!0})}},{key:"ngOnDestroy",value:function(){this.studentService.deleteStudentId(),this.branchStudentService.deleteBranchStudentId()}}])&&t(r.prototype,a),d&&t(r,d),n}(),_.\u0275fac=function(e){return new(e||_)(s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](p.Gb),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](S.c),s["\u0275\u0275directiveInject"](S.a))},_.\u0275cmp=s["\u0275\u0275defineComponent"]({type:_,selectors:[["ngx-add-student"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](v,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.stepper=n.first)},decls:1,vars:1,consts:[[4,"ngIf"],["type","button","nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,""],[3,"linear","disableStepNavigation"],["stepper",""],["label","Basic Details",3,"stepControl"],[1,"row"],["class","col-md-12",4,"ngIf"],["class","col-md-6 col-sm-8",4,"ngIf"],["class","",3,"formGroup","submit",4,"ngIf"],["label","Enrollment Details",3,"stepControl"],[1,"step-container",3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-control-group"],["for","input-category",1,"label"],["id","input-category","name","category","formControlName","category","placeholder","Select Category","fullWidth","",3,"status"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","input-admission-date",1,"label"],["type","date","nbInput","","id","input-admission-date","name","admissionDate","formControlName","admissionDate","placeholder","admissionDate","fullWidth","",3,"status"],[1,"col-md-12"],["for","input-description",1,"label"],["type","text","nbInput","","id","input-description","name","description","formControlName","description","placeholder","Description (Optional)","fullWidth",""],[1,"col-6","text-left"],["type","button","nbButton","","size","small",1,"",3,"click"],["icon","arrow-ios-back-outline"],[1,"col-6","text-right"],["nbButton","","size","small","type","submit"],["icon","arrow-ios-forward-outline"],["label","Submit"],[1,"step-container"],[1,"table-responsive"],[1,"table","table-bordered"],["type","button","nbButton","","size","small",1,"",3,"disabled","click"],["nbButton","","size","small","nbSpinnerStatus","primary","nbSpinnerSize","small",3,"disabled","nbSpinner","click"],["id","input-already-registered","name","alreadyRegistered",3,"checked","checkedChange"],[1,"col-md-6","col-sm-8"],[1,"",3,"formGroup","submit"],["for","input-student-student-id",1,"label"],["type","text","nbInput","","id","input-student-id","studentId","studentId","formControlName","studentId","placeholder","Student Email or IMS Master Id","fullWidth","",3,"status"],["nbSuffix","","nbTooltip","Fetch","nbButton","","size","small","ghost","","type","submit",4,"ngIf"],["nbSuffix","","nbTooltip","Fetch","nbButton","","size","small","ghost","","type","submit"],["icon","arrow-circle-right-outline","status","success"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],["for","input-student-student-name",1,"label"],["type","text","nbInput","","id","input-student-name","name","name","formControlName","name","placeholder","Student Name","minlength","3","maxlength","30","fullWidth","",3,"status"],["for","input-email",1,"label"],["type","email","nbInput","","id","input-email","name","email","formControlName","email","placeholder","Email address","fullWidth","",3,"status","input"],["for","input-phone",1,"label"],["type","number","nbInput","","id","input-phone","name","phone","formControlName","phone","placeholder","phone","minlength","10","maxlength","10","min","1000000000","max","9999999999","fullWidth","",3,"status"],["for","input-birth-date",1,"label"],["type","date","nbInput","","id","input-birth-date","name","birthDate","formControlName","birthDate","placeholder","Birth Date","fullWidth","",3,"max"],["for","input-address",1,"label"],["type","text","nbInput","","id","input-address","name","address","formControlName","address","placeholder","Address (Optional)","fullWidth",""],["for","input-parent-name",1,"label"],["type","text","nbInput","","id","input-parent-name","name","parentName","formControlName","parentName","placeholder","Parent Name","minlength","3","maxlength","30","fullWidth","",3,"status"],["for","input-parent-email",1,"label"],["type","parentEmail","nbInput","","id","input-parent-email","name","parentEmail","formControlName","parentEmail","placeholder","Parent Email address","fullWidth","",3,"status"],["for","input-parent-phone",1,"label"],["type","number","nbInput","","id","input-parent-phone","name","parentPhone","formControlName","parentPhone","placeholder","Parent Phone","minlength","10","maxlength","10","min","1000000000","max","9999999999","fullWidth","",3,"status"],[1,"col-md-12","text-right"],[3,"value"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,J,117,30,"nb-card",0),2&e&&s["\u0275\u0275property"]("ngIf",!t.loading)},directives:[d.n,p.y,p.A,p.v,p.x,p.vb,p.ub,l.v,l.n,l.g,p.nb,l.m,l.e,p.gb,d.m,p.Q,l.a,p.N,p.sb,p.D,p.L,p.yb,p.Ib,l.j,l.i,l.q],pipes:[d.w],styles:[""]}),_)},{path:"page-not-found",loadChildren:function(){return a.e(0).then(a.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],$=((X=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:X}),X.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||X)},imports:[[S.g.forChild(Z)],S.g]}),X),H=((K=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:K}),K.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||K)},imports:[[d.c,$,p.B,p.ob,p.E,p.M,p.R,p.w,p.P,p.tb,p.wb,p.Jb,l.s]]}),K)}}])}();
//# sourceMappingURL=19-es5.054265f34d11cd8a2b40.js.map