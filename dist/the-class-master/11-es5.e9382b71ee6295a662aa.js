!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{vzPq:function(n,r,i){"use strict";i.r(r),i.d(r,"AddOnlineTestQuestionsModule",(function(){return C}));var a=i("3Pt+"),o=i("ofXK"),l=i("fXoL"),s=i("EQut"),u=i("gmaa"),m=i("RSY0"),d=i("ZatZ"),c=i("aceb"),p=i("tyNb"),v=["stepper"];function E(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p",28),l["\u0275\u0275text"](1," Online Exam Question is required! "),l["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,E,2,0,"p",27),l["\u0275\u0275elementContainerEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.onlineExamQuestionForm.get("question").errors?null:n.onlineExamQuestionForm.get("question").errors.required)}}function f(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",33),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]().index;return l["\u0275\u0275nextContext"]().deleteOption(e)})),l["\u0275\u0275element"](1,"nb-icon",34),l["\u0275\u0275elementEnd"]()}}function b(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"p",28),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2).index;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" Answer ",n+1," is required! ")}}function x(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,b,2,1,"p",27),l["\u0275\u0275elementContainerEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.get("answer").errors?null:n.get("answer").errors.required)}}function g(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",9),l["\u0275\u0275elementStart"](1,"nb-card",29),l["\u0275\u0275elementStart"](2,"nb-card-header"),l["\u0275\u0275elementStart"](3,"div",0),l["\u0275\u0275elementStart"](4,"div",4),l["\u0275\u0275template"](5,f,2,0,"button",30),l["\u0275\u0275elementStart"](6,"nb-checkbox",31),l["\u0275\u0275text"](7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"nb-card-body"),l["\u0275\u0275elementStart"](9,"div",11),l["\u0275\u0275element"](10,"textarea",32),l["\u0275\u0275template"](11,x,2,1,"ng-container",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=t.index;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",n),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",0!==r&&1!==r),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("checked",n.get("isCorrect").value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" Answer ",r+1," "),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate1"]("id","input-answer-",r,""),l["\u0275\u0275propertyInterpolate1"]("name","answer-",r,""),l["\u0275\u0275propertyInterpolate1"]("placeholder","Answer ",r+1,""),l["\u0275\u0275property"]("status",n.get("answer").touched?n.get("answer").invalid?"danger":"success":"basic"),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.get("answer").invalid&&n.get("answer").touched)}}function S(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p",28),l["\u0275\u0275text"](1," *Please Select at least One Correct Answer "),l["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,S,2,0,"p",27),l["\u0275\u0275elementContainerEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.onlineExamQuestionForm.hasError("atLeastOneCorrectAnswerError")&&n.onlineExamQuestionForm.touched)}}function Q(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"th"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275element"](4,"nb-icon",35),l["\u0275\u0275text"](5," \xa0\xa0 "),l["\u0275\u0275elementStart"](6,"span"),l["\u0275\u0275text"](7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=t.index;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("Answer ",r+1,""),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("status",n.value.isCorrect?"success":"danger")("icon",n.value.isCorrect?"checkmark-outline":"close-outline"),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](n.value.answer)}}var y,k,O,I=[{path:"",component:(y=function(){function n(t,r,i,a,o,l,s){e(this,n),this.branchService=t,this.onlineExamQuestionService=r,this.onlineExamService=i,this.dateService=a,this.toastrService=o,this.router=l,this.route=s}var r,i,o;return r=n,(i=[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.submit=!1,this.branchId=this.branchService.getBranchId(),this.branchId?this.onlineExamService.getOnlineExamData().subscribe((function(t){var n;t?(e.onlineExam=t,e.route.queryParams.subscribe((function(e){n=e.mode})),e.onlineExamQuestionId=e.onlineExamQuestionService.getOnlineExamQuestionId(),n&&"edit"!==n?e.showToastr("top-right","danger","Invalid Route"):!n||e.onlineExamQuestionId?(e.onlineExamQuestionForm=new a.f({question:new a.d(null,{validators:[a.u.required]}),answers:new a.b([]),marks:new a.d(e.onlineExam.eachQuestionMarks,{validators:[a.u.required]})},{validators:e.atLeastOneCorrectAnswerValidator.bind(e)}),n&&e.onlineExamQuestionId?e.onlineExamQuestionService.getOnlineExamQuestion(e.onlineExamQuestionId).subscribe((function(t){e.onlineExamQuestion=t,e.onlineExamQuestionForm.patchValue({question:e.onlineExamQuestion.question,marks:e.onlineExamQuestion.marks}),e.onlineExamQuestionForm.get("answers").controls=[],e.onlineExamQuestion.answers.forEach((function(t){e.addOption(t)})),e.loading=!1}),(function(t){e.showToastr("top-right","danger",t),e.back(),e.loading=!1})):(e.generateOption(),e.generateOption(),e.loading=!1)):e.showToastr("top-right","danger","Online Exam Question Not Found")):e.back()})):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"atLeastOneCorrectAnswerValidator",value:function(e){var t=!1;return e.value.answers.forEach((function(e){e.isCorrect&&(t=!0)})),t?null:{atLeastOneCorrectAnswerError:!0}}},{key:"newAnswer",value:function(e){return new a.f({answer:new a.d(e.answer?e.answer:null,{validators:[a.u.required]}),isCorrect:new a.d(e.isCorrect,{validators:[]})})}},{key:"addOption",value:function(e){this.onlineExamQuestionForm.get("answers").push(this.newAnswer(e))}},{key:"generateOption",value:function(){this.addOption({answer:"",isCorrect:!1})}},{key:"deleteOption",value:function(e){0!==e&&1!==e&&this.onlineExamQuestionForm.get("answers").removeAt(e)}},{key:"previousStep",value:function(){this.stepper.previous()}},{key:"submitOnlineExamQuestionForm",value:function(){this.onlineExamQuestionForm.markAllAsTouched(),this.onlineExamQuestionForm.invalid?this.showToastr("top-right","danger","All Online Exam Question are Required"):this.stepper.next()}},{key:"saveOnlineExamQuestion",value:function(){var e=this;if(this.onlineExamQuestionForm.markAllAsTouched(),this.onlineExamQuestionForm.invalid)this.showToastr("top-right","danger","All Online Exam Question Fields are Required");else{this.submit=!0;var t=this.onlineExamQuestionForm.value;t.onlineExam=this.onlineExam._id,this.onlineExamQuestion?(t._id=this.onlineExamQuestion._id,this.onlineExamQuestionService.editOnlineExamQuestion(t).subscribe((function(t){e.showToastr("top-right","success","New Question Added Successfully"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))):this.onlineExamQuestionService.newOnlineExamQuestion(t).subscribe((function(t){e.showToastr("top-right","success","New Question Added Successfully"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route,replaceUrl:!0})}},{key:"ngOnDestroy",value:function(){this.onlineExamQuestionService.deleteOnlineExamQuestionId(),this.onlineExamQuestionService.deleteOnlineExamQuestionData()}}])&&t(r.prototype,i),o&&t(r,o),n}(),y.\u0275fac=function(e){return new(e||y)(l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](u.a),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](c.Gb),l["\u0275\u0275directiveInject"](p.c),l["\u0275\u0275directiveInject"](p.a))},y.\u0275cmp=l["\u0275\u0275defineComponent"]({type:y,selectors:[["ngx-add-online-test-questions"]],viewQuery:function(e,t){var n;1&e&&l["\u0275\u0275viewQuery"](v,!0),2&e&&l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.stepper=n.first)},decls:62,vars:14,consts:[[1,"row"],[1,"col-9"],[1,"col-3"],["nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,"col-12"],[3,"linear","disableStepNavigation"],["stepper",""],["label","Online Exam Details",3,"stepControl"],[3,"formGroup","submit"],[1,"col-md-12"],["for","input-question",1,"label"],[1,"form-control-group"],["type","text","nbInput","","id","input-question","name","question","rows","2","formControlName","question","placeholder","Question","fullWidth","",3,"status"],[4,"ngIf"],["class","col-md-12",4,"ngFor","ngForOf"],["type","button","nbButton","","size","small","status","primary",1,"float-right",3,"click"],["type","submit","nbButton","","size","small","status","basic",1,"float-right"],["label","Submit"],[1,"step-container"],[1,"table-responsive"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"col-md-6","text-left"],["type","button","nbButton","","size","small",1,"",3,"disabled","click"],["icon","arrow-ios-back-outline"],[1,"col-md-6","text-right"],["nbButton","","size","small","nbSpinnerStatus","primary","nbSpinnerSize","small",3,"disabled","nbSpinner","click"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],[3,"formGroup"],["class","float-right","type","button","nbButton","","size","small","status","danger",3,"click",4,"ngIf"],["formControlName","isCorrect",3,"checked"],["type","text","nbInput","","rows","2","formControlName","answer","fullWidth","",3,"id","name","placeholder","status"],["type","button","nbButton","","size","small","status","danger",1,"float-right",3,"click"],["icon","trash-outline"],[3,"status","icon"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275elementStart"](2,"div",0),l["\u0275\u0275elementStart"](3,"div",1),l["\u0275\u0275elementStart"](4,"h3"),l["\u0275\u0275text"](5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",2),l["\u0275\u0275elementStart"](7,"button",3),l["\u0275\u0275listener"]("click",(function(){return t.back()})),l["\u0275\u0275text"](8," Back "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"nb-card-body"),l["\u0275\u0275elementStart"](10,"div",0),l["\u0275\u0275elementStart"](11,"div",4),l["\u0275\u0275elementStart"](12,"nb-stepper",5,6),l["\u0275\u0275elementStart"](14,"nb-step",7),l["\u0275\u0275elementStart"](15,"form",8),l["\u0275\u0275listener"]("submit",(function(){return t.submitOnlineExamQuestionForm()})),l["\u0275\u0275elementStart"](16,"div",0),l["\u0275\u0275elementStart"](17,"div",9),l["\u0275\u0275elementStart"](18,"nb-card"),l["\u0275\u0275elementStart"](19,"nb-card-header"),l["\u0275\u0275elementStart"](20,"label",10),l["\u0275\u0275text"](21,"Question:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"nb-card-body"),l["\u0275\u0275elementStart"](23,"div",11),l["\u0275\u0275element"](24,"textarea",12),l["\u0275\u0275template"](25,h,2,1,"ng-container",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](26,g,12,9,"div",14),l["\u0275\u0275elementStart"](27,"div",9),l["\u0275\u0275elementStart"](28,"button",15),l["\u0275\u0275listener"]("click",(function(){return t.generateOption()})),l["\u0275\u0275text"](29," Add Option "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"div",4),l["\u0275\u0275template"](31,w,2,1,"ng-container",13),l["\u0275\u0275elementStart"](32,"p"),l["\u0275\u0275elementStart"](33,"strong"),l["\u0275\u0275text"](34,"*For correct answers, Tick the checkbox"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](35,"hr"),l["\u0275\u0275elementStart"](36,"div",0),l["\u0275\u0275elementStart"](37,"div",4),l["\u0275\u0275elementStart"](38,"button",16),l["\u0275\u0275text"](39," Next "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](40,"nb-step",17),l["\u0275\u0275elementStart"](41,"div",18),l["\u0275\u0275elementStart"](42,"div",19),l["\u0275\u0275elementStart"](43,"table",20),l["\u0275\u0275elementStart"](44,"tbody"),l["\u0275\u0275elementStart"](45,"tr"),l["\u0275\u0275elementStart"](46,"th"),l["\u0275\u0275text"](47,"Online Exam Question"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](48,"td"),l["\u0275\u0275text"](49),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](50,Q,8,4,"tr",21),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](51,"hr"),l["\u0275\u0275elementStart"](52,"div",0),l["\u0275\u0275elementStart"](53,"div",22),l["\u0275\u0275elementStart"](54,"button",23),l["\u0275\u0275listener"]("click",(function(){return t.previousStep()})),l["\u0275\u0275element"](55,"nb-icon",24),l["\u0275\u0275elementStart"](56,"span"),l["\u0275\u0275text"](57,"prev"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](58,"div",25),l["\u0275\u0275elementStart"](59,"button",26),l["\u0275\u0275listener"]("click",(function(){return t.saveOnlineExamQuestion()})),l["\u0275\u0275elementStart"](60,"span"),l["\u0275\u0275text"](61,"Submit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate1"]("",t.onlineExam?"Edit":"Add"," Online Exam Question"),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("linear",!0)("disableStepNavigation",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("stepControl",t.onlineExamQuestionForm),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",t.onlineExamQuestionForm),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("status",t.onlineExamQuestionForm.get("question").touched?t.onlineExamQuestionForm.get("question").invalid?"danger":"success":"basic"),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.onlineExamQuestionForm.get("question").invalid&&t.onlineExamQuestionForm.get("question").touched),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.onlineExamQuestionForm.get("answers").controls),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngIf",t.onlineExamQuestionForm.hasError("atLeastOneCorrectAnswerError")&&t.onlineExamQuestionForm.touched),l["\u0275\u0275advance"](18),l["\u0275\u0275textInterpolate"](t.onlineExamQuestionForm.value.question),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.onlineExamQuestionForm.get("answers").controls),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("disabled",t.submit),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("disabled",t.submit)("nbSpinner",t.submit))},directives:[c.y,c.A,c.v,c.x,c.vb,c.ub,a.v,a.n,a.g,c.Q,a.a,a.m,a.e,o.n,o.m,c.N,c.sb,c.D],styles:[""]}),y)},{path:"page-not-found",loadChildren:function(){return i.e(0).then(i.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],F=((O=function t(){e(this,t)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:O}),O.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||O)},imports:[[p.g.forChild(I)],p.g]}),O),C=((k=function t(){e(this,t)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:k}),k.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||k)},imports:[[o.c,F,c.R,c.w,c.B,c.tb,c.wb,c.ob,c.P,c.E,a.s]]}),k)}}])}();
//# sourceMappingURL=11-es5.e9382b71ee6295a662aa.js.map