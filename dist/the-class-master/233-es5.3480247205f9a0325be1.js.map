{"version":3,"sources":["webpack:///src/app/student/branch/course/course-installment/course-installment-receipt/course-installment-receipt.component.html","webpack:///src/app/student/branch/course/course-installment/course-installment-receipt/course-installment-receipt-routing.module.ts","webpack:///src/app/student/branch/course/course-installment/course-installment-receipt/course-installment-receipt.component.ts","webpack:///src/app/student/branch/course/course-installment/course-installment-receipt/course-installment-receipt.module.ts"],"names":["CourseInstallmentReceiptComponent","CourseInstallmentReceiptModule","CourseInstallmentReceiptRoutingModule","routes","path","component","branchService","studentService","toastrService","studentCourseInstallmentReceiptService","router","route","this","loading","branchId","getBranchId","studentCourseInstallmentReceiptId","getStudentCourseInstallmentReceiptId","showToastr","back","getStudentCourseInstallmentReceipt","subscribe","res","studentCourseInstallmentReceipt","instituteBilling","course","gstNumber","courseAmount","amount","feeDetails","gst","gstAmount","toFixed","lateFee","totalAmount","err","navigate","relativeTo","window","print","position","status","message","show","deleteStudentCourseInstallmentReceiptId","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","forChild"],"mappings":"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","file":"x","sourcesContent":["<div class=\"row\">\n  <div class=\"col-sm-10 mx-auto\">\n    <nb-card *ngIf=\"!loading\">\n      <div class=\"row p-4\">\n        <div class=\"col-12\">\n          <h3 class=\"text-center\">{{ instituteBilling.name }}</h3>\n          <h5 class=\"text-center\">{{ instituteBilling.address }}</h5>\n          <h6 *ngIf=\"instituteBilling.gstNumber\">GST Number: {{ instituteBilling.gstNumber }}</h6>\n        </div>\n        <hr />\n        <br />\n        <div class=\"col-12\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th>Description</th>\n                  <th>Amount</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"p-2\">\n                  <td>\n                    {{\n                      studentCourseInstallmentReceipt.description\n                        ? studentCourseInstallmentReceipt.description\n                        : course.basicDetails.courseName\n                    }}\n                  </td>\n                  <td>{{ amount }}/-</td>\n                </tr>\n                <tr class=\"p-2\" *ngIf=\"instituteBilling.gstNumber\">\n                  <td>GST {{ course.feeDetails.gst }}%</td>\n                  <td>{{ gstAmount }}/-</td>\n                </tr>\n                <tr class=\"p-2\" *ngIf=\"studentCourseInstallmentReceipt.lateFee > 0\">\n                  <td>Late Fee</td>\n                  <td>{{ lateFee }}/-</td>\n                </tr>\n                <tr class=\"p-2\">\n                  <td><strong>Total</strong></td>\n                  <td>{{ totalAmount }}/-</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <div class=\"col-12\">\n            <p>\n              Total Amount in Words:\n              <strong>{{ studentCourseInstallmentReceipt.totalAmountInWords }} Only/-</strong>\n            </p>\n          </div>\n          <br /><br />\n          <div class=\"col-12\" *ngIf=\"instituteBilling.termsAndConditions\">\n            <p>\n              <strong>*Terms & Conditions: </strong><br />\n              <small>{{ instituteBilling.termsAndConditions }}</small>\n            </p>\n          </div>\n\n          <hr />\n          <div class=\"col-12\">\n            <p class=\"text-center pt-5 pb-5\">\n              <small>\n                <strong>\n                  <span\n                    >This is Computer Generated receipt, Does not Required any Stamp or\n                    Signature</span\n                  >\n                </strong>\n              </small>\n            </p>\n          </div>\n          <div class=\"col-12\">\n            <button\n              type=\"button\"\n              (click)=\"print()\"\n              class=\"float-right\"\n              nbButton\n              size=\"small\"\n              status=\"success\"\n            >\n              <nb-icon nbTooltip=\"Print\" icon=\"printer-outline\"></nb-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nb-card>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CourseInstallmentReceiptComponent } from './course-installment-receipt.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CourseInstallmentReceiptComponent,\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CourseInstallmentReceiptRoutingModule {}\n","import { CourseModel } from './../../../../../models/course.model';\nimport { NbToastrService } from '@nebular/theme';\nimport { StudentCourseInstallmentReceiptService } from './../../../../../services/student-course-installment-receipt.service';\nimport { InstituteBillingModel } from './../../../../../models/institute-billing.model';\nimport { StudentCourseInstallmentReceiptModel } from './../../../../../models/student-course-installment-receipt.model';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { BranchService } from './../../../../../services/branch.service';\nimport { StudentService } from './../../../../../services/student.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'ngx-course-installment-receipt',\n  templateUrl: './course-installment-receipt.component.html',\n  styleUrls: ['./course-installment-receipt.component.scss'],\n})\nexport class CourseInstallmentReceiptComponent implements OnInit, OnDestroy {\n  private branchId: string;\n  private studentCourseInstallmentReceiptId: string;\n  studentCourseInstallmentReceipt: StudentCourseInstallmentReceiptModel;\n  instituteBilling: InstituteBillingModel;\n  course: CourseModel;\n  loading: boolean;\n\n  amount: string;\n  gstAmount: string;\n  lateFee: string;\n  totalAmount: string;\n\n  constructor(\n    private branchService: BranchService,\n    private studentService: StudentService,\n    public toastrService: NbToastrService,\n    private studentCourseInstallmentReceiptService: StudentCourseInstallmentReceiptService,\n    private router: Router,\n    private route: ActivatedRoute,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = true;\n    this.branchId = this.branchService.getBranchId();\n    // tslint:disable-next-line: max-line-length\n    this.studentCourseInstallmentReceiptId = this.studentCourseInstallmentReceiptService.getStudentCourseInstallmentReceiptId();\n\n    if (!this.branchId || !this.studentCourseInstallmentReceiptId) {\n      this.showToastr('top-right', 'danger', 'Invalid Receipt');\n      this.back();\n      return;\n    }\n\n    this.studentCourseInstallmentReceiptService\n      .getStudentCourseInstallmentReceipt(this.studentCourseInstallmentReceiptId)\n      .subscribe(\n        (res: {\n          studentCourseInstallmentReceipt: StudentCourseInstallmentReceiptModel;\n          instituteBilling: InstituteBillingModel;\n          course: CourseModel;\n        }) => {\n          this.studentCourseInstallmentReceipt = res.studentCourseInstallmentReceipt;\n          this.instituteBilling = res.instituteBilling;\n          this.course = res.course;\n\n          if (!res.instituteBilling.gstNumber) {\n            this.amount = res.studentCourseInstallmentReceipt.amount.toFixed(2);\n          } else {\n            const courseAmount = +res.studentCourseInstallmentReceipt.amount;\n            const gstPercentage = +res.course.feeDetails.gst;\n\n            const amount = courseAmount / (1 + gstPercentage / 100);\n            const gstAmount = courseAmount - amount;\n\n            this.gstAmount = gstAmount.toFixed(2);\n            this.amount = amount.toFixed(2);\n          }\n          this.lateFee = res.studentCourseInstallmentReceipt.lateFee.toFixed(2);\n          this.totalAmount = res.studentCourseInstallmentReceipt.totalAmount.toFixed(2);\n\n          this.loading = false;\n        },\n        (err: any) => {\n          this.showToastr('top-right', 'danger', err);\n          this.back();\n\n          return;\n        },\n      );\n  }\n\n  back() {\n    this.router.navigate(['../'], { relativeTo: this.route });\n  }\n\n  print() {\n    window.print();\n  }\n\n  private showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n\n  ngOnDestroy() {\n    this.studentCourseInstallmentReceiptService.deleteStudentCourseInstallmentReceiptId();\n  }\n}\n","import { NbCardModule, NbButtonModule, NbIconModule, NbTooltipModule } from '@nebular/theme';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CourseInstallmentReceiptRoutingModule } from './course-installment-receipt-routing.module';\nimport { CourseInstallmentReceiptComponent } from './course-installment-receipt.component';\n\n@NgModule({\n  declarations: [CourseInstallmentReceiptComponent],\n  imports: [\n    CommonModule,\n    CourseInstallmentReceiptRoutingModule,\n\n    NbCardModule,\n    NbButtonModule,\n    NbIconModule,\n    NbTooltipModule,\n  ],\n})\nexport class CourseInstallmentReceiptModule {}\n"]}