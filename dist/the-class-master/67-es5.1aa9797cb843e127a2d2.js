!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"uk+c":function(t,r,o){"use strict";o.r(r),o.d(r,"RegisterModule",(function(){return G}));var a,i=o("PCNd"),l=o("ofXK"),s=o("fXoL"),m=o("aceb"),d=o("fRyE"),c=((a=function(){function t(n){e(this,t),this.ref=n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.ref.close(!1)}},{key:"agree",value:function(){this.ref.close(!0)}}]),t}()).\u0275fac=function(e){return new(e||a)(s["\u0275\u0275directiveInject"](m.J))},a.\u0275cmp=s["\u0275\u0275defineComponent"]({type:a,selectors:[["ngx-terms-and-conditions"]],decls:10,vars:0,consts:[[1,"terms-and-conditions-box"],[1,"row"],[1,"col-12"],["type","button","nbButton","","size","small","status","success",1,"float-right","ml-3",3,"click"],["type","button","nbButton","","size","small","status","basic",1,"float-right","ml-3",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275element"](2,"ngx-terms-conditions"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-card-footer"),s["\u0275\u0275elementStart"](4,"div",1),s["\u0275\u0275elementStart"](5,"div",2),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.agree()})),s["\u0275\u0275text"](7," Agree "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"button",4),s["\u0275\u0275listener"]("click",(function(){return t.close()})),s["\u0275\u0275text"](9," Disagree "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},directives:[m.y,m.x,d.a,m.z,m.v],styles:[".terms-and-conditions-box[_ngcontent-%COMP%]{width:60vw;height:75vh;overflow:auto}@media only screen and (max-width:1200px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:65vw;height:80vh}}@media only screen and (max-width:840px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:70vw;height:85vh}}@media only screen and (max-width:420px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:90vw;height:90vh}}@media only screen and (max-width:300px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:95vw;height:95vh}}"]}),a),u=o("3Pt+"),p=o("AytR"),f=o("nwtg"),h=o("3b5Z"),g=o("tyNb"),v=o("5hth"),w=o("fvxu");function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Full name is required! "),s["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Full name should contains minimum 5 "),s["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,b,2,0,"p",26),s["\u0275\u0275template"](2,x,2,0,"p",26),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.minlength)}}function S(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Email is required! "),s["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Email should be the real one! "),s["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Email Already registered, Please try another Email! "),s["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,S,2,0,"p",26),s["\u0275\u0275template"](2,E,2,0,"p",26),s["\u0275\u0275template"](3,C,2,0,"p",26),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("email").errors?null:n.form.get("email").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("email").errors?null:n.form.get("email").errors.email),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.userExist)}}function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Phone is required! "),s["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Phone should contain 10 digits "),s["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,I,2,0,"p",26),s["\u0275\u0275template"](2,k,2,0,"p",26),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("phone").errors?null:n.form.get("phone").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(null==n.form.get("phone").errors?null:n.form.get("phone").errors.pattern)||(null==n.form.get("phone").errors?null:n.form.get("phone").errors.minlength))}}function q(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Password is required! "),s["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Password should contain minimum 7 characters "),s["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,q,2,0,"p",26),s["\u0275\u0275template"](2,T,2,0,"p",26),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("password").errors?null:n.form.get("password").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("password").errors?null:n.form.get("password").errors.minlength)}}function j(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Password confirmation is required! "),s["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," Password does not match the confirm password. "),s["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,j,2,0,"p",26),s["\u0275\u0275template"](2,M,2,0,"p",26),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("confirmPassword").errors?null:n.form.get("confirmPassword").errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.form.get("password").value!=n.form.get("confirmPassword").value&&!(null!=n.form.get("confirmPassword").errors&&n.form.get("confirmPassword").errors.required))}}function N(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",28),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"uppercase"),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](2,2,n))}}function L(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",27),s["\u0275\u0275text"](1," User Role is required! "),s["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,L,2,0,"p",26),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.form.get("userRole").errors?null:n.form.get("userRole").errors.required)}}var F,U,W,B=[{path:"",component:(F=function(){function t(n,r,o,a,i,l,s,m){e(this,t),this.authService=n,this.roleService=r,this.toastrService=o,this.router=a,this.route=i,this.encryptService=l,this.userService=s,this.dialogService=m}return n(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.submit=!1,this.roles=this.roleService.getUserRoles(),this.userExist=!1,this.form=new u.f({name:new u.d(null,{validators:[u.u.required,u.u.minLength(5),u.u.maxLength(30)]}),email:new u.d(null,{validators:[u.u.required,u.u.email]}),phone:new u.d(null,{validators:[u.u.required,u.u.minLength(10),u.u.maxLength(10)]}),password:new u.d(null,{validators:[u.u.required,u.u.minLength(7),u.u.maxLength(20)]}),confirmPassword:new u.d(null,{validators:[u.u.required,u.u.minLength(7),u.u.maxLength(20)]}),userRole:new u.d(this.roles[0],{validators:[u.u.required]})},{validators:this.passwordValidator.bind(this)}),this.loading=!1}},{key:"passwordValidator",value:function(e){return e.value.password!==e.value.confirmPassword?{invalidConfirmPassword:!0}:null}},{key:"openTermsAndConditions",value:function(){var e=this;this.dialogService.open(c,{closeOnEsc:!0,hasScroll:!1}).onClose.subscribe((function(t){e.termsConditions=t}))}},{key:"checkUser",value:function(){var e=this;this.form.get("email").valid&&this.userService.checkUser(this.form.value.email).subscribe((function(t){e.userExist=t.exist}),(function(e){}))}},{key:"acceptTermsConditions",value:function(e){this.termsConditions=e}},{key:"register",value:function(){var e=this;if(this.form.markAllAsTouched(),this.form.valid)if(this.userExist)this.showToastr("top-right","danger","This user Already exist, Please try another Email");else{if(!this.termsConditions)return this.showToastr("top-right","warning","Accept Terms & Conditions"),void this.openTermsAndConditions();this.submit=!0;var t={name:this.form.value.name.toLowerCase(),userRole:this.form.value.userRole,email:this.form.value.email,phone:this.form.value.phone,password:this.encryptService.encrypt(this.form.value.password,p.a.encKey)};this.authService.createUser(t).subscribe((function(t){e.showToastr("top-right","success","New User Created Successfully"),e.router.navigate(["/login"],{relativeTo:e.route})}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}else this.showToastr("top-right","danger","All Fields are required")}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}]),t}(),F.\u0275fac=function(e){return new(e||F)(s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](m.Gb),s["\u0275\u0275directiveInject"](g.c),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](w.a),s["\u0275\u0275directiveInject"](m.K))},F.\u0275cmp=s["\u0275\u0275defineComponent"]({type:F,selectors:[["ngx-register"]],decls:54,vars:16,consts:[[1,"main-container"],[1,"row"],[1,"col-md-6","col-sm-10","col-12","mx-auto"],["id","title",1,"title"],[3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["type","text","nbInput","","id","input-name","name","fullName","placeholder","Full name","formControlName","name","minlength","5","maxlength","30","autofocus","","fullWidth","",3,"status"],[4,"ngIf"],["for","input-email",1,"label"],["type","email","nbInput","","id","input-email","name","email","formControlName","email","placeholder","Email address","fullWidth","",3,"status","input"],["for","input-phone",1,"label"],["type","number","nbInput","","id","input-phone","name","phone","formControlName","phone","placeholder","phone","minlength","10","maxlength","10","min","0","fullWidth","",3,"status"],["for","input-password",1,"label"],["type","password","nbInput","","id","input-password","name","password","formControlName","password","placeholder","Password","minlength","7","maxlength","20","fullWidth","",3,"status"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","formControlName","confirmPassword","placeholder","Confirm Password","minlength","5","maxlength","30","fullWidth","",3,"status"],["for","input-role",1,"label"],["type","text","selected","institute","id","input-role","name","userRole","placeholder","Select User Role","formControlName","userRole","fullWidth","",3,"status"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control-group","accept-group"],["name","terms",3,"checked","checkedChange"],[1,"pointer",3,"click"],["nbButton","","size","medium","fullWidth","","status","primary",3,"disabled"],["aria-label","Sign in",1,"another-action","text-right"],["routerLink","/login",1,"text-link"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"nb-card"),s["\u0275\u0275elementStart"](4,"nb-card-body"),s["\u0275\u0275elementStart"](5,"h1",3),s["\u0275\u0275text"](6,"Register"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.register()})),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275elementStart"](9,"label",6),s["\u0275\u0275text"](10,"Full name:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](11,"input",7),s["\u0275\u0275template"](12,y,3,2,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",5),s["\u0275\u0275elementStart"](14,"label",9),s["\u0275\u0275text"](15,"Email address:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"input",10),s["\u0275\u0275listener"]("input",(function(){return t.checkUser()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,P,4,3,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",5),s["\u0275\u0275elementStart"](19,"label",11),s["\u0275\u0275text"](20,"Phone:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](21,"input",12),s["\u0275\u0275template"](22,R,3,2,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275elementStart"](24,"label",13),s["\u0275\u0275text"](25,"Password:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](26,"input",14),s["\u0275\u0275template"](27,O,3,2,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",5),s["\u0275\u0275elementStart"](29,"label",15),s["\u0275\u0275text"](30,"Repeat password:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](31,"input",16),s["\u0275\u0275template"](32,A,3,2,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",5),s["\u0275\u0275elementStart"](34,"label",17),s["\u0275\u0275text"](35,"User Role:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"nb-select",18),s["\u0275\u0275template"](37,N,3,4,"nb-option",19),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](38,_,2,1,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](39,"br"),s["\u0275\u0275elementStart"](40,"div",20),s["\u0275\u0275elementStart"](41,"nb-checkbox",21),s["\u0275\u0275listener"]("checkedChange",(function(e){return t.acceptTermsConditions(e)})),s["\u0275\u0275text"](42," Agree to "),s["\u0275\u0275elementStart"](43,"a",22),s["\u0275\u0275listener"]("click",(function(){return t.openTermsAndConditions()})),s["\u0275\u0275elementStart"](44,"strong"),s["\u0275\u0275text"](45,"Terms & Conditions"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](46,"br"),s["\u0275\u0275elementStart"](47,"button",23),s["\u0275\u0275text"](48," Register "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](49,"br"),s["\u0275\u0275elementStart"](50,"section",24),s["\u0275\u0275text"](51," Already have an account? "),s["\u0275\u0275elementStart"](52,"a",25),s["\u0275\u0275text"](53,"Log in"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("formGroup",t.form),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("status",t.form.get("name").touched?t.form.get("name").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.form.get("name").invalid&&t.form.get("name").touched),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("status",t.form.get("email").touched?t.form.get("email").invalid||t.userExist?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(t.form.get("email").invalid||t.userExist)&&t.form.get("email").touched),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("status",t.form.get("phone").touched?t.form.get("phone").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.form.get("phone").invalid&&t.form.get("phone").touched),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("status",t.form.get("password").touched?t.form.get("password").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.form.get("password").invalid&&t.form.get("password").touched),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("status",t.form.get("confirmPassword").touched?t.form.get("confirmPassword").invalid||t.form.get("password").value!=t.form.get("confirmPassword").value?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.form.get("confirmPassword").invalid&&t.form.get("confirmPassword").touched),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("status",t.form.get("userRole").touched?t.form.get("userRole").invalid?"danger":"success":"basic"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.roles),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.form.get("userRole").invalid&&t.form.get("userRole").touched),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("checked",t.termsConditions),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("disabled",t.submit))},directives:[m.y,m.x,u.v,u.n,u.g,m.Q,u.a,u.m,u.e,u.j,u.i,l.n,u.q,m.nb,l.m,m.D,m.v,g.f,m.gb],pipes:[l.w],styles:["",".main-container[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}@media only screen and (max-width:1200px){.main-container[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}}@media only screen and (max-width:840px){.main-container[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}}@media only screen and (max-width:420px){.main-container[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}}@media only screen and (max-width:300px){.main-container[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}}"]}),F),canActivate:[]},{path:"page-not-found",loadChildren:function(){return o.e(0).then(o.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],z=((U=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:U}),U.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||U)},imports:[[g.g.forChild(B)],g.g]}),U),D=o("vTDv"),G=((W=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:W}),W.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||W)},imports:[[l.c,z,u.h,u.s,D.a,m.B,m.w,m.P,m.w,m.n,m.R,m.E,m.p,m.ob,i.a]]}),W)}}])}();
//# sourceMappingURL=67-es5.1aa9797cb843e127a2d2.js.map