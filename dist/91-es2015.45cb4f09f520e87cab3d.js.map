{"version":3,"sources":["webpack:///src/app/employee/branch/exam/online-test/online-test-question/manage-online-test-questions/manage-online-test-questions.component.html","webpack:///src/app/employee/branch/exam/online-test/online-test-question/manage-online-test-questions/manage-online-test-questions-routing.module.ts","webpack:///src/app/employee/branch/exam/online-test/online-test-question/manage-online-test-questions/manage-online-test-questions.component.ts","webpack:///src/app/employee/branch/exam/online-test/online-test-question/manage-online-test-questions/manage-online-test-questions.module.ts"],"names":["routes","path","component","ManageOnlineTestQuestionsComponent","branchService","toastrService","onlineExamService","onlineExamQuestionService","router","route","this","loading","branchId","getBranchId","onlineExamQuestions","getOnlineExamData","subscribe","onlineExam","getOnlineExamQuestions","_id","error","showToastr","back","navigate","relativeTo","onlineExamQuestion","setOnlineExamQuestionId","setOnlineExamQuestionData","queryParams","mode","id","status","i","changeOnlineExamQuestionStatus","res","deleteOnlineExamQuestion","splice","position","message","show","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","ManageOnlineTestQuestionsRoutingModule","forChild","ManageOnlineTestQuestionsModule"],"mappings":"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","file":"x","sourcesContent":["<nb-card>\r\n  <nb-card-header>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <button class=\"float-right\" nbButton size=\"small\" status=\"warning\" (click)=\"back()\">\r\n          Back\r\n        </button>\r\n        <h3>Online Exam Questions</h3>\r\n      </div>\r\n    </div>\r\n  </nb-card-header>\r\n</nb-card>\r\n\r\n<nb-card>\r\n  <nb-card-header>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-9 col-sm-8\">\r\n        <h5>\r\n          Add {{ onlineExam.totalQuestions - onlineExamQuestions.length }} more Questions\r\n          <small>of {{ onlineExam.totalQuestions }}</small>\r\n        </h5>\r\n      </div>\r\n      <div class=\"col-md-3 col-sm-4\">\r\n        <button\r\n          nbButton\r\n          size=\"small\"\r\n          fullWidth\r\n          status=\"primary\"\r\n          (click)=\"addOnlineExamQuestion()\"\r\n          *ngIf=\"onlineExamQuestions.length <= onlineExam.totalQuestions\"\r\n        >\r\n          Add Question <nb-icon icon=\"plus-circle-outline\"></nb-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </nb-card-header>\r\n  <nb-card-body class=\"body-container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <ng-container *ngIf=\"!loading; else loadingData\">\r\n          <div class=\"table-responsive\" *ngIf=\"onlineExamQuestions.length > 0; else noBatches\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>#</th>\r\n                  <th>Question</th>\r\n                  <th colspan=\"2\">Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let question of onlineExamQuestions; let i = index\">\r\n                  <td>{{ i + 1 }}</td>\r\n                  <td>\r\n                    <span>{{\r\n                      question.question.substring(0, 15) +\r\n                        (question.question.length > 15 ? '..' : '')\r\n                    }}</span>\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      nbButton\r\n                      size=\"small\"\r\n                      status=\"primary\"\r\n                      (click)=\"editOnlineExamQuestion(question)\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </td>\r\n                  <!-- <td>\r\n                    <button\r\n                      nbButton size=\"small\"  \r\n                      [status]=\"question.status ? 'success' : 'danger'\"\r\n                      \r\n                      (click)=\"changeOnlineExamQuestionStatus(question._id, !question.status, i)\"\r\n                    >\r\n                      {{ question.status ? 'Inactive' : 'Active' }}\r\n                    </button>\r\n                  </td> -->\r\n                  <td>\r\n                    <button\r\n                      nbButton\r\n                      size=\"small\"\r\n                      status=\"danger\"\r\n                      (click)=\"deleteOnlineExamQuestion(question._id, i)\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <ng-template #noBatches>\r\n            <p class=\"text-center pt-5 pb-5\">No Online Exams Available</p>\r\n          </ng-template>\r\n        </ng-container>\r\n        <ng-template #loadingData>\r\n          <p class=\"text-center pt-5 pb-5\">Loading...</p>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  </nb-card-body>\r\n</nb-card>\r\n","import { ManageOnlineTestQuestionsComponent } from './manage-online-test-questions.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: ManageOnlineTestQuestionsComponent },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageOnlineTestQuestionsRoutingModule {}\n","import { OnlineExamQuestionService } from './../../../../../../services/online-exam-question.service';\nimport { NbToastrService } from '@nebular/theme';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { OnlineExamService } from './../../../../../../services/online-exam.service';\nimport { OnlineExamQuestionModel } from './../../../../../../models/online-exam-question.model';\nimport { OnlineExamModel } from './../../../../../../models/online-exam.model';\nimport { BranchService } from './../../../../../../services/branch.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'ngx-manage-online-test-questions',\n  templateUrl: './manage-online-test-questions.component.html',\n  styleUrls: ['./manage-online-test-questions.component.scss'],\n})\nexport class ManageOnlineTestQuestionsComponent implements OnInit, OnDestroy {\n  loading: boolean;\n  branchId: string;\n\n  onlineExam: OnlineExamModel;\n  onlineExamQuestions: OnlineExamQuestionModel[];\n\n  constructor(\n    private branchService: BranchService,\n    private toastrService: NbToastrService,\n    private onlineExamService: OnlineExamService,\n    private onlineExamQuestionService: OnlineExamQuestionService,\n    private router: Router,\n    private route: ActivatedRoute,\n  ) {}\n\n  ngOnInit() {\n    this.loading = true;\n\n    this.branchId = this.branchService.getBranchId();\n    if (!this.branchId) {\n      this.router.navigate(['../'], { relativeTo: this.route });\n      return;\n    }\n\n    this.onlineExamQuestions = [];\n\n    this.onlineExamService.getOnlineExamData().subscribe((onlineExam: OnlineExamModel) => {\n      this.onlineExam = onlineExam;\n\n      if (!onlineExam) {\n        this.back();\n        return;\n      }\n\n      this.onlineExamQuestionService.getOnlineExamQuestions(onlineExam._id).subscribe(\n        (onlineExamQuestions: OnlineExamQuestionModel[]) => {\n          this.onlineExamQuestions = onlineExamQuestions;\n          this.loading = false;\n        },\n        (error: any) => {\n          this.showToastr('top-right', 'danger', error);\n\n          this.loading = false;\n        },\n      );\n    });\n  }\n\n  addOnlineExamQuestion() {\n    this.router.navigate(['../add'], { relativeTo: this.route });\n  }\n\n  editOnlineExamQuestion(onlineExamQuestion: OnlineExamQuestionModel) {\n    this.onlineExamQuestionService.setOnlineExamQuestionId(onlineExamQuestion._id);\n    this.onlineExamQuestionService.setOnlineExamQuestionData(onlineExamQuestion);\n    this.router.navigate(['../edit'], { relativeTo: this.route, queryParams: { mode: 'edit' } });\n  }\n\n  changeOnlineExamQuestionStatus(id: string, status: boolean, i: number) {\n    this.loading = true;\n    this.onlineExamQuestionService.changeOnlineExamQuestionStatus(id, status).subscribe(\n      (res: any) => {\n        this.onlineExamQuestions[i].status = status;\n        this.loading = false;\n      },\n      (error: any) => {\n        this.showToastr('top-right', 'danger', error);\n        this.loading = false;\n      },\n    );\n  }\n\n  deleteOnlineExamQuestion(id: string, i: number) {\n    this.loading = true;\n    this.onlineExamQuestionService.deleteOnlineExamQuestion(id).subscribe(\n      (res: any) => {\n        this.onlineExamQuestions.splice(i, 1);\n        this.loading = false;\n      },\n      (error: any) => {\n        this.showToastr('top-right', 'danger', error);\n        this.loading = false;\n      },\n    );\n  }\n\n  private showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n\n  back() {\n    this.router.navigate(['../../manage'], { relativeTo: this.route });\n  }\n\n  ngOnDestroy() {}\n}\n","import { NbCardModule, NbSelectModule, NbButtonModule, NbIconModule } from '@nebular/theme';\nimport { ManageOnlineTestQuestionsComponent } from './manage-online-test-questions.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ManageOnlineTestQuestionsRoutingModule } from './manage-online-test-questions-routing.module';\n\n@NgModule({\n  declarations: [ManageOnlineTestQuestionsComponent],\n  imports: [\n    CommonModule,\n    ManageOnlineTestQuestionsRoutingModule,\n    NbCardModule,\n    NbSelectModule,\n    NbButtonModule,\n    NbIconModule,\n  ],\n})\nexport class ManageOnlineTestQuestionsModule {}\n"]}