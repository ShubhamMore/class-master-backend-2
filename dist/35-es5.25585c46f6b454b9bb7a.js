!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"1TA9":function(n,a,l){"use strict";l.r(a),l.d(a,"CollectStudentCourseInstallmentModule",(function(){return X}));var r=l("3Pt+"),o=l("aceb"),i=l("ofXK"),s=l("tyNb"),m=l("lJxs"),u=l("fXoL"),d=l("ZatZ"),c=l("EQut"),p=l("JmRu"),I=l("IAlr"),v=l("qsE9"),g=l("emOf"),h=["stepper"];function b(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Generated By is required! "),u["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,b,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("generatedBy").errors?null:n.courseInstallmentReceiptForm.get("generatedBy").errors.required)}}function f(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Installment Date is required! "),u["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,f,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("date").errors?null:n.courseInstallmentReceiptForm.get("date").errors.required)}}function R(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Installment Amount is required! "),u["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Minimum Installment Amount should be 0 "),u["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,R,2,0,"p",52),u["\u0275\u0275template"](2,E,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("amount").errors?null:n.courseInstallmentReceiptForm.get("amount").errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("amount").errors?null:n.courseInstallmentReceiptForm.get("amount").errors.min)}}function F(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Minimum late fee Amount should be 0. "),u["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,F,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("lateFee").errors?null:n.courseInstallmentReceiptForm.get("lateFee").errors.min)}}function D(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Total Amount is Required! "),u["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Minimum late fee Amount should be 0. "),u["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,D,2,0,"p",52),u["\u0275\u0275template"](2,w,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("totalAmount").errors?null:n.courseInstallmentReceiptForm.get("totalAmount").errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("totalAmount").errors?null:n.courseInstallmentReceiptForm.get("totalAmount").errors.min)}}function A(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Pending Amount is Required! "),u["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Minimum Pending Amount should be 0. "),u["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,A,2,0,"p",52),u["\u0275\u0275template"](2,B,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("amountDue").errors?null:n.courseInstallmentReceiptForm.get("amountDue").errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("amountDue").errors?null:n.courseInstallmentReceiptForm.get("amountDue").errors.min)}}function M(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Payment date is required! "),u["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,M,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("paymentDate").errors?null:n.courseInstallmentReceiptForm.get("paymentDate").errors.required)}}function N(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Payment Mode is required! "),u["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,N,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("paymentMode").errors?null:n.courseInstallmentReceiptForm.get("paymentMode").errors.required)}}function j(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Bank Details are required! "),u["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,j,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("bankDetails").errors?null:n.courseInstallmentReceiptForm.get("bankDetails").errors.required)}}function W(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",53),u["\u0275\u0275text"](1," Transaction Details are required! "),u["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,W,2,0,"p",52),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.courseInstallmentReceiptForm.get("transactionDetails").errors?null:n.courseInstallmentReceiptForm.get("transactionDetails").errors.required)}}function O(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"nb-card"),u["\u0275\u0275elementStart"](1,"nb-card-header"),u["\u0275\u0275elementStart"](2,"button",1),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().back()})),u["\u0275\u0275text"](3," Back "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"h3",2),u["\u0275\u0275text"](5,"Collect Installment"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"nb-card-body"),u["\u0275\u0275elementStart"](7,"nb-stepper",3,4),u["\u0275\u0275elementStart"](9,"nb-step",5),u["\u0275\u0275elementStart"](10,"form",6),u["\u0275\u0275listener"]("submit",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().courseInstallmentReceiptFormSubmit()})),u["\u0275\u0275elementStart"](11,"div",7),u["\u0275\u0275elementStart"](12,"div",8),u["\u0275\u0275elementStart"](13,"div",9),u["\u0275\u0275elementStart"](14,"label",10),u["\u0275\u0275text"](15,"Generated By:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](16,"input",11),u["\u0275\u0275template"](17,S,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",8),u["\u0275\u0275elementStart"](19,"div",9),u["\u0275\u0275elementStart"](20,"label",12),u["\u0275\u0275text"](21,"Installment Date:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](22,"input",13),u["\u0275\u0275template"](23,y,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"div",14),u["\u0275\u0275elementStart"](25,"div",9),u["\u0275\u0275elementStart"](26,"label",15),u["\u0275\u0275text"](27,"Installment Amount:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](28,"input",16),u["\u0275\u0275template"](29,x,3,2,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"div",14),u["\u0275\u0275elementStart"](31,"div",9),u["\u0275\u0275elementStart"](32,"label",17),u["\u0275\u0275text"](33,"Late Fee:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](34,"input",18),u["\u0275\u0275listener"]("input",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().calculateTotalAmount()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](35,C,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"div",14),u["\u0275\u0275elementStart"](37,"div",9),u["\u0275\u0275elementStart"](38,"label",19),u["\u0275\u0275text"](39,"Total Fee:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](40,"input",20),u["\u0275\u0275template"](41,k,3,2,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"div",14),u["\u0275\u0275elementStart"](43,"div",9),u["\u0275\u0275elementStart"](44,"label",21),u["\u0275\u0275text"](45,"Pending Amount:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](46,"input",22),u["\u0275\u0275template"](47,q,3,2,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"div",14),u["\u0275\u0275elementStart"](49,"div",9),u["\u0275\u0275elementStart"](50,"label",23),u["\u0275\u0275text"](51,"Payment Date:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](52,"input",24),u["\u0275\u0275template"](53,T,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"div",14),u["\u0275\u0275elementStart"](55,"div",9),u["\u0275\u0275elementStart"](56,"label",25),u["\u0275\u0275text"](57,"Payment Mode:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"nb-select",26),u["\u0275\u0275elementStart"](59,"nb-option",27),u["\u0275\u0275text"](60,"Select Payment Mode"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](61,"nb-option",28),u["\u0275\u0275text"](62,"Cash"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](63,"nb-option",29),u["\u0275\u0275text"](64,"Card"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](65,"nb-option",30),u["\u0275\u0275text"](66,"Waller"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"nb-option",31),u["\u0275\u0275text"](68,"Online"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"nb-option",32),u["\u0275\u0275text"](70,"Other"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](71,P,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](72,"div",8),u["\u0275\u0275elementStart"](73,"div",9),u["\u0275\u0275elementStart"](74,"label",33),u["\u0275\u0275text"](75,"Bank Details:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](76,"input",34),u["\u0275\u0275template"](77,V,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](78,"div",8),u["\u0275\u0275elementStart"](79,"div",9),u["\u0275\u0275elementStart"](80,"label",35),u["\u0275\u0275text"](81,"Transaction Details:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](82,"input",36),u["\u0275\u0275template"](83,G,2,1,"ng-container",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](84,"div",37),u["\u0275\u0275elementStart"](85,"div",9),u["\u0275\u0275elementStart"](86,"label",38),u["\u0275\u0275text"](87,"Description:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](88,"textarea",39),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](89,"hr"),u["\u0275\u0275elementStart"](90,"div",7),u["\u0275\u0275elementStart"](91,"div",40),u["\u0275\u0275elementStart"](92,"button",41),u["\u0275\u0275elementStart"](93,"span"),u["\u0275\u0275text"](94,"Next"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](95,"nb-icon",42),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](96,"nb-step",43),u["\u0275\u0275elementStart"](97,"div",44),u["\u0275\u0275elementStart"](98,"div",45),u["\u0275\u0275elementStart"](99,"table",46),u["\u0275\u0275elementStart"](100,"tbody"),u["\u0275\u0275elementStart"](101,"tr"),u["\u0275\u0275elementStart"](102,"th"),u["\u0275\u0275text"](103,"Course"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"td"),u["\u0275\u0275text"](105),u["\u0275\u0275pipe"](106,"async"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](107,"tr"),u["\u0275\u0275elementStart"](108,"th"),u["\u0275\u0275text"](109,"Generated By"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](110,"td"),u["\u0275\u0275text"](111),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](112,"tr"),u["\u0275\u0275elementStart"](113,"th"),u["\u0275\u0275text"](114,"Installment Date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](115,"td"),u["\u0275\u0275text"](116),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](117,"tr"),u["\u0275\u0275elementStart"](118,"th"),u["\u0275\u0275text"](119,"Installment Amount"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](120,"td"),u["\u0275\u0275text"](121),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](122,"tr"),u["\u0275\u0275elementStart"](123,"th"),u["\u0275\u0275text"](124,"Late Fee"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](125,"td"),u["\u0275\u0275text"](126),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](127,"tr"),u["\u0275\u0275elementStart"](128,"th"),u["\u0275\u0275text"](129,"Total Amount"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](130,"td"),u["\u0275\u0275text"](131),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](132,"tr"),u["\u0275\u0275elementStart"](133,"th"),u["\u0275\u0275text"](134,"Payment Date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](135,"td"),u["\u0275\u0275text"](136),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](137,"tr"),u["\u0275\u0275elementStart"](138,"th"),u["\u0275\u0275text"](139,"Payment Mode"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](140,"td"),u["\u0275\u0275text"](141),u["\u0275\u0275pipe"](142,"uppercase"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](143,"tr"),u["\u0275\u0275elementStart"](144,"th"),u["\u0275\u0275text"](145,"Bank Details"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](146,"td"),u["\u0275\u0275text"](147),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](148,"tr"),u["\u0275\u0275elementStart"](149,"th"),u["\u0275\u0275text"](150,"Transaction Details"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](151,"td"),u["\u0275\u0275text"](152),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](153,"tr"),u["\u0275\u0275elementStart"](154,"th"),u["\u0275\u0275text"](155,"description"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](156,"td"),u["\u0275\u0275text"](157),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](158,"tr"),u["\u0275\u0275elementStart"](159,"th"),u["\u0275\u0275text"](160,"Pending Amount"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](161,"td"),u["\u0275\u0275text"](162),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](163,"hr"),u["\u0275\u0275elementStart"](164,"div",7),u["\u0275\u0275elementStart"](165,"div",47),u["\u0275\u0275elementStart"](166,"button",48),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().previousStep()})),u["\u0275\u0275element"](167,"nb-icon",49),u["\u0275\u0275elementStart"](168,"span"),u["\u0275\u0275text"](169,"prev"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](170,"div",50),u["\u0275\u0275elementStart"](171,"button",51),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().saveCourseInstallmentReceipt()})),u["\u0275\u0275elementStart"](172,"span"),u["\u0275\u0275text"](173,"Submit"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("linear",!0)("disableStepNavigation",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("stepControl",a.courseInstallmentReceiptForm),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("formGroup",a.courseInstallmentReceiptForm),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("generatedBy").touched?a.courseInstallmentReceiptForm.get("generatedBy").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("generatedBy").invalid&&a.courseInstallmentReceiptForm.get("generatedBy").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("date").touched?a.courseInstallmentReceiptForm.get("date").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("date").invalid&&a.courseInstallmentReceiptForm.get("date").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("amount").touched?a.courseInstallmentReceiptForm.get("amount").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("amount").invalid&&a.courseInstallmentReceiptForm.get("amount").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("lateFee").touched?a.courseInstallmentReceiptForm.get("lateFee").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("lateFee").invalid&&a.courseInstallmentReceiptForm.get("lateFee").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("totalAmount").touched?a.courseInstallmentReceiptForm.get("totalAmount").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("totalAmount").invalid&&a.courseInstallmentReceiptForm.get("totalAmount").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("amountDue").touched?a.courseInstallmentReceiptForm.get("amountDue").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("amountDue").invalid&&a.courseInstallmentReceiptForm.get("amountDue").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("paymentDate").touched?a.courseInstallmentReceiptForm.get("paymentDate").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("paymentDate").touched&&a.courseInstallmentReceiptForm.get("paymentDate").invalid),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("paymentMode").touched?a.courseInstallmentReceiptForm.get("paymentMode").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](13),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("paymentMode").touched&&a.courseInstallmentReceiptForm.get("paymentMode").invalid),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("bankDetails").touched?a.courseInstallmentReceiptForm.get("bankDetails").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("bankDetails").invalid&&a.courseInstallmentReceiptForm.get("bankDetails").touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("status",a.courseInstallmentReceiptForm.get("transactionDetails").touched?a.courseInstallmentReceiptForm.get("transactionDetails").invalid?"danger":"success":"basic"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.courseInstallmentReceiptForm.get("transactionDetails").invalid&&a.courseInstallmentReceiptForm.get("transactionDetails").touched),u["\u0275\u0275advance"](22),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](106,39,a.getCourseName(a.courseId))),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.generatedBy),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](a.dateService.formatDate(a.courseInstallmentReceiptForm.value.date)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",a.courseInstallmentReceiptForm.value.amount," "),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.lateFee),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.totalAmount),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",a.dateService.formatDate(a.courseInstallmentReceiptForm.value.paymentDate)," "),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](142,41,a.courseInstallmentReceiptForm.value.paymentMode)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.bankDetails),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.transactionDetails),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.description),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](a.courseInstallmentReceiptForm.value.amountDue),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("disabled",a.submit),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("disabled",a.submit)("nbSpinner",a.submit)}}var z,Q,J,L=[{path:"",component:(z=function(){function n(t,a,l,r,o,i,s,m,u){e(this,n),this.dateService=t,this.branchService=a,this.toastrService=l,this.studentService=r,this.courseService=o,this.studentCourseInstallmentService=i,this.studentCourseInstallmentReceiptService=s,this.router=m,this.route=u}var a,l,o;return a=n,(l=[{key:"ngOnInit",value:function(){var e,t=this;if(this.loading=!0,this.submit=!1,this.branchId=this.branchService.getBranchId(),this.categoryId=this.branchService.getCategoryId(),this.courseId=this.courseService.getCourseId(),this.studentId=this.studentService.getStudentId(),this.courseInstallmentId=this.studentCourseInstallmentService.getCourseInstallmentId(),this.branchId&&this.categoryId&&this.courseId&&this.studentId)return this.studentCourseInstallmentId=this.studentCourseInstallmentService.getStudentCourseInstallmentId(),this.courseInstallmentReceiptForm=new r.f({generatedBy:new r.d(null,{validators:[r.u.required]}),date:new r.d(null,{validators:[r.u.required]}),amount:new r.d(null,{validators:[r.u.min(0)]}),lateFee:new r.d(0,{validators:[r.u.min(0)]}),totalAmount:new r.d(null,{validators:[r.u.required,r.u.min(0)]}),paymentDate:new r.d(this.dateService.getDateString(),{validators:[r.u.required]}),paymentMode:new r.d("",{validators:[r.u.required]}),bankDetails:new r.d(null,{validators:[]}),transactionDetails:new r.d(null,{validators:[]}),description:new r.d(null,{validators:[]}),amountDue:new r.d(null,{validators:[r.u.required,r.u.min(0)]})}),this.route.queryParams.subscribe((function(t){e=t.mode})),e&&"edit"!==e?(this.showToastr("top-right","danger","Invalid Route"),void this.back()):(this.studentCourseInstallmentReceiptId=this.studentCourseInstallmentReceiptService.getStudentCourseInstallmentReceiptId(),e&&!this.studentCourseInstallmentReceiptId?(this.showToastr("top-right","danger","Receipt Id Not Provided"),void this.back()):void(this.studentCourseInstallmentReceiptId?this.studentCourseInstallmentReceiptService.getStudentCourseInstallmentReceiptForEditing(this.studentCourseInstallmentReceiptId).subscribe((function(e){if(!e)return t.showToastr("top-right","danger","Receipt Not Available"),void t.back();t.studentCourseInstallmentReceipt=e,t.courseInstallmentReceiptForm.patchValue({generatedBy:t.studentCourseInstallmentReceipt.generatedBy,date:t.studentCourseInstallmentReceipt.date,amount:t.studentCourseInstallmentReceipt.amount,lateFee:t.studentCourseInstallmentReceipt.lateFee,totalAmount:t.studentCourseInstallmentReceipt.totalAmount,paymentDate:t.studentCourseInstallmentReceipt.paymentDate,paymentMode:t.studentCourseInstallmentReceipt.paymentMode,bankDetails:t.studentCourseInstallmentReceipt.bankDetails,transactionDetails:t.studentCourseInstallmentReceipt.transactionDetails,description:t.studentCourseInstallmentReceipt.description,amountDue:t.studentCourseInstallmentReceipt.amountDue}),t.loading=!1}),(function(e){t.showToastr("top-right","danger","Receipt Not Available"),t.back()})):this.studentCourseInstallmentService.getCourseInstallment(this.courseInstallmentId).subscribe((function(e){e?(t.courseInstallment=e,t.courseInstallmentReceiptForm.patchValue({date:e.installmentDate,amount:e.installmentAmount,amountDue:e.amountPending}),t.calculateTotalAmount(),t.loading=!1):t.back()}))));this.back()}},{key:"calculateTotalAmount",value:function(){var e=+this.courseInstallmentReceiptForm.getRawValue().lateFee;(!e||e<0)&&(e=0);var t=+this.courseInstallmentReceiptForm.getRawValue().amount;this.courseInstallmentReceiptForm.patchValue({totalAmount:t+e})}},{key:"previousStep",value:function(){this.stepper.previous()}},{key:"courseInstallmentReceiptFormSubmit",value:function(){this.courseInstallmentReceiptForm.markAllAsTouched(),this.courseInstallmentReceiptForm.invalid?this.showToastr("top-right","danger","Receipt Details are Required"):this.stepper.next()}},{key:"saveCourseInstallmentReceipt",value:function(){var e=this;if(this.courseInstallmentReceiptForm.invalid)this.showToastr("top-right","danger","Receipt Details are Required");else{this.submit=!0;var t=this.courseInstallmentReceiptForm.getRawValue();t.studentCourseInstallmentId=this.studentCourseInstallmentId,t.courseInstallmentId=this.courseInstallmentId,t.branch=this.branchId,t.category=this.categoryId,t.course=this.courseId,t.student=this.studentId,this.studentCourseInstallmentReceipt?(t._id=this.studentCourseInstallmentReceipt._id,this.studentCourseInstallmentReceiptService.editStudentCourseInstallmentReceipt(t).subscribe((function(t){e.showToastr("top-right","success","Installment Receipt Updated Successfully!"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))):this.studentCourseInstallmentReceiptService.addStudentCourseInstallmentReceipt(t).subscribe((function(t){e.showToastr("top-right","success","Installment Receipt Generated Successfully!"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}}},{key:"getCourseName",value:function(e){return this.courseService.getCourseName(e).pipe(Object(m.a)((function(e){return e})))}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route,replaceUrl:!0})}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"ngOnDestroy",value:function(){this.studentCourseInstallmentReceiptService.deleteStudentCourseInstallmentReceiptId(),this.studentCourseInstallmentService.deleteCourseInstallmentId()}}])&&t(a.prototype,l),o&&t(a,o),n}(),z.\u0275fac=function(e){return new(e||z)(u["\u0275\u0275directiveInject"](d.a),u["\u0275\u0275directiveInject"](c.a),u["\u0275\u0275directiveInject"](o.Gb),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](I.a),u["\u0275\u0275directiveInject"](v.a),u["\u0275\u0275directiveInject"](g.a),u["\u0275\u0275directiveInject"](s.c),u["\u0275\u0275directiveInject"](s.a))},z.\u0275cmp=u["\u0275\u0275defineComponent"]({type:z,selectors:[["ngx-collect-student-course-installment"]],viewQuery:function(e,t){var n;1&e&&u["\u0275\u0275viewQuery"](h,!0),2&e&&u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.stepper=n.first)},decls:1,vars:1,consts:[[4,"ngIf"],["type","button","nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,""],[3,"linear","disableStepNavigation"],["stepper",""],["label","Receipt Details",3,"stepControl"],[1,"",3,"formGroup","submit"],[1,"row"],[1,"col-md-6"],[1,"form-control-group"],["for","input-generatedBy",1,"label"],["type","text","nbInput","","id","input-generatedBy","name","generatedBy","formControlName","generatedBy","placeholder","Generated By","fullWidth","",3,"status"],["for","input-date",1,"label"],["type","date","nbInput","","id","input-date","name","date","formControlName","date","placeholder","Date","fullWidth","","disabled","true",3,"status"],[1,"col-md-4"],["for","input-amount",1,"label"],["type","number","nbInput","","id","input-amount","name","amount","min","0","formControlName","amount","placeholder","amount","fullWidth","","disabled","true",3,"status"],["for","input-lateFee",1,"label"],["type","number","nbInput","","id","input-lateFee","name","lateFee","min","0","formControlName","lateFee","placeholder","lateFee","fullWidth","",3,"status","input"],["for","input-totalAmount",1,"label"],["type","number","nbInput","","id","input-totalAmount","name","totalAmount","min","0","formControlName","totalAmount","placeholder","totalAmount","fullWidth","","disabled","true",3,"status"],["for","input-amountDue",1,"label"],["type","number","nbInput","","id","input-amountDue","name","amountDue","min","0","formControlName","amountDue","placeholder","Amount Due","fullWidth","","disabled","true",3,"status"],["for","input-paymentDate",1,"label"],["type","date","nbInput","","id","input-paymentDate","name","paymentDate","formControlName","paymentDate","placeholder","Payment Date","fullWidth","",3,"status"],["for","input-paymentMode",1,"label"],["id","input-paymentMode","name","paymentMode","formControlName","paymentMode","placeholder","paymentMode","fullWidth","",3,"status"],["value",""],["value","cash"],["value","card"],["value","wallet"],["value","online"],["value","other"],["for","input-bankDetails",1,"label"],["type","text","nbInput","","id","input-bankDetails","name","bankDetails","formControlName","bankDetails","placeholder","Bank Details","fullWidth","",3,"status"],["for","input-transactionDetails",1,"label"],["type","text","nbInput","","id","input-transactionDetails","name","transactionDetails","formControlName","transactionDetails","placeholder","Transaction Details","fullWidth","",3,"status"],[1,"col-md-12"],["for","input-description",1,"label"],["type","text","nbInput","","rows","2","id","input-description","name","description","formControlName","description","placeholder","Description (Optional)","fullWidth",""],[1,"col-md-12","text-right"],["nbButton","","size","small","type","submit"],["icon","arrow-ios-forward-outline"],["label","Submit"],[1,"step-container"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"col-6","text-left"],["type","button","nbButton","","size","small",1,"",3,"disabled","click"],["icon","arrow-ios-back-outline"],[1,"col-6","text-right"],["nbButton","","size","small","type","button","nbSpinnerStatus","primary","nbSpinnerSize","small",3,"disabled","nbSpinner","click"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){1&e&&u["\u0275\u0275template"](0,O,174,43,"nb-card",0),2&e&&u["\u0275\u0275property"]("ngIf",!t.loading)},directives:[i.n,o.y,o.A,o.v,o.x,o.vb,o.ub,r.v,r.n,r.g,o.Q,r.a,r.m,r.e,r.q,o.nb,o.gb,o.N,o.sb],pipes:[i.b,i.w],styles:[""]}),z)},{path:"page-not-found",loadChildren:function(){return l.e(0).then(l.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],U=((J=function t(){e(this,t)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:J}),J.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||J)},imports:[[s.g.forChild(L)],s.g]}),J),X=((Q=function t(){e(this,t)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:Q}),Q.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Q)},imports:[[i.c,U,o.B,o.R,o.ob,o.w,o.P,o.tb,o.wb,r.s]]}),Q)}}])}();
//# sourceMappingURL=35-es5.25585c46f6b454b9bb7a.js.map