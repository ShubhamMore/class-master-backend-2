!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{QTuy:function(n,a,l){"use strict";l.r(a),l.d(a,"AddStudentCourseModule",(function(){return Fe}));var r=l("3Pt+"),o=l("aceb"),s=l("ofXK"),u=l("no5z"),i=l("fXoL"),d=l("ZatZ"),m=l("EQut"),c=l("IAlr"),p=l("lst6"),h=l("5V5q"),g=l("JmRu"),v=l("W14u"),C=l("qsE9"),f=l("tyNb"),b=["stepper"];function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",68),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n._id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.basicDetails.courseName)}}function I(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Student Course is required! "),i["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,I,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("course").errors?null:n.studentCourseForm.get("course").errors.required)}}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",68),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n._id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.basicDetails.batchName)}}function y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Student Batch is required! "),i["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,y,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("batch").errors?null:n.studentCourseForm.get("batch").errors.required)}}function A(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Roll Number is required! "),i["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Roll Number should be greater than 0 "),i["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," This roll number already Exist! "),i["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,A,2,0,"p",69),i["\u0275\u0275template"](2,w,2,0,"p",69),i["\u0275\u0275template"](3,D,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("rollNumber").errors?null:n.studentCourseForm.get("rollNumber").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("rollNumber").errors?null:n.studentCourseForm.get("rollNumber").errors.min),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.rollNumberAlreadyExist)}}function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",68),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("value",n._id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](a.getDiscount(n._id))}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",68),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"uppercase"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,2,n))}}function V(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Discount Amount should be more than or equal to 0 "),i["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Discount Percentage should be between 0% to 100% "),i["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,V,2,0,"p",69),i["\u0275\u0275template"](2,k,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("additionalDiscountAmount").errors?null:n.studentCourseForm.get("additionalDiscountAmount").errors.min),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.studentCourseForm.hasError("invalidDiscountPercentage"))}}function q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Activation date is required "),i["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,q,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("activationDate").errors?null:n.studentCourseForm.get("activationDate").errors.required)}}function M(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Net Payable Amount is Required "),i["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Net Payable Amount should be greater than 0 "),i["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,M,2,0,"p",69),i["\u0275\u0275template"](2,B,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("netPayable").errors?null:n.studentCourseForm.get("netPayable").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseForm.get("netPayable").errors?null:n.studentCourseForm.get("netPayable").errors.min)}}function W(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Date is required "),i["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,W,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("date").errors?null:n.studentCourseFeeForm.get("date").errors.required)}}function $(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Student Course is required! "),i["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,$,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("installmentType").errors?null:n.studentCourseFeeForm.get("installmentType").errors.required)}}function z(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Number of Installments are Required "),i["\u0275\u0275elementEnd"]())}function Q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Number of Installments should be greater than 0 "),i["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,z,2,0,"p",69),i["\u0275\u0275template"](2,Q,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("noOfInstallments").errors?null:n.studentCourseFeeForm.get("noOfInstallments").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("noOfInstallments").errors?null:n.studentCourseFeeForm.get("noOfInstallments").errors.min)}}function U(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Pending Amount is Required "),i["\u0275\u0275elementEnd"]())}function X(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Pending Amount should be greater than 0 "),i["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,U,2,0,"p",69),i["\u0275\u0275template"](2,X,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("pendingAmount").errors?null:n.studentCourseFeeForm.get("pendingAmount").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("pendingAmount").errors?null:n.studentCourseFeeForm.get("pendingAmount").errors.min)}}function K(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Collected Amount is Required "),i["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Collected Amount should be greater than 0 "),i["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,K,2,0,"p",69),i["\u0275\u0275template"](2,L,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("amountCollected").errors?null:n.studentCourseFeeForm.get("amountCollected").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("amountCollected").errors?null:n.studentCourseFeeForm.get("amountCollected").errors.min)}}function Y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Total Amount is Required "),i["\u0275\u0275elementEnd"]())}function ee(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1," Total Amount should be greater than 0 "),i["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Y,2,0,"p",69),i["\u0275\u0275template"](2,ee,2,0,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("totalAmount").errors?null:n.studentCourseFeeForm.get("totalAmount").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.studentCourseFeeForm.get("totalAmount").errors?null:n.studentCourseFeeForm.get("totalAmount").errors.min)}}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Installment ",n+1," Date is required ")}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ne,2,1,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.get("installmentDate").errors?null:n.get("installmentDate").errors.required)}}function le(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Installment ",n+1," Amount is Required ")}}function re(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" Installment ",n+1," Amount should be Minimum ",a.getMinInstallmentAmount(n)," ")}}function oe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" Installment ",n+1," Amount should be Maximum ",a.getMaxInstallmentAmount(n)," ")}}function se(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,le,2,1,"p",69),i["\u0275\u0275template"](2,re,2,2,"p",69),i["\u0275\u0275template"](3,oe,2,2,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.get("installmentAmount").errors?null:n.get("installmentAmount").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.hasError("invalidMinInstallmentAmount")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.hasError("invalidMaxInstallmentAmount"))}}function ue(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Installment ",n+1," Pending Amount is Required ")}}function ie(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" Installment ",n+1," Pending Amount should be Minimum ",a.getMinInstallmentPendingAmount(n)," ")}}function de(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",70),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2).index,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" Installment ",n+1," Pending Amount should be Maximum ",a.getMaxInstallmentPendingAmount(n)," ")}}function me(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ue,2,1,"p",69),i["\u0275\u0275template"](2,ie,2,2,"p",69),i["\u0275\u0275template"](3,de,2,2,"p",69),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==n.get("amountPending").errors?null:n.get("amountPending").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.hasError("invalidMinInstallmentPendingAmount")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.hasError("invalidMaxInstallmentPendingAmount"))}}function ce(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr",71),i["\u0275\u0275elementStart"](2,"td"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td"),i["\u0275\u0275elementStart"](5,"div",9),i["\u0275\u0275element"](6,"input",72),i["\u0275\u0275template"](7,ae,2,1,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td"),i["\u0275\u0275elementStart"](9,"div",9),i["\u0275\u0275elementStart"](10,"input",73),i["\u0275\u0275listener"]("input",(function(e){i["\u0275\u0275restoreView"](n);var a=t.index;return i["\u0275\u0275nextContext"](3).customInstallmentAmount(e.target.value,a)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,se,4,3,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td"),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275element"](14,"input",74),i["\u0275\u0275template"](15,me,4,3,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.$implicit,l=t.index,r=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",a),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("Installment ",a.value.installmentNo,""),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("id","input-installmentDate-",l,""),i["\u0275\u0275propertyInterpolate1"]("name","installmentDate-",l,""),i["\u0275\u0275property"]("min",r.getMinInstallmentDate(l))("max",r.getMaxInstallmentDate(l))("status",a.get("installmentDate").touched?a.get("installmentDate").invalid?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.get("installmentDate").touched&&a.get("installmentDate").invalid),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("id","input-installmentAmount-",l,""),i["\u0275\u0275propertyInterpolate1"]("name","installmentAmount-",l,""),i["\u0275\u0275property"]("min",r.getMinInstallmentAmount(l))("max",r.getMaxInstallmentAmount(l))("status",a.get("installmentAmount").touched?a.get("installmentAmount").invalid||a.hasError("invalidMinInstallmentAmount")||a.hasError("invalidMaxInstallmentAmount")?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.get("installmentAmount").touched),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("id","input-amountPending-",l,""),i["\u0275\u0275propertyInterpolate1"]("name","amountPending-",l,""),i["\u0275\u0275property"]("min",r.getMinInstallmentPendingAmount(l))("max",r.getMaxInstallmentPendingAmount(l))("status",a.get("amountPending").touched?a.get("amountPending").invalid||a.hasError("invalidMinInstallmentPendingAmount")||a.hasError("invalidMaxInstallmentPendingAmount")?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.get("amountPending").touched)}}function pe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",61),i["\u0275\u0275elementStart"](1,"table",62),i["\u0275\u0275elementStart"](2,"thead"),i["\u0275\u0275elementStart"](3,"tr"),i["\u0275\u0275elementStart"](4,"th"),i["\u0275\u0275text"](5,"Installment Number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th"),i["\u0275\u0275text"](7,"Installment Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th"),i["\u0275\u0275text"](9,"Installment Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th"),i["\u0275\u0275text"](11,"Pending Amount after This Installment"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"tbody"),i["\u0275\u0275template"](13,ce,16,20,"ng-container",65),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",n.studentCourseInstallmentForm.get("installments").controls)}}function he(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",75),i["\u0275\u0275text"](1,"No Installments"),i["\u0275\u0275elementEnd"]())}function ge(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("Installment ",n.value.installmentNo,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",a.dateService.formatDate(n.value.installmentDate)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.value.installmentAmount),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.value.amountPending)}}function ve(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"nb-card"),i["\u0275\u0275elementStart"](1,"nb-card-header"),i["\u0275\u0275elementStart"](2,"button",1),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().back()})),i["\u0275\u0275text"](3," Back "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h3",2),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"nb-card-body"),i["\u0275\u0275elementStart"](7,"nb-stepper",3,4),i["\u0275\u0275elementStart"](9,"nb-step",5),i["\u0275\u0275elementStart"](10,"form",6),i["\u0275\u0275listener"]("submit",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().studentCourseFormSubmit()})),i["\u0275\u0275elementStart"](11,"div",7),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275elementStart"](14,"label",10),i["\u0275\u0275text"](15,"Course:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"nb-select",11),i["\u0275\u0275listener"]("selectedChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onSelectCourse(e)})),i["\u0275\u0275elementStart"](17,"nb-option",12),i["\u0275\u0275text"](18,"Select Course"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](19,S,2,2,"nb-option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](20,F,2,1,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",8),i["\u0275\u0275elementStart"](22,"div",9),i["\u0275\u0275elementStart"](23,"label",14),i["\u0275\u0275text"](24,"Batch:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"nb-select",15),i["\u0275\u0275listener"]("selectedChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onSelectBatch(e)})),i["\u0275\u0275elementStart"](26,"nb-option",12),i["\u0275\u0275text"](27,"Select Batch"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](28,x,2,2,"nb-option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](29,E,2,1,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",8),i["\u0275\u0275elementStart"](31,"div",9),i["\u0275\u0275elementStart"](32,"label",16),i["\u0275\u0275text"](33,"Roll Number:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"input",17),i["\u0275\u0275listener"]("input",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().checkRollNumber()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](35,N,4,3,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",8),i["\u0275\u0275elementStart"](37,"div",9),i["\u0275\u0275elementStart"](38,"label",18),i["\u0275\u0275text"](39,"Discount/Offer:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"nb-select",19),i["\u0275\u0275listener"]("selectedChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onSelectDiscount(e)})),i["\u0275\u0275elementStart"](41,"nb-option",12),i["\u0275\u0275text"](42,"Select Discount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](43,P,2,2,"nb-option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",8),i["\u0275\u0275elementStart"](45,"div",9),i["\u0275\u0275elementStart"](46,"label",20),i["\u0275\u0275text"](47,"Additional Discount Type:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"nb-select",21),i["\u0275\u0275listener"]("selectedChange",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().changeAdditionalDiscountType()})),i["\u0275\u0275template"](49,T,3,4,"nb-option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"div",8),i["\u0275\u0275elementStart"](51,"div",9),i["\u0275\u0275elementStart"](52,"label",22),i["\u0275\u0275text"](53,"Additional Discount Amount:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"input",23),i["\u0275\u0275listener"]("input",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onAdditionalDiscountAmount(e.target.value)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](55,R,3,2,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](56,"div",24),i["\u0275\u0275elementStart"](57,"div",9),i["\u0275\u0275elementStart"](58,"label",25),i["\u0275\u0275text"](59,"Activation Date:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](60,"input",26),i["\u0275\u0275template"](61,O,2,1,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](62,"div",24),i["\u0275\u0275elementStart"](63,"div",9),i["\u0275\u0275elementStart"](64,"label",27),i["\u0275\u0275text"](65,"Net Payable:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](66,"input",28),i["\u0275\u0275template"](67,_,3,2,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](68,"hr"),i["\u0275\u0275elementStart"](69,"div",7),i["\u0275\u0275elementStart"](70,"div",29),i["\u0275\u0275elementStart"](71,"button",30),i["\u0275\u0275elementStart"](72,"span"),i["\u0275\u0275text"](73,"Next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](74,"nb-icon",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](75,"nb-step",32),i["\u0275\u0275elementStart"](76,"form",33),i["\u0275\u0275listener"]("ngSubmit",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().studentCourseFeeFormSubmit()})),i["\u0275\u0275elementStart"](77,"div",7),i["\u0275\u0275elementStart"](78,"div",8),i["\u0275\u0275elementStart"](79,"div",9),i["\u0275\u0275elementStart"](80,"label",34),i["\u0275\u0275text"](81,"Date:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](82,"input",35),i["\u0275\u0275template"](83,j,2,1,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](84,"div",8),i["\u0275\u0275elementStart"](85,"div",9),i["\u0275\u0275elementStart"](86,"label",36),i["\u0275\u0275text"](87,"Installment Type:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](88,"nb-select",37),i["\u0275\u0275listener"]("selectedChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onSelectInstallmentType(e)})),i["\u0275\u0275elementStart"](89,"nb-option",38),i["\u0275\u0275text"](90,"Pay Once"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](91,"nb-option",39),i["\u0275\u0275text"](92,"Pay Twice"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](93,"nb-option",40),i["\u0275\u0275text"](94,"Pay Quarterly"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](95,"nb-option",41),i["\u0275\u0275text"](96,"Pay Monthly"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](97,"nb-option",42),i["\u0275\u0275text"](98,"Pay Custom"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](99,G,2,1,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](100,"div",8),i["\u0275\u0275elementStart"](101,"div",9),i["\u0275\u0275elementStart"](102,"label",43),i["\u0275\u0275text"](103,"Number of Installments:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](104,"input",44),i["\u0275\u0275listener"]("input",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().generateNoOfInstallments(e.target.value)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](105,J,3,2,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](106,"div",8),i["\u0275\u0275elementStart"](107,"div",9),i["\u0275\u0275elementStart"](108,"label",45),i["\u0275\u0275text"](109,"Pending Amount:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](110,"input",46),i["\u0275\u0275template"](111,Z,3,2,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](112,"div",8),i["\u0275\u0275elementStart"](113,"div",9),i["\u0275\u0275elementStart"](114,"label",47),i["\u0275\u0275text"](115,"Amount Collected:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](116,"input",48),i["\u0275\u0275template"](117,H,3,2,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](118,"div",8),i["\u0275\u0275elementStart"](119,"div",9),i["\u0275\u0275elementStart"](120,"label",49),i["\u0275\u0275text"](121,"Total Payable Amount:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](122,"input",50),i["\u0275\u0275template"](123,te,3,2,"ng-container",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](124,"hr"),i["\u0275\u0275elementStart"](125,"div",7),i["\u0275\u0275elementStart"](126,"div",51),i["\u0275\u0275elementStart"](127,"button",52),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().previousStep()})),i["\u0275\u0275element"](128,"nb-icon",53),i["\u0275\u0275elementStart"](129,"span"),i["\u0275\u0275text"](130,"prev"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](131,"div",54),i["\u0275\u0275elementStart"](132,"button",30),i["\u0275\u0275elementStart"](133,"span"),i["\u0275\u0275text"](134,"Next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](135,"nb-icon",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](136,"nb-step",55),i["\u0275\u0275elementStart"](137,"form",33),i["\u0275\u0275listener"]("ngSubmit",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().studentCourseInstallmentFormSubmit()})),i["\u0275\u0275elementStart"](138,"div",7),i["\u0275\u0275elementStart"](139,"div",56),i["\u0275\u0275template"](140,pe,14,1,"div",57),i["\u0275\u0275template"](141,he,2,0,"ng-template",null,58,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](143,"hr"),i["\u0275\u0275elementStart"](144,"div",7),i["\u0275\u0275elementStart"](145,"div",51),i["\u0275\u0275elementStart"](146,"button",52),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().previousStep()})),i["\u0275\u0275element"](147,"nb-icon",53),i["\u0275\u0275elementStart"](148,"span"),i["\u0275\u0275text"](149,"prev"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](150,"div",54),i["\u0275\u0275elementStart"](151,"button",30),i["\u0275\u0275elementStart"](152,"span"),i["\u0275\u0275text"](153,"Next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](154,"nb-icon",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](155,"nb-step",59),i["\u0275\u0275elementStart"](156,"div",60),i["\u0275\u0275elementStart"](157,"div",61),i["\u0275\u0275elementStart"](158,"table",62),i["\u0275\u0275elementStart"](159,"tbody"),i["\u0275\u0275elementStart"](160,"tr"),i["\u0275\u0275elementStart"](161,"th",63),i["\u0275\u0275text"](162,"Course Details"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](163,"tr"),i["\u0275\u0275elementStart"](164,"th"),i["\u0275\u0275text"](165,"Course"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](166,"td"),i["\u0275\u0275text"](167),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](168,"tr"),i["\u0275\u0275elementStart"](169,"th"),i["\u0275\u0275text"](170,"Batch"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](171,"td"),i["\u0275\u0275text"](172),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](173,"tr"),i["\u0275\u0275elementStart"](174,"th"),i["\u0275\u0275text"](175,"Roll Number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](176,"td"),i["\u0275\u0275text"](177),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](178,"tr"),i["\u0275\u0275elementStart"](179,"th"),i["\u0275\u0275text"](180,"Discount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](181,"td"),i["\u0275\u0275text"](182),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](183,"tr"),i["\u0275\u0275elementStart"](184,"th"),i["\u0275\u0275text"](185,"Additional Discount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](186,"td"),i["\u0275\u0275text"](187),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](188,"tr"),i["\u0275\u0275elementStart"](189,"th"),i["\u0275\u0275text"](190,"Net Payable"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](191,"td"),i["\u0275\u0275text"](192),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](193,"tr"),i["\u0275\u0275elementStart"](194,"th"),i["\u0275\u0275text"](195,"Activation Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](196,"td"),i["\u0275\u0275text"](197),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](198,"tr"),i["\u0275\u0275elementStart"](199,"th",63),i["\u0275\u0275text"](200,"Course Fee Details"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](201,"tr"),i["\u0275\u0275elementStart"](202,"th"),i["\u0275\u0275text"](203,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](204,"td"),i["\u0275\u0275text"](205),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](206,"tr"),i["\u0275\u0275elementStart"](207,"th"),i["\u0275\u0275text"](208,"Number of Installments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](209,"td"),i["\u0275\u0275text"](210),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](211,"tr"),i["\u0275\u0275elementStart"](212,"th"),i["\u0275\u0275text"](213,"Amount Collected"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](214,"td"),i["\u0275\u0275text"](215),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](216,"tr"),i["\u0275\u0275elementStart"](217,"th"),i["\u0275\u0275text"](218,"Pending Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](219,"td"),i["\u0275\u0275text"](220),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](221,"tr"),i["\u0275\u0275elementStart"](222,"th"),i["\u0275\u0275text"](223,"Total Payable Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](224,"td"),i["\u0275\u0275text"](225),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](226,"tr"),i["\u0275\u0275elementStart"](227,"th",63),i["\u0275\u0275text"](228,"Installment Details"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](229,"tr"),i["\u0275\u0275elementStart"](230,"td",63),i["\u0275\u0275elementStart"](231,"div",61),i["\u0275\u0275elementStart"](232,"table",64),i["\u0275\u0275elementStart"](233,"thead"),i["\u0275\u0275elementStart"](234,"tr"),i["\u0275\u0275elementStart"](235,"th"),i["\u0275\u0275text"](236,"Installment No."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](237,"th"),i["\u0275\u0275text"](238,"Installment Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](239,"th"),i["\u0275\u0275text"](240,"Installment Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](241,"th"),i["\u0275\u0275text"](242,"Pending Amount after Installment"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](243,"tbody"),i["\u0275\u0275template"](244,ge,9,4,"tr",65),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](245,"hr"),i["\u0275\u0275elementStart"](246,"div",7),i["\u0275\u0275elementStart"](247,"div",51),i["\u0275\u0275elementStart"](248,"button",66),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().previousStep()})),i["\u0275\u0275element"](249,"nb-icon",53),i["\u0275\u0275elementStart"](250,"span"),i["\u0275\u0275text"](251,"prev"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](252,"div",54),i["\u0275\u0275elementStart"](253,"button",67),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().saveStudentCourse()})),i["\u0275\u0275elementStart"](254,"span"),i["\u0275\u0275text"](255,"Submit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var a=i["\u0275\u0275reference"](142),l=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",l.studentCourse?"Edit Student Course":"New Student Course"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("linear",!0)("disableStepNavigation",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("stepControl",l.studentCourseForm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",l.studentCourseForm),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("status",l.studentCourseForm.get("course").touched?l.studentCourseForm.get("course").invalid?"danger":"success":"basic"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",l.courses),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("course").invalid&&l.studentCourseForm.get("course").touched),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseForm.get("batch").touched?l.studentCourseForm.get("batch").invalid?"danger":"success":"basic"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",l.courseBatches),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("batch").invalid&&l.studentCourseForm.get("batch").touched),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseForm.get("rollNumber").touched?l.studentCourseForm.get("rollNumber").invalid||l.rollNumberAlreadyExist?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(l.studentCourseForm.get("rollNumber").invalid||l.rollNumberAlreadyExist)&&l.studentCourseForm.get("rollNumber").touched),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngForOf",l.discounts),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("selected",l.discountTypes.length>0?l.discountTypes[0]:""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",l.discountTypes),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseForm.get("additionalDiscountAmount").touched?l.studentCourseForm.get("additionalDiscountAmount").invalid||l.studentCourseForm.hasError("invalidDiscountPercentage")?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("additionalDiscountAmount").touched),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseForm.get("activationDate").invalid?"danger":"success"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("activationDate").invalid),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseForm.get("netPayable").touched?l.studentCourseForm.get("netPayable").invalid?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseForm.get("netPayable").invalid&&l.studentCourseForm.get("netPayable").touched),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("stepControl",l.studentCourseFeeForm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",l.studentCourseFeeForm),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("date").invalid?"danger":"success"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("date").invalid),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("installmentType").touched?l.studentCourseFeeForm.get("installmentType").invalid?"danger":"success":"basic"),i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("installmentType").invalid&&l.studentCourseFeeForm.get("installmentType").touched),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("noOfInstallments").touched?l.studentCourseFeeForm.get("noOfInstallments").invalid?"danger":"success":"basic"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("noOfInstallments").invalid&&l.studentCourseFeeForm.get("noOfInstallments").touched),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("pendingAmount").invalid?"danger":"success"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("pendingAmount").invalid),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("amountCollected").invalid?"danger":"success"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("amountCollected").invalid),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("status",l.studentCourseFeeForm.get("totalAmount").invalid?"danger":"success"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.studentCourseFeeForm.get("totalAmount").invalid),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("stepControl",l.studentCourseInstallmentForm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",l.studentCourseInstallmentForm),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!!l.getNoOfInstallments()&&l.studentCourseInstallmentForm.get("installments").controls.length>0)("ngIfElse",a),i["\u0275\u0275advance"](27),i["\u0275\u0275textInterpolate"](l.getCourse(l.studentCourseForm.value.course)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.getBatch(l.studentCourseForm.value.batch)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.studentCourseForm.value.rollNumber),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.getDiscount(l.studentCourseForm.value.discount)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",l.studentCourseForm.value.additionalDiscountAmount?l.studentCourseForm.value.additionalDiscountAmount+("percentage"===l.studentCourseForm.value.additionalDiscountType?"%":""):"--"," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.studentCourseForm.value.netPayable),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.dateService.formatDate(l.studentCourseForm.value.activationDate)),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](l.dateService.formatDate(l.studentCourseFeeForm.value.date)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.getRawValue().noOfInstallments),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.value.amountCollected),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.value.pendingAmount),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](l.studentCourseFeeForm.value.totalAmount),i["\u0275\u0275advance"](19),i["\u0275\u0275property"]("ngForOf",l.studentCourseInstallmentForm.get("installments").controls),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",l.submit),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("disabled",l.submit)("nbSpinner",l.submit)}}var Ce,fe,be,Se=[{path:"",component:(Ce=function(){function n(t,a,l,r,o,s,u,i,d,m,c){e(this,n),this.dateService=t,this.toastrService=a,this.branchService=l,this.courseService=r,this.batchService=o,this.discountAndOfferService=s,this.studentService=u,this.studentCourseService=i,this.studentCourseInstallmentService=d,this.router=m,this.route=c}var a,l,o;return a=n,(l=[{key:"ngOnInit",value:function(){var e,t=this;if(this.loading=!0,this.submit=!1,this.branchId=this.branchService.getBranchId(),this.categoryId=this.branchService.getCategoryId(),this.studentId=this.studentService.getStudentId(),this.branchId||this.categoryId||this.studentId)return this.studentCourseId=this.studentCourseService.getStudentCourseId(),this.route.queryParams.subscribe((function(t){e=t.mode})),e&&"edit"!==e?(this.showToastr("top-right","danger","Invalid Route"),void this.router.navigate(["../page-not-found"],{relativeTo:this.route})):e&&!this.studentCourseId?(this.showToastr("top-right","danger","Student Course Not Found"),void this.router.navigate(["../page-not-found"],{relativeTo:this.route})):(this.discounts=[],this.courses=[],this.batches=[],this.courseBatches=[],this.discountTypes=[],this.rollNumberAlreadyExist=!1,this.courseService.getCoursesData().subscribe((function(e){t.courses=e})),this.batchService.getBatchesData().subscribe((function(e){t.batches=e})),this.discountAndOfferService.getDiscountAndOffersData().subscribe((function(e){t.discounts=e})),this.discountTypes=this.discountAndOfferService.getDiscountTypes(),this.studentCourseForm=new r.f({course:new r.d("",{validators:[r.u.required]}),batch:new r.d("",{validators:[r.u.required]}),rollNumber:new r.d(null,{validators:[r.u.required,r.u.min(1)]}),discount:new r.d("",{validators:[]}),additionalDiscountType:new r.d(this.discountTypes.length>0?this.discountTypes[0]:"",{validators:[]}),additionalDiscountAmount:new r.d(0,{validators:[r.u.min(0)]}),activationDate:new r.d(this.dateService.getDateString(),{validators:[r.u.required]}),netPayable:new r.d(0,{validators:[r.u.required]})},{validators:this.discountPercentageValidator.bind(this)}),this.studentCourseFeeForm=new r.f({installmentType:new r.d("0",{validators:[r.u.required]}),date:new r.d(this.dateService.getDateString(),{validators:[r.u.required]}),noOfInstallments:new r.d(1,{validators:[r.u.required,r.u.min(1)]}),pendingAmount:new r.d(0,{validators:[r.u.required,r.u.min(0)]}),amountCollected:new r.d(0,{validators:[r.u.required,r.u.min(0)]}),totalAmount:new r.d(0,{validators:[r.u.required,r.u.min(0)]})}),this.studentCourseInstallmentForm=new r.f({installments:new r.b([])}),void(e&&this.studentId&&this.studentCourseId?this.studentCourseService.getStudentCourseForEditing(this.studentCourseId).subscribe((function(e){t.studentCourse=e.studentCourse,t.studentCourseInstallment=e.studentCourseInstallment,t.studentCourseForm.patchValue({course:t.studentCourse.course,activationDate:t.studentCourse.activationDate,rollNumber:t.studentCourse.rollNumber,discount:t.studentCourse.discount,additionalDiscountType:t.studentCourse.additionalDiscountType,additionalDiscountAmount:t.studentCourse.additionalDiscountAmount,netPayable:t.studentCourse.netPayable}),t.onSelectCourse(t.studentCourse.course),t.studentCourseForm.patchValue({batch:t.studentCourse.batch}),t.disableStudentCourseDetails(),t.studentCourseInstallment&&(t.studentCourseFeeForm.patchValue({installmentType:t.studentCourseInstallment.installmentType,date:t.studentCourseInstallment.date,noOfInstallments:t.studentCourseInstallment.noOfInstallments,amountCollected:t.studentCourseInstallment.amountCollected,pendingAmount:t.studentCourseInstallment.pendingAmount,totalAmount:t.studentCourseInstallment.totalAmount}),t.disableStudentCourseFeeForm(),t.resetStudentCourseInstallments(),t.studentCourseInstallment.installments.forEach((function(e,n){t.addStudentCourseInstallment(e)})),t.disableStudentCourseInstallmentFields()),t.loading=!1}),(function(e){t.showToastr("top-right","danger",e),t.back()})):this.loading=!1));this.router.navigate(["../"],{relativeTo:this.route})}},{key:"discountPercentageValidator",value:function(e){var t=e.getRawValue().additionalDiscountType,n=+e.getRawValue().additionalDiscountAmount;return"percentage"===t&&n>100?{invalidDiscountPercentage:!0}:null}},{key:"checkRollNumber",value:function(){var e=this,t=this.studentCourseForm.getRawValue().rollNumber,n=this.studentCourseForm.getRawValue().batch;if(t){if(t=t.toString(),this.studentCourse&&this.studentCourse.batch===n&&this.studentCourse.rollNumber===t)return;var a=this.studentCourseForm.getRawValue().course;a&&n&&this.studentCourseService.checkBatchRollNumber(this.branchId,this.categoryId,a,n,t).subscribe((function(t){e.rollNumberAlreadyExist=t.rollNumberExist}),(function(e){}))}}},{key:"onSelectCourse",value:function(e){this.studentCourseForm.patchValue({batch:""}),this.courseBatches=[],this.courseBatches=this.batches.filter((function(t){return t.course===e})),this.course=this.courses.find((function(t){return t._id===e})),this.calculateNetPayableAmount()}},{key:"onSelectBatch",value:function(e){""!==e?(this.studentCourseForm.get("rollNumber").enable(),this.batch=this.batches.find((function(t){return t._id===e})),this.checkRollNumber()):this.studentCourseForm.get("rollNumber").disable()}},{key:"onSelectDiscount",value:function(e){this.discount=this.discounts.find((function(t){return t._id===e})),this.calculateNetPayableAmount()}},{key:"onAdditionalDiscountAmount",value:function(e){e>=0&&this.calculateNetPayableAmount()}},{key:"changeAdditionalDiscountType",value:function(){this.studentCourseForm.patchValue({additionalDiscount:0}),this.calculateNetPayableAmount()}},{key:"calculateNetPayableAmount",value:function(){var e=0,t=0,n=0,a=this.course?+this.course.feeDetails.totalFees:0,l=this.discount?this.discount.discountType:"",r=this.studentCourseForm.getRawValue().additionalDiscountType,o=this.discount?+this.discount.discountAmount:0,s=+this.studentCourseForm.getRawValue().additionalDiscountAmount;if(this.course&&a){this.discount&&l&&("percentage"===l?t+=o:n+=o),s&&("percentage"===r?t+=s:n+=s),e=a-n-t/100*a,this.studentCourseForm.patchValue({netPayable:e}),this.studentCourseFeeForm.patchValue({totalAmount:e}),this.calculatePendingAmount();var u=this.studentCourseFeeForm.getRawValue().installmentType;this.onSelectInstallmentType(u)}}},{key:"calculatePendingAmount",value:function(){var e;e=+this.studentCourseFeeForm.getRawValue().totalAmount-(this.studentCourseFeeForm.getRawValue().amountCollected||0),this.studentCourseFeeForm.patchValue({pendingAmount:e})}},{key:"enableStudentCourseDetails",value:function(){this.studentCourseForm.get("course").enable(),this.studentCourseForm.get("discount").enable(),this.studentCourseForm.get("additionalDiscountType").enable(),this.studentCourseForm.get("additionalDiscountAmount").enable()}},{key:"disableStudentCourseDetails",value:function(){this.studentCourseForm.get("course").disable(),this.studentCourseForm.get("discount").disable(),this.studentCourseForm.get("additionalDiscountType").disable(),this.studentCourseForm.get("additionalDiscountAmount").disable()}},{key:"enableStudentCourseFeeForm",value:function(){this.studentCourseFeeForm.get("installmentType").enable(),this.studentCourseFeeForm.get("noOfInstallments").enable()}},{key:"disableStudentCourseFeeForm",value:function(){this.studentCourseFeeForm.get("installmentType").disable(),this.studentCourseFeeForm.get("noOfInstallments").disable()}},{key:"getStudentCourseInstallments",value:function(){return this.studentCourseInstallmentForm.get("installments").controls}},{key:"resetStudentCourseInstallments",value:function(){this.studentCourseInstallmentForm.get("installments").controls=[]}},{key:"newStudentCourseInstallment",value:function(e){return new r.f({_id:new r.d(e._id?e._id:(new u.a).toString(),{validators:[r.u.required]}),installmentNo:new r.d(e.installmentNo?e.installmentNo:null,{validators:[r.u.required]}),installmentDate:new r.d(e.installmentDate?e.installmentDate:null,{validators:[r.u.required]}),installmentAmount:new r.d(e.installmentAmount?e.installmentAmount:0,{validators:[r.u.required]}),amountPending:new r.d(e.installmentAmount?e.amountPending:0,{validators:[r.u.required]}),receiptId:new r.d(e.receiptId?e.receiptId:null,{validators:[]}),status:new r.d(!e.status||e.status,{validators:[]})},{validators:[this.minInstallmentAmountValidator.bind(this),this.maxInstallmentAmountValidator.bind(this),this.minInstallmentPendingAmountValidator.bind(this),this.maxInstallmentPendingAmountValidator.bind(this)]})}},{key:"minInstallmentAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().installmentAmount<this.getMinInstallmentAmount(t-1)?{invalidMinInstallmentAmount:!0}:null}},{key:"maxInstallmentAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().installmentAmount>this.getMaxInstallmentAmount(t-1)?{invalidMaxInstallmentAmount:!0}:null}},{key:"minInstallmentPendingAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().amountPending<this.getMinInstallmentPendingAmount(t-1)?{invalidMinInstallmentPendingAmount:!0}:null}},{key:"maxInstallmentPendingAmountValidator",value:function(e){var t=+e.getRawValue().installmentNo;return+e.getRawValue().amountPending>this.getMaxInstallmentPendingAmount(t-1)?{invalidMinInstallmentPendingAmount:!0}:null}},{key:"addStudentCourseInstallment",value:function(e){this.getStudentCourseInstallments().push(this.newStudentCourseInstallment(e))}},{key:"onSelectInstallmentType",value:function(e){if(this.studentCourseFeeForm.patchValue({amountCollected:0}),"0"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(1);else if("1"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(2);else if("2"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(4);else if("3"===e)this.studentCourseFeeForm.get("noOfInstallments").disable(),this.generateNoOfInstallments(this.course.basicDetails.duration);else{this.studentCourseFeeForm.get("noOfInstallments").enable();var t=this.studentCourseFeeForm.getRawValue().noOfInstallments;this.generateNoOfInstallments(t)}}},{key:"generateNoOfInstallments",value:function(e){if(e){e=e>0?e:3,this.studentCourseFeeForm.patchValue({amountCollected:0}),this.studentCourseFeeForm.patchValue({noOfInstallments:e});var t=+this.course.basicDetails.duration/e,n=this.studentCourseFeeForm.getRawValue().date,a=+this.studentCourseForm.getRawValue().netPayable/e,l=+this.studentCourseFeeForm.getRawValue().pendingAmount;this.resetStudentCourseInstallments();for(var r=0;r<e;r++){var o=this.dateService.millisecondsToDateString(this.dateService.dateToMilliseconds(n)+t*r*2592e6),s=l-+a*(r+1);s=s<0?0:s;var i={_id:new u.a,installmentNo:(r+1).toString(),installmentDate:o,installmentAmount:Math.ceil(a),amountPending:Math.ceil(s),receiptId:null,status:!0};this.addStudentCourseInstallment(i)}"4"===this.studentCourseFeeForm.getRawValue().installmentType?this.enableStudentCourseInstallmentFields():this.disableStudentCourseInstallmentFields()}}},{key:"customInstallmentAmount",value:function(e,t){if(!(!e||e<this.getMinInstallmentAmount(t)||e>this.getMaxInstallmentAmount(t))){var n=this.getStudentCourseInstallments(),a=this.getNoOfInstallments(),l=(0===t?this.studentCourseFeeForm.getRawValue().totalAmount:n[t-1].getRawValue().amountPending)-e;n[t].patchValue({amountPending:l});var r=a-(t+1)>0?a-(t+1):1,o=Math.ceil(l/r);if(t!==a-1)for(var s=0;s<r;s++){var u=l-+o*(s+1);u=u<0?0:u;var i=t+s+1;i===a-1&&this.getMaxInstallmentAmount(i)<o&&(o=this.getMaxInstallmentAmount(i)),n[i].patchValue({installmentAmount:o,amountPending:u})}}}},{key:"getMinInstallmentDate",value:function(e){var t=this.getStudentCourseInstallments();return 0===e?this.studentCourseFeeForm.getRawValue().date:t[e-1].getRawValue().installmentDate}},{key:"getMaxInstallmentDate",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&1===n?this.studentCourseFeeForm.getRawValue().date:e===n-1?this.dateService.millisecondsToDateString(this.dateService.dateToMilliseconds(this.studentCourseFeeForm.getRawValue().date)+2592e6*this.course.basicDetails.duration):t[e+1].getRawValue().installmentDate}},{key:"getMinInstallmentAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&1===n?this.studentCourseFeeForm.getRawValue().totalAmount:0===e&&n>1?1:e===n-1?t[e-1].getRawValue().amountPending:1}},{key:"getMaxInstallmentAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&n>=1?this.studentCourseFeeForm.getRawValue().totalAmount:t[e-1].getRawValue().amountPending}},{key:"getMinInstallmentPendingAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&n>=1||e===n-1?0:t[e]?t[e-1].getRawValue().amountPending-t[e].getRawValue().installmentAmount:0}},{key:"getMaxInstallmentPendingAmount",value:function(e){var t=this.getStudentCourseInstallments(),n=this.getNoOfInstallments();return 0===e&&n>=1?this.studentCourseFeeForm.getRawValue().totalAmount:e===n-1?0:t[e]?t[e-1].getRawValue().amountPending-t[e].getRawValue().installmentAmount+1:void 0}},{key:"getNoOfInstallments",value:function(){return+this.studentCourseFeeForm.getRawValue().noOfInstallments}},{key:"enableStudentCourseInstallmentFields",value:function(){this.getStudentCourseInstallments().forEach((function(e){e.get("installmentAmount").enable()}))}},{key:"disableStudentCourseInstallmentFields",value:function(){this.getStudentCourseInstallments().forEach((function(e){e.get("installmentAmount").disable()}))}},{key:"previousStep",value:function(){this.studentCourse&&this.disableStudentCourseDetails();var e=this.studentCourseFeeForm.getRawValue().installmentType;(this.studentCourseInstallment||"4"!==e)&&this.disableStudentCourseInstallmentFields(),this.stepper.previous()}},{key:"studentCourseFormSubmit",value:function(){this.studentCourseForm.markAllAsTouched(),this.rollNumberAlreadyExist?this.showToastr("top-right","danger","Student Roll Number for this Batch already Exist"):this.studentCourseForm.invalid?this.showToastr("top-right","danger","Student Course Details are Required"):(this.studentCourse&&this.enableStudentCourseDetails(),this.stepper.next())}},{key:"studentCourseFeeFormSubmit",value:function(){this.studentCourseFeeForm.markAllAsTouched(),this.studentCourseFeeForm.invalid?this.showToastr("top-right","danger","Student Course Fee Details are Required"):this.stepper.next()}},{key:"studentCourseInstallmentFormSubmit",value:function(){this.studentCourseInstallmentForm.markAllAsTouched(),this.studentCourseInstallmentForm.invalid?this.showToastr("top-right","danger","Student Course Installment Details are Required"):this.validateStudentCourseInstallmentForm()?(this.enableStudentCourseInstallmentFields(),this.stepper.next()):this.showToastr("top-right","danger","Student Course Installment Details are Required")}},{key:"validateStudentCourseInstallmentForm",value:function(){var e=this.getStudentCourseInstallments(),t=!1;return e.forEach((function(e,n){e.invalid&&(t=!0)})),!t}},{key:"saveStudentCourse",value:function(){var e=this;if(this.studentCourseForm.markAllAsTouched(),this.studentCourseFeeForm.markAllAsTouched(),this.studentCourseInstallmentForm.markAllAsTouched(),this.rollNumberAlreadyExist)this.showToastr("top-right","danger","Student Roll Number for this Batch already Exist");else if(this.studentCourseForm.invalid)this.showToastr("top-right","danger","Student Course Details are Required");else if(this.studentCourseFeeForm.invalid)this.showToastr("top-right","danger","Student Course Fee Details are Required");else if(this.studentCourseInstallmentForm.invalid)this.showToastr("top-right","danger","Student Course Installment Details are Required");else if(this.validateStudentCourseInstallmentForm()){this.submit=!0;var t=this.studentCourseForm.getRawValue();t.branch=this.branchId,t.category=this.categoryId,t.student=this.studentId;var n=this.studentCourseFeeForm.getRawValue();n.installments=this.studentCourseInstallmentForm.getRawValue().installments,n.branch=this.branchId,n.category=this.categoryId,n.course=t.course,n.student=this.studentId,this.studentCourse||this.studentCourseInstallment?this.studentCourse&&!this.studentCourseInstallment?this.studentCourseInstallmentService.addStudentCourseInstallment(this.studentCourse._id,n).subscribe((function(t){e.showToastr("top-right","success","Student Course Installments Created Successfully!"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1})):(t._id=this.studentCourse._id,n._id=this.studentCourseInstallment._id,this.studentCourseService.editStudentCourse(t,n).subscribe((function(t){e.showToastr("top-right","success","Student Course Updated Successfully!"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))):this.studentCourseService.addStudentCourse(t,n).subscribe((function(t){e.showToastr("top-right","success","Student Course Created Successfully!"),e.back()}),(function(t){e.showToastr("top-right","danger",t),e.submit=!1}))}else this.showToastr("top-right","danger","Student Course Installment Details are Required")}},{key:"showToastr",value:function(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}},{key:"getCourse",value:function(e){var t=this.courses.find((function(t){return t._id===e}));return t?t.basicDetails.courseName:"--"}},{key:"getBatch",value:function(e){var t=this.batches.find((function(t){return t._id===e}));return t?t.basicDetails.batchName:"--"}},{key:"getDiscount",value:function(e){var t=this.discounts.find((function(t){return t._id===e}));return t?t.offerName+" ("+t.code+" - "+t.discountAmount+("percentage"===t.discountType?"%":".00")+")":"--"}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route,replaceUrl:!0})}},{key:"ngOnDestroy",value:function(){}}])&&t(a.prototype,l),o&&t(a,o),n}(),Ce.\u0275fac=function(e){return new(e||Ce)(i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](o.Gb),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](h.a),i["\u0275\u0275directiveInject"](g.a),i["\u0275\u0275directiveInject"](v.a),i["\u0275\u0275directiveInject"](C.a),i["\u0275\u0275directiveInject"](f.c),i["\u0275\u0275directiveInject"](f.a))},Ce.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ce,selectors:[["ngx-add-student-course"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](b,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.stepper=n.first)},decls:1,vars:1,consts:[[4,"ngIf"],["type","button","nbButton","","size","small","status","warning",1,"float-right",3,"click"],[1,""],[3,"linear","disableStepNavigation"],["stepper",""],["label","Course Details",3,"stepControl"],[1,"",3,"formGroup","submit"],[1,"row"],[1,"col-md-4"],[1,"form-control-group"],["for","input-student-course",1,"label"],["id","input-student-course","name","course","formControlName","course","placeholder","Select Course","fullWidth","",3,"status","selectedChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","input-student-batch",1,"label"],["id","input-student-batch","name","batch","formControlName","batch","placeholder","Select Batch","fullWidth","",3,"status","selectedChange"],["for","input-roll-number",1,"label"],["type","number","nbInput","","id","input-roll-number","name","rollNumber","formControlName","rollNumber","min","1","placeholder","Roll Number","fullWidth","",3,"status","input"],["for","input-student-discount",1,"label"],["id","input-student-discount","name","discount","formControlName","discount","placeholder","Select Discount","fullWidth","",3,"selectedChange"],["for","input-additional-discount-type",1,"label"],["id","input-additional-discount-type","name","additionalDiscountType","formControlName","additionalDiscountType","placeholder","Select Discount Type","fullWidth","",3,"selected","selectedChange"],["for","input-discount-amount",1,"label"],["type","number","nbInput","","id","input-discount-amount","name","additionalDiscountAmount","formControlName","additionalDiscountAmount","placeholder","Discount Amount","min","0","fullWidth","",3,"status","input"],[1,"col-md-6"],["for","input-activation-date",1,"label"],["type","date","nbInput","","id","input-activation-date","name","activationDate","formControlName","activationDate","placeholder","Activation Date","fullWidth","",3,"status"],["for","input-net-payable",1,"label"],["type","number","nbInput","","id","input-net-payable","name","netPayable","formControlName","netPayable","placeholder","Net Payable","min","0","fullWidth","","disabled","true",3,"status"],[1,"col-md-12","text-right"],["nbButton","","size","small","type","submit"],["icon","arrow-ios-forward-outline"],["label","Course Fee Details",3,"stepControl"],[1,"step-container",3,"formGroup","ngSubmit"],["for","input-date",1,"label"],["type","date","nbInput","","id","input-date","name","date","formControlName","date","placeholder","Date","fullWidth","",3,"status"],["for","input-course-installment-type",1,"label"],["id","input-course-installment-type","name","installmentType","formControlName","installmentType","placeholder","Select Installment Type","fullWidth","",3,"status","selectedChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["for","input-noOfInstallments",1,"label"],["type","number","nbInput","","id","input-noOfInstallments","name","noOfInstallments","formControlName","noOfInstallments","placeholder","Number of Installments","min","0","fullWidth","",3,"status","input"],["for","input-pendingAmount",1,"label"],["type","number","nbInput","","id","input-pendingAmount","name","pendingAmount","formControlName","pendingAmount","placeholder","Pending Amount","min","0","fullWidth","","disabled","true",3,"status"],["for","input-amountCollected",1,"label"],["type","number","nbInput","","id","input-amountCollected","name","amountCollected","formControlName","amountCollected","placeholder","Amount Collected","min","0","fullWidth","","disabled","true",3,"status"],["for","input-totalAmount",1,"label"],["type","number","nbInput","","id","input-totalAmount","name","totalAmount","formControlName","totalAmount","placeholder","Total Amount","min","0","fullWidth","","disabled","true",3,"status"],[1,"col-6","text-left"],["type","button","nbButton","","size","small",1,"",3,"click"],["icon","arrow-ios-back-outline"],[1,"col-6","text-right"],["label","Installment Details",3,"stepControl"],[1,"col-md-12"],["class","table-responsive",4,"ngIf","ngIfElse"],["noInstallments",""],["label","Submit"],[1,"step-container"],[1,"table-responsive"],[1,"table","table-bordered"],["colspan","2"],[1,"table","table-sm","table-bordered"],[4,"ngFor","ngForOf"],["type","button","nbButton","","size","small",1,"",3,"disabled","click"],["nbButton","","size","small","nbSpinnerStatus","primary","nbSpinnerSize","small",3,"disabled","nbSpinner","click"],[3,"value"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],[3,"formGroup"],["type","date","nbInput","","formControlName","installmentDate","placeholder","Installment Date","fullWidth","",3,"id","name","min","max","status"],["type","number","nbInput","","formControlName","installmentAmount","placeholder","Installment Amount","fullWidth","",3,"id","name","min","max","status","input"],["type","number","nbInput","","formControlName","amountPending","placeholder","Pending Amount","fullWidth","","disabled","true",3,"id","name","min","max","status"],[1,"mt-4","text-center"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,ve,256,56,"nb-card",0),2&e&&i["\u0275\u0275property"]("ngIf",!t.loading)},directives:[s.n,o.y,o.A,o.v,o.x,o.vb,o.ub,r.v,r.n,r.g,o.nb,r.m,r.e,o.gb,s.m,r.q,o.Q,r.a,o.N,o.sb],pipes:[s.w],styles:[""]}),Ce)},{path:"page-not-found",loadChildren:function(){return l.e(0).then(l.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],Ie=((be=function t(){e(this,t)}).\u0275mod=i["\u0275\u0275defineNgModule"]({type:be}),be.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||be)},imports:[[f.g.forChild(Se)],f.g]}),be),Fe=((fe=function t(){e(this,t)}).\u0275mod=i["\u0275\u0275defineNgModule"]({type:fe}),fe.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||fe)},imports:[[s.c,Ie,o.B,o.P,o.w,o.R,o.tb,o.wb,o.E,o.M,o.ob,r.s]]}),fe)}}])}();
//# sourceMappingURL=20-es5.7e64c651a8d21a353e2c.js.map