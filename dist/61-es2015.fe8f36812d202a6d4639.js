(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"uk+c":function(e,t,n){"use strict";n.r(t);var r=n("PCNd"),o=n("ofXK"),a=n("fXoL"),i=n("aceb"),l=n("fRyE");let s=(()=>{class e{constructor(e){this.ref=e}ngOnInit(){}close(){this.ref.close(!1)}agree(){this.ref.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](i.I))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-terms-and-conditions"]],decls:10,vars:0,consts:[[1,"terms-and-conditions-box"],[1,"row"],[1,"col-12"],["type","button","nbButton","","size","small","status","success",1,"float-right","ml-3",3,"click"],["type","button","nbButton","","size","small","status","basic",1,"float-right","ml-3",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"nb-card",0),a["\u0275\u0275elementStart"](1,"nb-card-body"),a["\u0275\u0275element"](2,"ngx-terms-conditions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"nb-card-footer"),a["\u0275\u0275elementStart"](4,"div",1),a["\u0275\u0275elementStart"](5,"div",2),a["\u0275\u0275elementStart"](6,"button",3),a["\u0275\u0275listener"]("click",(function(){return t.agree()})),a["\u0275\u0275text"](7," Agree "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"button",4),a["\u0275\u0275listener"]("click",(function(){return t.close()})),a["\u0275\u0275text"](9," Disagree "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[i.x,i.w,l.a,i.y,i.u],styles:[".terms-and-conditions-box[_ngcontent-%COMP%]{width:60vw;height:75vh;overflow:auto}@media only screen and (max-width:1200px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:65vw;height:80vh}}@media only screen and (max-width:840px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:70vw;height:85vh}}@media only screen and (max-width:420px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:90vw;height:90vh}}@media only screen and (max-width:300px){.terms-and-conditions-box[_ngcontent-%COMP%]{width:95vw;height:95vh}}"]}),e})();var m=n("3b5Z"),d=n("nwtg"),c=n("3Pt+"),u=n("5hth"),p=n("AytR"),f=n("fvxu"),h=n("tyNb");function g(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Full name is required! "),a["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Full name should contains minimum 5 "),a["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,g,2,0,"p",25),a["\u0275\u0275template"](2,v,2,0,"p",25),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("name").errors?null:e.form.get("name").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("name").errors?null:e.form.get("name").errors.minlength)}}function x(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Email is required! "),a["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Email should be the real one! "),a["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Email Already registered, Please try another Email! "),a["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,x,2,0,"p",25),a["\u0275\u0275template"](2,b,2,0,"p",25),a["\u0275\u0275template"](3,S,2,0,"p",25),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("email").errors?null:e.form.get("email").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("email").errors?null:e.form.get("email").errors.email),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.userExist)}}function y(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Phone is required! "),a["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Phone should contain 10 digits "),a["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,y,2,0,"p",25),a["\u0275\u0275template"](2,C,2,0,"p",25),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("phone").errors?null:e.form.get("phone").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",(null==e.form.get("phone").errors?null:e.form.get("phone").errors.pattern)||(null==e.form.get("phone").errors?null:e.form.get("phone").errors.minlength))}}function P(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Password is required! "),a["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Password should contain minimum 7 characters "),a["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,P,2,0,"p",25),a["\u0275\u0275template"](2,q,2,0,"p",25),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("password").errors?null:e.form.get("password").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("password").errors?null:e.form.get("password").errors.minlength)}}function k(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Password confirmation is required! "),a["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," Password does not match the confirm password. "),a["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,k,2,0,"p",25),a["\u0275\u0275template"](2,T,2,0,"p",25),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("confirmPassword").errors?null:e.form.get("confirmPassword").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.form.get("password").value!=e.form.get("confirmPassword").value&&!(null!=e.form.get("confirmPassword").errors&&e.form.get("confirmPassword").errors.required))}}function j(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"nb-option",27),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"uppercase"),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275property"]("value",e),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,e))}}function N(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p",26),a["\u0275\u0275text"](1," User Role is required! "),a["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,N,2,0,"p",25),a["\u0275\u0275elementContainerEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.form.get("userRole").errors?null:e.form.get("userRole").errors.required)}}const O=[{path:"",component:(()=>{class e{constructor(e,t,n,r,o,a,i,l){this.authService=e,this.roleService=t,this.toastrService=n,this.router=r,this.route=o,this.encryptService=a,this.userService=i,this.dialogService=l}ngOnInit(){this.loading=!0,this.roles=this.roleService.getUserRoles(),this.userExist=!1,this.form=new c.f({name:new c.d(null,{validators:[c.u.required,c.u.minLength(5),c.u.maxLength(30)]}),email:new c.d(null,{validators:[c.u.required,c.u.email]}),phone:new c.d(null,{validators:[c.u.required,c.u.minLength(10),c.u.maxLength(10)]}),password:new c.d(null,{validators:[c.u.required,c.u.minLength(7),c.u.maxLength(20)]}),confirmPassword:new c.d(null,{validators:[c.u.required,c.u.minLength(7),c.u.maxLength(20)]}),userRole:new c.d(this.roles[0],{validators:[c.u.required]})},{validators:this.passwordValidator.bind(this)}),this.loading=!1}passwordValidator(e){return e.value.password!==e.value.confirmPassword?{invalidConfirmPassword:!0}:null}openTermsAndConditions(){this.dialogService.open(s,{closeOnEsc:!0,hasScroll:!1}).onClose.subscribe(e=>{this.termsConditions=e})}checkUser(){this.form.get("email").valid&&this.userService.checkUser(this.form.value.email).subscribe(e=>{this.userExist=e.exist},e=>{})}acceptTermsConditions(e){this.termsConditions=e}register(){if(this.form.markAllAsTouched(),!this.form.valid)return void this.showToastr("top-right","danger","All Fields are required");if(this.userExist)return void this.showToastr("top-right","danger","This user Already exist, Please try another Email");if(!this.termsConditions)return this.showToastr("top-right","warning","Accept Terms & Conditions"),void this.openTermsAndConditions();this.loading=!0;const e={name:this.form.value.name.toLowerCase(),userRole:this.form.value.userRole,email:this.form.value.email,phone:this.form.value.phone,password:this.encryptService.encrypt(this.form.value.password,p.a.encKey)};let t;t=this.authService.createUser(e),t.subscribe(e=>{this.loading=!1,this.showToastr("top-right","success","New User Created Successfully"),this.router.navigate(["/login"],{relativeTo:this.route})},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](i.Db),a["\u0275\u0275directiveInject"](h.c),a["\u0275\u0275directiveInject"](h.a),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](i.J))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-register"]],decls:53,vars:15,consts:[[1,"row"],[1,"col-md-6","col-sm-10","col-12","mx-auto"],["id","title",1,"title"],[3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["type","text","nbInput","","id","input-name","name","fullName","placeholder","Full name","formControlName","name","minlength","5","maxlength","30","autofocus","","fullWidth","",3,"status"],[4,"ngIf"],["for","input-email",1,"label"],["type","email","nbInput","","id","input-email","name","email","formControlName","email","placeholder","Email address","fullWidth","",3,"status","input"],["for","input-phone",1,"label"],["type","number","nbInput","","id","input-phone","name","phone","formControlName","phone","placeholder","phone","minlength","10","maxlength","10","min","0","fullWidth","",3,"status"],["for","input-password",1,"label"],["type","password","nbInput","","id","input-password","name","password","formControlName","password","placeholder","Password","minlength","7","maxlength","20","fullWidth","",3,"status"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","formControlName","confirmPassword","placeholder","Confirm Password","minlength","5","maxlength","30","fullWidth","",3,"status"],["for","input-role",1,"label"],["type","text","selected","institute","id","input-role","name","userRole","placeholder","Select User Role","formControlName","userRole","fullWidth","",3,"status"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control-group","accept-group"],["name","terms",3,"checked","checkedChange"],[1,"pointer",3,"click"],["nbButton","","fullWidth","","status","primary"],["aria-label","Sign in",1,"another-action","text-right"],["routerLink","/login",1,"text-link"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"nb-card"),a["\u0275\u0275elementStart"](3,"nb-card-body"),a["\u0275\u0275elementStart"](4,"h1",2),a["\u0275\u0275text"](5,"Register"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"form",3),a["\u0275\u0275listener"]("ngSubmit",(function(){return t.register()})),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275elementStart"](8,"label",5),a["\u0275\u0275text"](9,"Full name:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"input",6),a["\u0275\u0275template"](11,w,3,2,"ng-container",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",4),a["\u0275\u0275elementStart"](13,"label",8),a["\u0275\u0275text"](14,"Email address:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"input",9),a["\u0275\u0275listener"]("input",(function(){return t.checkUser()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](16,E,4,3,"ng-container",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"div",4),a["\u0275\u0275elementStart"](18,"label",10),a["\u0275\u0275text"](19,"Phone:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"input",11),a["\u0275\u0275template"](21,I,3,2,"ng-container",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"div",4),a["\u0275\u0275elementStart"](23,"label",12),a["\u0275\u0275text"](24,"Password:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](25,"input",13),a["\u0275\u0275template"](26,R,3,2,"ng-container",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",4),a["\u0275\u0275elementStart"](28,"label",14),a["\u0275\u0275text"](29,"Repeat password:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"input",15),a["\u0275\u0275template"](31,A,3,2,"ng-container",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",4),a["\u0275\u0275elementStart"](33,"label",16),a["\u0275\u0275text"](34,"User Role:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"nb-select",17),a["\u0275\u0275template"](36,j,3,4,"nb-option",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](37,L,2,1,"ng-container",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](38,"br"),a["\u0275\u0275elementStart"](39,"div",19),a["\u0275\u0275elementStart"](40,"nb-checkbox",20),a["\u0275\u0275listener"]("checkedChange",(function(e){return t.acceptTermsConditions(e)})),a["\u0275\u0275text"](41," Agree to "),a["\u0275\u0275elementStart"](42,"a",21),a["\u0275\u0275listener"]("click",(function(){return t.openTermsAndConditions()})),a["\u0275\u0275elementStart"](43,"strong"),a["\u0275\u0275text"](44,"Terms & Conditions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](45,"br"),a["\u0275\u0275elementStart"](46,"button",22),a["\u0275\u0275text"](47," Register "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](48,"br"),a["\u0275\u0275elementStart"](49,"section",23),a["\u0275\u0275text"](50," Already have an account? "),a["\u0275\u0275elementStart"](51,"a",24),a["\u0275\u0275text"](52,"Log in"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.form),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("status",t.form.get("name").touched?t.form.get("name").invalid?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.form.get("name").invalid&&t.form.get("name").touched),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("status",t.form.get("email").touched?t.form.get("email").invalid||t.userExist?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",(t.form.get("email").invalid||t.userExist)&&t.form.get("email").touched),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("status",t.form.get("phone").touched?t.form.get("phone").invalid?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.form.get("phone").invalid&&t.form.get("phone").touched),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("status",t.form.get("password").touched?t.form.get("password").invalid?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.form.get("password").invalid&&t.form.get("password").touched),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("status",t.form.get("confirmPassword").touched?t.form.get("confirmPassword").invalid||t.form.get("password").value!=t.form.get("confirmPassword").value?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.form.get("confirmPassword").invalid&&t.form.get("confirmPassword").touched),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("status",t.form.get("userRole").touched?t.form.get("userRole").invalid?"danger":"success":"basic"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.roles),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.form.get("userRole").invalid&&t.form.get("userRole").touched),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("checked",t.termsConditions))},directives:[i.x,i.w,c.v,c.n,c.g,i.P,c.a,c.m,c.e,c.j,c.i,o.n,c.q,i.mb,o.m,i.C,i.u,h.f,i.fb],pipes:[o.w],styles:["",""]}),e})(),canActivate:[]},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let M=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[h.g.forChild(O)],h.g]}),e})();var F=n("vTDv");n.d(t,"RegisterModule",(function(){return U}));let U=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,M,c.h,c.s,F.a,i.A,i.v,i.O,i.v,i.n,i.Q,i.D,i.p,i.nb,r.a]]}),e})()}}]);