(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{Ylal:function(t,e,c){"use strict";c.r(e);var s=c("aceb"),i=c("ofXK"),a=c("IAlr"),r=c("FYcy"),o=c("EQut"),n=c("fXoL"),b=c("tyNb");function l(t,e){if(1&t&&(n.Wb(0,"small"),n.Cc(1),n.Vb()),2&t){const t=n.gc();n.Eb(1),n.Ec("of ",t.course.basicDetails.courseName,"")}}function u(t,e){if(1&t&&(n.Wb(0,"nb-option",16),n.Cc(1),n.Vb()),2&t){const t=e.$implicit;n.mc("value",t._id),n.Eb(1),n.Dc(t.subject)}}function d(t,e){if(1&t){const t=n.Xb();n.Wb(0,"nb-select",13),n.ec("selectedChange",(function(e){return n.uc(t),n.gc().getCourseMaterials(e)})),n.Wb(1,"nb-option",14),n.Cc(2,"All"),n.Vb(),n.Ac(3,u,2,2,"nb-option",15),n.Vb()}if(2&t){const t=n.gc();n.mc("selected",t.subject),n.Eb(3),n.mc("ngForOf",t.course.subjects)}}function h(t,e){if(1&t){const t=n.Xb();n.Wb(0,"tr"),n.Wb(1,"td"),n.Cc(2),n.Vb(),n.Wb(3,"td"),n.Cc(4),n.Vb(),n.Wb(5,"td"),n.Cc(6),n.Vb(),n.Wb(7,"td"),n.Wb(8,"button",23),n.ec("click",(function(){n.uc(t);const c=e.$implicit;return n.gc(3).viewCourseMaterial(c)})),n.Cc(9," View "),n.Vb(),n.Vb(),n.Wb(10,"td"),n.Wb(11,"button",24),n.ec("click",(function(){n.uc(t);const c=e.$implicit,s=e.index;return n.gc(3).changeCourseMaterialStatus(c._id,!c.status,s)})),n.Cc(12),n.Vb(),n.Vb(),n.Wb(13,"td"),n.Wb(14,"button",25),n.ec("click",(function(){n.uc(t);const c=e.$implicit;return n.gc(3).deleteCourseMaterial(c._id)})),n.Cc(15," Delete "),n.Vb(),n.Vb(),n.Vb()}if(2&t){const t=e.$implicit,c=e.index,s=n.gc(3);n.Eb(2),n.Dc(c+1),n.Eb(2),n.Dc(t.title),n.Eb(2),n.Dc(s.getSubject(t.subject)),n.Eb(5),n.mc("status",t.status?"danger":"warning"),n.Eb(1),n.Ec(" ",t.status?"Deactivate":"Activate"," ")}}function g(t,e){if(1&t&&(n.Wb(0,"div",19),n.Wb(1,"table",20),n.Wb(2,"thead"),n.Wb(3,"tr"),n.Wb(4,"th"),n.Cc(5,"#"),n.Vb(),n.Wb(6,"th"),n.Cc(7,"Title"),n.Vb(),n.Wb(8,"th"),n.Cc(9,"Subject"),n.Vb(),n.Wb(10,"th",21),n.Cc(11,"Action"),n.Vb(),n.Vb(),n.Vb(),n.Wb(12,"tbody"),n.Ac(13,h,16,5,"tr",22),n.Vb(),n.Vb(),n.Vb()),2&t){const t=n.gc(2);n.Eb(13),n.mc("ngForOf",t.courseMaterials)}}function f(t,e){1&t&&(n.Wb(0,"p",26),n.Cc(1,"No Course Material Available"),n.Vb())}function v(t,e){if(1&t&&(n.Ub(0),n.Ac(1,g,14,1,"div",17),n.Ac(2,f,2,0,"ng-template",null,18,n.Bc),n.Tb()),2&t){const t=n.sc(3),e=n.gc();n.Eb(1),n.mc("ngIf",e.courseMaterials.length>0)("ngIfElse",t)}}function C(t,e){1&t&&(n.Wb(0,"p",26),n.Cc(1,"Loading..."),n.Vb())}const p=[{path:"",component:(()=>{class t{constructor(t,e,c,s,i,a){this.branchService=t,this.courseService=e,this.courseMaterialService=c,this.toastrService=s,this.router=i,this.route=a}ngOnInit(){this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.subject="",this.courseMaterials=[],this.courseService.getCourseData().subscribe(t=>{this.course=t,this.course?this.getCourseMaterials(this.subject):this.router.navigate(["../"],{relativeTo:this.route})})):this.router.navigate(["../"],{relativeTo:this.route})}getCourseMaterials(t){this.loading=!0,this.subject=t,this.courseMaterialService.getCourseMaterials(this.branchId,this.course.basicDetails.category,this.course._id,t).subscribe(t=>{this.courseMaterials=t,this.loading=!1},t=>{this.loading=!1})}addCourseMaterial(){this.router.navigate(["../add"],{relativeTo:this.route})}deleteCourseMaterial(t,e){this.loading=!0,this.courseMaterialService.deleteCourseMaterial(t).subscribe(t=>{this.courseMaterials.splice(e,1),this.showToastr("top-right","success","CourseMaterial Deleted Successfully!"),this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}viewCourseMaterial(t){this.courseMaterialService.setCourseMaterialId(t._id),this.courseMaterialService.setCourseMaterialData(t),this.router.navigate(["../view"],{relativeTo:this.route})}getSubject(t){const e=this.course.subjects.find(e=>e._id===t);return e?e.subject:"--"}changeCourseMaterialStatus(t,e,c){this.loading=!0,this.courseMaterialService.changeCourseMaterialStatus(t,e).subscribe(t=>{this.courseMaterials[c].status=e,this.showToastr("top-right","success",`CourseMaterial ${e?"Activated":"Deactivated"} Successfully!`),this.loading=!1},t=>{this.showToastr("top-right","danger",t),this.loading=!1})}showToastr(t,e,c){this.toastrService.show(e,c,{position:t,status:e})}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(o.a),n.Qb(a.a),n.Qb(r.a),n.Qb(s.xb),n.Qb(b.c),n.Qb(b.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["ngx-manage-course-material"]],decls:25,vars:4,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[4,"ngIf"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"col-md-9"],[1,"col-md-3"],["id","select-subject","name","subject","fullWidth","","placeholder","Select Subject",3,"selected","selectedChange",4,"ngIf"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],["id","select-subject","name","subject","fullWidth","","placeholder","Select Subject",3,"selected","selectedChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","table-responsive",4,"ngIf","ngIfElse"],["CourseMaterials",""],[1,"table-responsive"],[1,"table"],["colspan","3"],[4,"ngFor","ngForOf"],["nbButton","","status","info","size","small",3,"click"],["nbButton","","size","small",3,"status","click"],["nbButton","","status","danger","size","small",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(n.Wb(0,"nb-card"),n.Wb(1,"nb-card-header"),n.Wb(2,"div",0),n.Wb(3,"div",1),n.Wb(4,"h3"),n.Cc(5," Course Material "),n.Ac(6,l,2,1,"small",2),n.Vb(),n.Vb(),n.Wb(7,"div",3),n.Wb(8,"button",4),n.ec("click",(function(){return e.addCourseMaterial()})),n.Cc(9," Add Course Material "),n.Rb(10,"nb-icon",5),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(11,"nb-card"),n.Wb(12,"nb-card-header"),n.Wb(13,"div",0),n.Wb(14,"div",6),n.Wb(15,"h5"),n.Cc(16,"Select Subject"),n.Vb(),n.Vb(),n.Wb(17,"div",7),n.Ac(18,d,4,2,"nb-select",8),n.Vb(),n.Vb(),n.Vb(),n.Wb(19,"nb-card-body",9),n.Wb(20,"div",0),n.Wb(21,"div",10),n.Ac(22,v,4,2,"ng-container",11),n.Ac(23,C,2,0,"ng-template",null,12,n.Bc),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&t){const t=n.sc(24);n.Eb(6),n.mc("ngIf",e.course),n.Eb(12),n.mc("ngIf",e.course),n.Eb(4),n.mc("ngIf",!e.loading)("ngIfElse",t)}},directives:[s.x,s.z,i.n,s.u,s.L,s.w,s.jb,s.eb,i.m],styles:[""]}),t})()},{path:"page-not-found",loadChildren:()=>c.e(0).then(c.bind(null,"DeSt")).then(t=>t.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let W=(()=>{class t{}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(e){return new(e||t)},imports:[[b.g.forChild(p)],b.g]}),t})();c.d(e,"ManageCourseMaterialModule",(function(){return m}));let m=(()=>{class t{}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(e){return new(e||t)},imports:[[i.c,W,s.A,s.v,s.N,s.Ab,s.kb]]}),t})()}}]);