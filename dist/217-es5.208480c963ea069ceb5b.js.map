{"version":3,"sources":["webpack:///src/app/institute/home/home.component.html","webpack:///src/app/institute/home/home-routing.module.ts","webpack:///src/app/institute/home/home.component.ts","webpack:///src/app/institute/home/home.module.ts"],"names":["HomeComponent","HomeRoutingModule","HomeModule","routes","path","component","branchService","membershipService","menuService","router","route","this","loading","branches","hideMenu","setBranchId","getBranches","subscribe","setBranchesData","err","address","address1","address2","city","pinCode","state","id","navigate","relativeTo","setMembershipType","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","forChild"],"mappings":"6gBAAA,yCACE,yCACE,2CACE,gDACE,sCAAI,kCAAmD,8BACvD,sCAAI,8CAAkB,8BACtB,iCACA,4CACE,4CACF,8BACF,8BACF,8BACF,8BACF,+B,sBAkCA,2CACE,kDACE,yCACE,yCACE,4CAOE,0CAAe,yCAAa,8BAC5B,wCACF,8BACA,sCAAI,yCAAa,8BACnB,8BACF,8BACF,8BACF,+B,gEA2BQ,6CAME,2LAEA,oCACF,+B,gEAEA,6CAME,6LAEA,0CACF,+B,yBA5CN,0CACE,8CACE,qDACE,0CAKA,yCAKF,8BACA,gDACE,0CACE,sCAAI,yB,qCAAgD,8BACpD,sCACE,0BAAyB,kCACzB,0BACF,8BACF,8BACF,8BACA,sDACE,gDAWA,gDAUF,8BACF,8BACF,+B,uBA3CQ,2FAA8C,sCAO9C,wFAKI,wHAEF,qFACA,gGAMF,uEAWA,yE,yBArCV,yCACE,8CAgDF,+B,0CAhDwC,6EChExC,ICSaA,EDcAC,EEGAC,EF1BPC,EAAiB,CACrB,CACEC,KAAM,GACNC,WCMSL,EAAN,WAKL,WACUM,EACAC,EACAC,EACAC,EACAC,aAJA,KAAAJ,gBACA,KAAAC,oBACA,KAAAC,cACA,KAAAC,SACA,KAAAC,Q,UAVL,O,EAAA,G,EAAA,kCAaK,WACRC,KAAKC,WACLD,KAAKE,SAAW,GAChBF,KAAKH,YAAYM,WACjBH,KAAKL,cAAcS,YAAY,IAE/BJ,KAAKL,cAAcU,cAAcC,WAC9BJ,YACCF,EAAKE,SAAWA,EAChBF,EAAKL,cAAcY,gBAAgBL,GACnCF,EAAKC,cAENO,YACCR,EAAKC,gBA1BN,iCA+BMQ,GAGT,OACEA,EAAQC,SACR,MAJeD,EAAQE,SAAWF,EAAQE,SAAW,KAAO,IAM5DF,EAAQG,KACR,MACAH,EAAQI,QACR,KACAJ,EAAQK,QA1CP,mCA8CQC,GACXf,KAAKL,cAAcS,YAAYW,GAC/Bf,KAAKF,OAAOkB,SAAS,CAAC,uBAAwB,CAAEC,WAAYjB,KAAKD,UAhD9D,qCAmDUgB,GACbf,KAAKL,cAAcS,YAAYW,GAC/Bf,KAAKJ,kBAAkBsB,kBAAkB,SACzClB,KAAKF,OAAOkB,SAAS,CAAC,uBAAwB,CAAEC,WAAYjB,KAAKD,a,2BAtD9D,K,sCAAMV,GAAa,gM,mDAAbA,EAAa,u+BFb1B,4CA+CA,gDAoBA,4C,MAnEiB,wDA+CR,kFAoBQ,oF,4KCzDf,CACEI,KAAM,iBACN0B,aAAc,kBACZ,iCAA4DC,MAAMC,YAACA,OAAKA,EAAEC,wBAG9E,CACE7B,KAAM,KACN8B,WAAY,iBACZC,UAAW,SAQR,IAAMlC,EAAN,yB,gDAAMA,I,+EAAAA,IAAiB,SAHnB,CAAC,IAAamC,SAASjC,IACtB,O,eEKL,IAAMD,EAAN,yB,gDAAMA,I,+EAAAA,IAAU,SAZZ,CACP,IACA,EACA,IACA,IACA,IACA,IACA,KACA,KACA,Q","file":"x","sourcesContent":["<div class=\"row\" *ngIf=\"branches.length === 0\">\r\n  <div class=\"col-md-10 col-12 mx-auto text-center\">\r\n    <nb-card>\r\n      <nb-card-body>\r\n        <h1><i class=\"fa fa-university\" aria-hidden=\"true\"></i></h1>\r\n        <h2>No Institute Added</h2>\r\n        <br />\r\n        <button nbButton size=\"small\" status=\"primary\" routerLink=\"../membership-plans\">\r\n          Add Institute\r\n        </button>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n\r\n<!-- <ng-container *ngIf=\"branches.length > 0\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-3 col-sm-6\">\r\n      <nb-card status=\"success\">\r\n        <nb-card-header>\r\n          <h5 class=\"text-white\">Branches <small>0</small></h5>\r\n        </nb-card-header>\r\n      </nb-card>\r\n    </div>\r\n    <div class=\"col-md-3 col-sm-6\">\r\n      <nb-card status=\"info\">\r\n        <nb-card-header>\r\n          <h5 class=\"text-white\">Branches <small>0</small></h5>\r\n        </nb-card-header>\r\n      </nb-card>\r\n    </div>\r\n    <div class=\"col-md-3 col-sm-6\">\r\n      <nb-card status=\"warning\">\r\n        <nb-card-header>\r\n          <h5 class=\"text-white\">Branches <small>0</small></h5>\r\n        </nb-card-header>\r\n      </nb-card>\r\n    </div>\r\n    <div class=\"col-md-3 col-sm-6\">\r\n      <nb-card status=\"danger\">\r\n        <nb-card-header>\r\n          <h5 class=\"text-white\">Branches <small>0</small></h5>\r\n        </nb-card-header>\r\n      </nb-card>\r\n    </div>\r\n  </div> -->\r\n\r\n<nb-card *ngIf=\"branches.length > 0\">\r\n  <nb-card-header>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <button\r\n          class=\"float-right\"\r\n          nbButton\r\n          size=\"small\"\r\n          status=\"warning\"\r\n          routerLink=\"../membership-plans\"\r\n        >\r\n          <span class=\"\">New Institute</span>\r\n          <nb-icon icon=\"plus-circle-outline\"></nb-icon>\r\n        </button>\r\n        <h3>My Institutes</h3>\r\n      </div>\r\n    </div>\r\n  </nb-card-header>\r\n</nb-card>\r\n\r\n<div class=\"row\" *ngIf=\"branches.length > 0\">\r\n  <div class=\"col-md-3 col-sm-4 col-12\" *ngFor=\"let branch of branches\">\r\n    <nb-card class=\"shadow-sm\">\r\n      <nb-card-header style=\"position: relative\">\r\n        <nb-badge\r\n          [text]=\"branch.status ? 'Active' : 'Inactive'\"\r\n          [status]=\"branch.status ? 'success' : 'danger'\"\r\n          position=\"top right\"\r\n        ></nb-badge>\r\n        <nb-user\r\n          class=\"text-center\"\r\n          size=\"medium\"\r\n          [name]=\"branch.basicDetails.branchName\"\r\n        ></nb-user>\r\n      </nb-card-header>\r\n      <nb-card-body>\r\n        <div class=\"text-center\">\r\n          <h4>{{ branch.basicDetails.branchName | uppercase }}</h4>\r\n          <p>\r\n            {{ branch.address.city }}<br />\r\n            +91 {{ branch.basicDetails.phone }}\r\n          </p>\r\n        </div>\r\n      </nb-card-body>\r\n      <nb-card-footer class=\"text-right\">\r\n        <button\r\n          *ngIf=\"branch.status\"\r\n          class=\"\"\r\n          nbButton\r\n          size=\"small\"\r\n          status=\"warning\"\r\n          (click)=\"manageBranch(branch._id)\"\r\n        >\r\n          Manage\r\n        </button>\r\n\r\n        <button\r\n          *ngIf=\"!branch.status\"\r\n          class=\"\"\r\n          nbButton\r\n          size=\"small\"\r\n          status=\"danger\"\r\n          (click)=\"activateBranch(branch._id)\"\r\n        >\r\n          Activate Now\r\n        </button>\r\n      </nb-card-footer>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n","import { HomeComponent } from './home.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeComponent,\n  },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../shared/page-not-found/page-not-found.module').then((m) => m.PageNotFoundModule),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomeRoutingModule {}\n","import { MembershipService } from './../../services/membership.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from './../../authentication/auth/auth-service/auth.service';\nimport { BranchService } from './../../services/branch.service';\nimport { BranchModel, BranchAddressModel } from './../../models/branch.model';\nimport { MenuService } from './../menu.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ngx-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent implements OnInit {\n  loading: boolean;\n\n  branches: BranchModel[];\n\n  constructor(\n    private branchService: BranchService,\n    private membershipService: MembershipService,\n    private menuService: MenuService,\n    private router: Router,\n    private route: ActivatedRoute,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = true;\n    this.branches = [];\n    this.menuService.hideMenu();\n    this.branchService.setBranchId('');\n\n    this.branchService.getBranches().subscribe(\n      (branches: BranchModel[]) => {\n        this.branches = branches;\n        this.branchService.setBranchesData(branches);\n        this.loading = false;\n      },\n      (err: any) => {\n        this.loading = false;\n      },\n    );\n  }\n\n  getAddress(address: BranchAddressModel) {\n    const address2 = address.address2 ? address.address2 + ', ' : '';\n\n    return (\n      address.address1 +\n      ', ' +\n      address2 +\n      address.city +\n      ' - ' +\n      address.pinCode +\n      ', ' +\n      address.state\n    );\n  }\n\n  manageBranch(id: string) {\n    this.branchService.setBranchId(id);\n    this.router.navigate(['../branch/dashboard'], { relativeTo: this.route });\n  }\n\n  activateBranch(id: string) {\n    this.branchService.setBranchId(id);\n    this.membershipService.setMembershipType('renew');\n    this.router.navigate(['../membership-plans'], { relativeTo: this.route });\n  }\n}\n","import { HomeComponent } from './home.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomeRoutingModule } from './home-routing.module';\n\nimport { ThemeModule } from './../../@theme/theme.module';\nimport {\n  NbCardModule,\n  NbButtonModule,\n  NbIconModule,\n  NbTooltipModule,\n  NbUserModule,\n  NbBadgeModule,\n} from '@nebular/theme';\n\n@NgModule({\n  declarations: [HomeComponent],\n  imports: [\n    CommonModule,\n    HomeRoutingModule,\n    ThemeModule,\n    NbCardModule,\n    NbIconModule,\n    NbButtonModule,\n    NbTooltipModule,\n    NbUserModule,\n    NbBadgeModule,\n  ],\n})\nexport class HomeModule {}\n"]}