function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var i=t[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{Ylal:function(e,t,c){"use strict";c.r(t);var i=c("aceb"),a=c("ofXK"),r=c("IAlr"),n=c("FYcy"),s=c("EQut"),o=c("fXoL"),u=c("tyNb");function l(e,t){if(1&e&&(o.Wb(0,"small"),o.Cc(1),o.Vb()),2&e){var c=o.gc();o.Eb(1),o.Ec("of ",c.course.basicDetails.courseName,"")}}function b(e,t){if(1&e&&(o.Wb(0,"nb-option",16),o.Cc(1),o.Vb()),2&e){var c=t.$implicit;o.mc("value",c._id),o.Eb(1),o.Dc(c.subject)}}function d(e,t){if(1&e){var c=o.Xb();o.Wb(0,"nb-select",13),o.ec("selectedChange",(function(e){return o.uc(c),o.gc().getCourseMaterials(e)})),o.Wb(1,"nb-option",14),o.Cc(2,"All"),o.Vb(),o.Ac(3,b,2,2,"nb-option",15),o.Vb()}if(2&e){var i=o.gc();o.mc("selected",i.subject),o.Eb(3),o.mc("ngForOf",i.course.subjects)}}function f(e,t){if(1&e){var c=o.Xb();o.Wb(0,"tr"),o.Wb(1,"td"),o.Cc(2),o.Vb(),o.Wb(3,"td"),o.Cc(4),o.Vb(),o.Wb(5,"td"),o.Cc(6),o.Vb(),o.Wb(7,"td"),o.Wb(8,"button",23),o.ec("click",(function(){o.uc(c);var e=t.$implicit;return o.gc(3).viewCourseMaterial(e)})),o.Cc(9," View "),o.Vb(),o.Vb(),o.Wb(10,"td"),o.Wb(11,"button",24),o.ec("click",(function(){o.uc(c);var e=t.$implicit,i=t.index;return o.gc(3).changeCourseMaterialStatus(e._id,!e.status,i)})),o.Cc(12),o.Vb(),o.Vb(),o.Wb(13,"td"),o.Wb(14,"button",25),o.ec("click",(function(){o.uc(c);var e=t.$implicit;return o.gc(3).deleteCourseMaterial(e._id)})),o.Cc(15," Delete "),o.Vb(),o.Vb(),o.Vb()}if(2&e){var i=t.$implicit,a=t.index,r=o.gc(3);o.Eb(2),o.Dc(a+1),o.Eb(2),o.Dc(i.title),o.Eb(2),o.Dc(r.getSubject(i.subject)),o.Eb(5),o.mc("status",i.status?"danger":"warning"),o.Eb(1),o.Ec(" ",i.status?"Deactivate":"Activate"," ")}}function h(e,t){if(1&e&&(o.Wb(0,"div",19),o.Wb(1,"table",20),o.Wb(2,"thead"),o.Wb(3,"tr"),o.Wb(4,"th"),o.Cc(5,"#"),o.Vb(),o.Wb(6,"th"),o.Cc(7,"Title"),o.Vb(),o.Wb(8,"th"),o.Cc(9,"Subject"),o.Vb(),o.Wb(10,"th",21),o.Cc(11,"Action"),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"tbody"),o.Ac(13,f,16,5,"tr",22),o.Vb(),o.Vb(),o.Vb()),2&e){var c=o.gc(2);o.Eb(13),o.mc("ngForOf",c.courseMaterials)}}function g(e,t){1&e&&(o.Wb(0,"p",26),o.Cc(1,"No Course Material Available"),o.Vb())}function v(e,t){if(1&e&&(o.Ub(0),o.Ac(1,h,14,1,"div",17),o.Ac(2,g,2,0,"ng-template",null,18,o.Bc),o.Tb()),2&e){var c=o.sc(3),i=o.gc();o.Eb(1),o.mc("ngIf",i.courseMaterials.length>0)("ngIfElse",c)}}function C(e,t){1&e&&(o.Wb(0,"p",26),o.Cc(1,"Loading..."),o.Vb())}var p,m,W=[{path:"",component:(p=function(){function e(t,c,i,a,r,n){_classCallCheck(this,e),this.branchService=t,this.courseService=c,this.courseMaterialService=i,this.toastrService=a,this.router=r,this.route=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.branchId=this.branchService.getBranchId(),this.branchId?(this.subject="",this.courseMaterials=[],this.courseService.getCourseData().subscribe((function(t){e.course=t,e.course?e.getCourseMaterials(e.subject):e.router.navigate(["../"],{relativeTo:e.route})}))):this.router.navigate(["../"],{relativeTo:this.route})}},{key:"getCourseMaterials",value:function(e){var t=this;this.loading=!0,this.subject=e,this.courseMaterialService.getCourseMaterials(this.branchId,this.course.basicDetails.category,this.course._id,e).subscribe((function(e){t.courseMaterials=e,t.loading=!1}),(function(e){t.loading=!1}))}},{key:"addCourseMaterial",value:function(){this.router.navigate(["../add"],{relativeTo:this.route})}},{key:"deleteCourseMaterial",value:function(e,t){var c=this;this.loading=!0,this.courseMaterialService.deleteCourseMaterial(e).subscribe((function(e){c.courseMaterials.splice(t,1),c.showToastr("top-right","success","CourseMaterial Deleted Successfully!"),c.loading=!1}),(function(e){c.showToastr("top-right","danger",e),c.loading=!1}))}},{key:"viewCourseMaterial",value:function(e){this.courseMaterialService.setCourseMaterialId(e._id),this.courseMaterialService.setCourseMaterialData(e),this.router.navigate(["../view"],{relativeTo:this.route})}},{key:"getSubject",value:function(e){var t=this.course.subjects.find((function(t){return t._id===e}));return t?t.subject:"--"}},{key:"changeCourseMaterialStatus",value:function(e,t,c){var i=this;this.loading=!0,this.courseMaterialService.changeCourseMaterialStatus(e,t).subscribe((function(e){i.courseMaterials[c].status=t,i.showToastr("top-right","success","CourseMaterial ".concat(t?"Activated":"Deactivated"," Successfully!")),i.loading=!1}),(function(e){i.showToastr("top-right","danger",e),i.loading=!1}))}},{key:"showToastr",value:function(e,t,c){this.toastrService.show(t,c,{position:e,status:t})}}]),e}(),p.\u0275fac=function(e){return new(e||p)(o.Qb(s.a),o.Qb(r.a),o.Qb(n.a),o.Qb(i.xb),o.Qb(u.c),o.Qb(u.a))},p.\u0275cmp=o.Kb({type:p,selectors:[["ngx-manage-course-material"]],decls:25,vars:4,consts:[[1,"row"],[1,"col-md-9","col-sm-8"],[4,"ngIf"],[1,"col-md-3","col-sm-4"],["nbButton","","status","primary","fullWidth","","size","small",3,"click"],["icon","plus-circle-outline"],[1,"col-md-9"],[1,"col-md-3"],["id","select-subject","name","subject","fullWidth","","placeholder","Select Subject",3,"selected","selectedChange",4,"ngIf"],[1,"body-container"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["loadingData",""],["id","select-subject","name","subject","fullWidth","","placeholder","Select Subject",3,"selected","selectedChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","table-responsive",4,"ngIf","ngIfElse"],["CourseMaterials",""],[1,"table-responsive"],[1,"table"],["colspan","3"],[4,"ngFor","ngForOf"],["nbButton","","status","info","size","small",3,"click"],["nbButton","","size","small",3,"status","click"],["nbButton","","status","danger","size","small",3,"click"],[1,"text-center"]],template:function(e,t){if(1&e&&(o.Wb(0,"nb-card"),o.Wb(1,"nb-card-header"),o.Wb(2,"div",0),o.Wb(3,"div",1),o.Wb(4,"h3"),o.Cc(5," Course Material "),o.Ac(6,l,2,1,"small",2),o.Vb(),o.Vb(),o.Wb(7,"div",3),o.Wb(8,"button",4),o.ec("click",(function(){return t.addCourseMaterial()})),o.Cc(9," Add Course Material "),o.Rb(10,"nb-icon",5),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"nb-card"),o.Wb(12,"nb-card-header"),o.Wb(13,"div",0),o.Wb(14,"div",6),o.Wb(15,"h5"),o.Cc(16,"Select Subject"),o.Vb(),o.Vb(),o.Wb(17,"div",7),o.Ac(18,d,4,2,"nb-select",8),o.Vb(),o.Vb(),o.Vb(),o.Wb(19,"nb-card-body",9),o.Wb(20,"div",0),o.Wb(21,"div",10),o.Ac(22,v,4,2,"ng-container",11),o.Ac(23,C,2,0,"ng-template",null,12,o.Bc),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){var c=o.sc(24);o.Eb(6),o.mc("ngIf",t.course),o.Eb(12),o.mc("ngIf",t.course),o.Eb(4),o.mc("ngIf",!t.loading)("ngIfElse",c)}},directives:[i.x,i.z,a.n,i.u,i.L,i.w,i.jb,i.eb,a.m],styles:[""]}),p)},{path:"page-not-found",loadChildren:function(){return c.e(0).then(c.bind(null,"DeSt")).then((function(e){return e.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],V=((m=function e(){_classCallCheck(this,e)}).\u0275mod=o.Ob({type:m}),m.\u0275inj=o.Nb({factory:function(e){return new(e||m)},imports:[[u.g.forChild(W)],u.g]}),m);c.d(t,"ManageCourseMaterialModule",(function(){return y}));var M,y=((M=function e(){_classCallCheck(this,e)}).\u0275mod=o.Ob({type:M}),M.\u0275inj=o.Nb({factory:function(e){return new(e||M)},imports:[[a.c,V,i.A,i.v,i.N,i.Ab,i.kb]]}),M)}}]);