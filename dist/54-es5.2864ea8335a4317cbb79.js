function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var b=e[n];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(t,b.key,b)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"w+WK":function(t,e,n){"use strict";n.r(e);var b=n("ofXK"),a=n("Pj/w"),c=n("EQut"),i=n("fDUG"),r=n("ZatZ"),o=n("pjuo"),s=n("cS08"),l=n("fXoL"),u=n("tyNb"),d=n("aceb");function p(t,e){if(1&t&&(l.Wb(0,"div",2),l.Wb(1,"div",13),l.Wb(2,"h1"),l.Cc(3),l.Vb(),l.Wb(4,"h3"),l.Cc(5),l.Vb(),l.Vb(),l.Vb()),2&t){var n=l.gc();l.Eb(3),l.Dc(n.receipt.name),l.Eb(2),l.Dc(n.receipt.address)}}function W(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"td"),l.Cc(2),l.Vb(),l.Wb(3,"td"),l.Cc(4),l.Vb(),l.Wb(5,"td"),l.Cc(6),l.Vb(),l.Vb()),2&t){var n=e.$implicit,b=e.index;l.Eb(2),l.Dc(b+1),l.Eb(2),l.Dc(n.description),l.Eb(2),l.Dc(n.amount)}}function h(t,e){if(1&t&&(l.Wb(0,"div",14),l.Wb(1,"table",15),l.Wb(2,"thead"),l.Wb(3,"tr"),l.Wb(4,"th"),l.Cc(5,"#"),l.Vb(),l.Wb(6,"th"),l.Cc(7,"Earning"),l.Vb(),l.Wb(8,"th"),l.Cc(9,"Amount"),l.Vb(),l.Vb(),l.Vb(),l.Wb(10,"tbody"),l.Ac(11,W,7,3,"tr",16),l.Wb(12,"tr"),l.Wb(13,"th",17),l.Cc(14,"Total"),l.Vb(),l.Wb(15,"th"),l.Cc(16),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){var n=l.gc();l.Eb(11),l.mc("ngForOf",n.salary.earnings),l.Eb(5),l.Dc(n.totalEarning())}}function V(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"td"),l.Cc(2),l.Vb(),l.Wb(3,"td"),l.Cc(4),l.Vb(),l.Wb(5,"td"),l.Cc(6),l.Vb(),l.Vb()),2&t){var n=e.$implicit,b=e.index;l.Eb(2),l.Dc(b+1),l.Eb(2),l.Dc(n.description),l.Eb(2),l.Dc(n.amount)}}function y(t,e){if(1&t&&(l.Wb(0,"div",14),l.Wb(1,"table",18),l.Wb(2,"thead"),l.Wb(3,"tr"),l.Wb(4,"th"),l.Cc(5,"#"),l.Vb(),l.Wb(6,"th"),l.Cc(7,"Deduction"),l.Vb(),l.Wb(8,"th"),l.Cc(9,"Amount"),l.Vb(),l.Vb(),l.Vb(),l.Wb(10,"tbody"),l.Ac(11,V,7,3,"tr",16),l.Wb(12,"tr"),l.Wb(13,"th",17),l.Cc(14,"Total"),l.Vb(),l.Wb(15,"th"),l.Cc(16),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){var n=l.gc();l.Eb(11),l.mc("ngForOf",n.salary.deductions),l.Eb(5),l.Dc(n.totalDeduction())}}function f(t,e){1&t&&(l.Wb(0,"span",1),l.Cc(1,"No Earnings"),l.Vb())}function v(t,e){1&t&&(l.Wb(0,"span",1),l.Cc(1,"No Deductions"),l.Vb())}var g,C,E=[{path:"",component:(g=function(){function t(e,n,b,a,c,i,r,o,s){_classCallCheck(this,t),this.branchService=e,this.salaryService=n,this.employeeService=b,this.branchEmployeeService=a,this.dateService=c,this.router=i,this.toastrService=r,this.receiptService=o,this.route=s}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0;var e=this.branchService.getBranchId();e?(this.salaryService.getEmployeeSalaryData().subscribe((function(e){t.salary=e})),this.employeeService.getEmployeeData().subscribe((function(e){t.employee=e})),this.branchEmployeeService.getBranchEmployeeData().subscribe((function(e){t.branchEmployee=e})),this.salary&&this.employee&&this.branchEmployee||(this.showToastr("top-right","danger","Employee Salary Not Found"),this.back()),this.receiptService.getBillingDetails(e).subscribe((function(e){t.receipt=e,t.loading=!1}),(function(e){t.showToastr("top-right","danger",e),t.back()}))):this.back()}},{key:"totalEarning",value:function(){var t=0;return this.salary.earnings.forEach((function(e){t+=+e.amount})),parseFloat(t).toFixed(2)}},{key:"totalDeduction",value:function(){var t=0;return this.salary.deductions.forEach((function(e){t+=+e.amount})),parseFloat(t).toFixed(2)}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}},{key:"print",value:function(){window.print()}},{key:"showToastr",value:function(t,e,n){this.toastrService.show(e,n,{position:t,status:e})}},{key:"ngOnDestroy",value:function(){}}]),t}(),g.\u0275fac=function(t){return new(t||g)(l.Qb(c.a),l.Qb(s.a),l.Qb(o.a),l.Qb(a.a),l.Qb(r.a),l.Qb(u.c),l.Qb(d.xb),l.Qb(i.a),l.Qb(u.a))},g.\u0275cmp=l.Kb({type:g,selectors:[["ngx-view-salary-receipt"]],decls:95,vars:19,consts:[["class","row",4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col-md-10","col-12","mx-auto"],[1,"col-12","text-right"],[1,"col-md-6","col-12"],["class","table-responsive",4,"ngIf","ngIfElse"],[1,"col-12"],[1,"text-right"],["type","button","nbButton","","status","success","size","small",1,"float-right",3,"click"],["icon","printer-outline"],["noEarnings",""],["noDeductions",""],[1,"col-12","text-center"],[1,"table-responsive"],[1,"table","table-am"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"table","table-sm"]],template:function(t,e){if(1&t&&(l.Wb(0,"nb-card"),l.Wb(1,"nb-card-body"),l.Ac(2,p,6,2,"div",0),l.Wb(3,"h5",1),l.Cc(4,"Salary Slip"),l.Vb(),l.Rb(5,"br"),l.Wb(6,"div",2),l.Wb(7,"div",3),l.Wb(8,"div",2),l.Wb(9,"div",4),l.Wb(10,"span"),l.Wb(11,"strong"),l.Cc(12,"Date: "),l.Vb(),l.Cc(13),l.Vb(),l.Vb(),l.Wb(14,"div",5),l.Wb(15,"span"),l.Wb(16,"strong"),l.Cc(17,"Employee Name: "),l.Vb(),l.Cc(18),l.Vb(),l.Vb(),l.Wb(19,"div",5),l.Wb(20,"span"),l.Wb(21,"strong"),l.Cc(22,"Employee Role: "),l.Vb(),l.Cc(23),l.Vb(),l.Vb(),l.Wb(24,"div",5),l.Wb(25,"span"),l.Wb(26,"strong"),l.Cc(27,"Month: "),l.Vb(),l.Cc(28),l.Vb(),l.Vb(),l.Wb(29,"div",5),l.Wb(30,"span"),l.Wb(31,"strong"),l.Cc(32,"Year: "),l.Vb(),l.Cc(33),l.Vb(),l.Vb(),l.Wb(34,"div",5),l.Wb(35,"span"),l.Wb(36,"strong"),l.Cc(37,"Description: "),l.Vb(),l.Cc(38),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Rb(39,"br"),l.Wb(40,"div",2),l.Wb(41,"div",5),l.Wb(42,"h5"),l.Cc(43,"Earnings"),l.Vb(),l.Ac(44,h,17,2,"div",6),l.Vb(),l.Wb(45,"div",5),l.Wb(46,"h5"),l.Cc(47,"Deductions"),l.Vb(),l.Ac(48,y,17,2,"div",6),l.Vb(),l.Vb(),l.Wb(49,"div",2),l.Wb(50,"div",7),l.Wb(51,"div",8),l.Wb(52,"span"),l.Wb(53,"strong"),l.Cc(54,"Net Salary: "),l.Vb(),l.Cc(55),l.Vb(),l.Vb(),l.Wb(56,"span"),l.Wb(57,"strong"),l.Cc(58,"Net Salary in Words: "),l.Vb(),l.Cc(59),l.Vb(),l.Vb(),l.Vb(),l.Rb(60,"br"),l.Wb(61,"div",2),l.Wb(62,"div",5),l.Wb(63,"span"),l.Wb(64,"strong"),l.Cc(65,"Generated By: "),l.Vb(),l.Cc(66),l.Vb(),l.Vb(),l.Wb(67,"div",5),l.Wb(68,"span"),l.Wb(69,"strong"),l.Cc(70,"Payment Mode: "),l.Vb(),l.Cc(71),l.hc(72,"uppercase"),l.Vb(),l.Vb(),l.Wb(73,"div",5),l.Wb(74,"span"),l.Wb(75,"strong"),l.Cc(76,"Bank Details: "),l.Vb(),l.Cc(77),l.Vb(),l.Vb(),l.Wb(78,"div",5),l.Wb(79,"span"),l.Wb(80,"strong"),l.Cc(81,"Transaction Details: "),l.Vb(),l.Cc(82),l.Vb(),l.Vb(),l.Vb(),l.Rb(83,"br"),l.Wb(84,"h6",1),l.Wb(85,"small"),l.Cc(86,"*This is Computer Generated Receipt, Does not Required any Stamp or Signature"),l.Vb(),l.Vb(),l.Wb(87,"div",2),l.Wb(88,"div",7),l.Wb(89,"button",9),l.ec("click",(function(){return e.print()})),l.Rb(90,"nb-icon",10),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Ac(91,f,2,0,"ng-template",null,11,l.Bc),l.Ac(93,v,2,0,"ng-template",null,12,l.Bc)),2&t){var n=l.sc(92),b=l.sc(94);l.Eb(2),l.mc("ngIf",!e.loading),l.Eb(11),l.Ec(" ",e.dateService.formatDate(e.salary.date),""),l.Eb(5),l.Ec(" ",e.employee.name,""),l.Eb(5),l.Ec(" ",e.branchEmployee.role,""),l.Eb(5),l.Ec(" ",e.dateService.getMonthByMonthNumber(e.salary.month),""),l.Eb(5),l.Dc(e.salary.year),l.Eb(5),l.Dc(e.salary.description?e.salary.description:"--"),l.Eb(6),l.mc("ngIf",e.salary.earnings.length>0)("ngIfElse",n),l.Eb(4),l.mc("ngIf",e.salary.deductions.length>0)("ngIfElse",b),l.Eb(7),l.Ec(" ",e.salary.netSalary,"/-"),l.Eb(4),l.Ec(" ",e.salary.netSalaryInWords,""),l.Eb(7),l.Dc(e.salary.generatedBy),l.Eb(5),l.Dc(l.ic(72,17,e.salary.paymentMode)),l.Eb(6),l.Ec(" ",e.salary.bankDetails?e.salary.bankDetails:"--",""),l.Eb(5),l.Ec(" ",e.salary.transactionDetails?e.salary.transactionDetails:"--"," ")}},directives:[d.x,d.w,b.n,d.u,d.L,b.m],pipes:[b.v],styles:[""]}),g)},{path:"page-not-found",loadChildren:function(){return n.e(0).then(n.bind(null,"DeSt")).then((function(t){return t.PageNotFoundModule}))}},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}],m=((C=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ob({type:C}),C.\u0275inj=l.Nb({factory:function(t){return new(t||C)},imports:[[u.g.forChild(E)],u.g]}),C);n.d(e,"ViewSalaryReceiptModule",(function(){return S}));var D,S=((D=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ob({type:D}),D.\u0275inj=l.Nb({factory:function(t){return new(t||D)},imports:[[b.c,m,d.A,d.v,d.N]]}),D)}}]);