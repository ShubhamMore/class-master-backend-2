(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"+FD+":function(e,t,n){"use strict";n.r(t);var a=n("aceb"),l=n("ofXK"),s=n("CHqn"),r=n("fXoL");function i(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275elementStart"](1,"div",11),r["\u0275\u0275elementStart"](2,"nb-form-field"),r["\u0275\u0275element"](3,"nb-icon",12),r["\u0275\u0275elementStart"](4,"input",13),r["\u0275\u0275listener"]("input",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().searchInstitute(t.target.value)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function d(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"td"),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"td"),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"td"),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"td"),r["\u0275\u0275elementStart"](14,"button",17),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).changeUserStatus("institute",n.imsMasterId,!n.status)})),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n+1),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.email),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.phone),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.imsMasterId),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.status?"Active":"Inactive"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("status",e.status?"danger":"success"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.status?"Deactivate":"Activate"," ")}}function m(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275elementStart"](1,"table",15),r["\u0275\u0275elementStart"](2,"thead"),r["\u0275\u0275elementStart"](3,"tr"),r["\u0275\u0275elementStart"](4,"th"),r["\u0275\u0275text"](5,"#"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"th"),r["\u0275\u0275text"](11,"Phone"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"th"),r["\u0275\u0275text"](13,"IMS Master ID"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"th"),r["\u0275\u0275text"](15,"Status"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"th"),r["\u0275\u0275text"](17,"Action"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"tbody"),r["\u0275\u0275template"](19,d,16,8,"tr",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](19),r["\u0275\u0275property"]("ngForOf",e.institutes)}}function o(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275elementStart"](1,"div",11),r["\u0275\u0275elementStart"](2,"nb-form-field"),r["\u0275\u0275element"](3,"nb-icon",12),r["\u0275\u0275elementStart"](4,"input",18),r["\u0275\u0275listener"]("input",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().searchEmployee(t.target.value)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function c(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"td"),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"td"),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"td"),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"td"),r["\u0275\u0275elementStart"](14,"button",17),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).changeUserStatus("employee",n.imsMasterId,!n.status)})),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n+1),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.email),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.phone),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.imsMasterId),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.status?"Active":"Inactive"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("status",e.status?"danger":"success"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.status?"Deactivate":"Activate"," ")}}function u(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275elementStart"](1,"table",15),r["\u0275\u0275elementStart"](2,"thead"),r["\u0275\u0275elementStart"](3,"tr"),r["\u0275\u0275elementStart"](4,"th"),r["\u0275\u0275text"](5,"#"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"th"),r["\u0275\u0275text"](11,"Phone"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"th"),r["\u0275\u0275text"](13,"IMS Master ID"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"th"),r["\u0275\u0275text"](15,"Status"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"th"),r["\u0275\u0275text"](17,"Action"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"tbody"),r["\u0275\u0275template"](19,c,16,8,"tr",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](19),r["\u0275\u0275property"]("ngForOf",e.employees)}}function p(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275elementStart"](1,"div",11),r["\u0275\u0275elementStart"](2,"nb-form-field"),r["\u0275\u0275element"](3,"nb-icon",12),r["\u0275\u0275elementStart"](4,"input",19),r["\u0275\u0275listener"]("input",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().searchStudent(t.target.value)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"td"),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"td"),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"td"),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"td"),r["\u0275\u0275elementStart"](14,"button",17),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).changeUserStatus("student",n.imsMasterId,!n.status)})),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n+1),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.email),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.phone),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.imsMasterId),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.status?"Active":"Inactive"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("status",e.status?"danger":"success"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.status?"Deactivate":"Activate"," ")}}function S(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275elementStart"](1,"table",15),r["\u0275\u0275elementStart"](2,"thead"),r["\u0275\u0275elementStart"](3,"tr"),r["\u0275\u0275elementStart"](4,"th"),r["\u0275\u0275text"](5,"#"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"th"),r["\u0275\u0275text"](11,"Phone"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"th"),r["\u0275\u0275text"](13,"IMS Master ID"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"th"),r["\u0275\u0275text"](15,"Status"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"th"),r["\u0275\u0275text"](17,"Action"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"tbody"),r["\u0275\u0275template"](19,h,16,8,"tr",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](19),r["\u0275\u0275property"]("ngForOf",e.students)}}function f(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",20),r["\u0275\u0275text"](1,"No Institutes"),r["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",20),r["\u0275\u0275text"](1,"No Employees"),r["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",20),r["\u0275\u0275text"](1,"No Students"),r["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",20),r["\u0275\u0275text"](1,"Loading..."),r["\u0275\u0275elementEnd"]())}let I=(()=>{class e{constructor(e,t){this.userService=e,this.toastrService=t}ngOnInit(){this.loading=!0,this.institutes=[],this.employees=[],this.students=[],this.filteredInstitutes=[],this.filteredEmployees=[],this.filteredStudents=[],this.curTab="institutes",this.userService.getUsers().subscribe(e=>{this.institutes=e.institutes,this.employees=e.employees,this.students=e.students,this.filteredInstitutes=[...this.institutes],this.filteredEmployees=[...this.employees],this.filteredStudents=[...this.students],this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}changeTab(e){this.curTab=e}searchInstitute(e){this.institute=e?e.trim().toLowerCase():null,this.filteredInstitutes=this.institute?this.institutes.filter(e=>e.name.toLowerCase().includes(this.institute)):[...this.institutes]}searchEmployee(e){this.employee=e?e.trim().toLowerCase():null,this.filteredEmployees=this.employee?this.employees.filter(e=>e.name.toLowerCase().includes(this.employee)):[...this.employees]}searchStudent(e){this.student=e?e.trim().toLowerCase():null,this.filteredStudents=this.student?this.students.filter(e=>e.name.toLowerCase().includes(this.student)):[...this.students]}changeUserStatus(e,t,n){this.loading=!0,this.userService.changeUserStatus(t,n).subscribe(a=>{if("institute"===e){const e=this.institutes.findIndex(e=>e.imsMasterId===t);e>=0&&(this.institutes[e].status=n),this.searchInstitute(this.institute)}else if("employee"===e){const e=this.employees.findIndex(e=>e.imsMasterId===t);e>=0&&(this.employees[e].status=n),this.searchInstitute(this.employee)}else if("student"===e){const e=this.students.findIndex(e=>e.imsMasterId===t);e>=0&&(this.students[e].status=n),this.searchInstitute(this.student)}else this.showToastr("top-right","danger","Invalid User Role");this.loading=!1},e=>{this.showToastr("top-right","danger",e),this.loading=!1})}showToastr(e,t,n){this.toastrService.show(t,n,{position:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](a.Db))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-users"]],decls:26,vars:13,consts:[["fullWidth","",3,"routeParam","changeTab"],["tabTitle","institutes"],["class","row",4,"ngIf","ngIfElse"],["class","table-responsive",4,"ngIf","ngIfElse"],["tabTitle","employees"],["tabTitle","students"],["noInstitutes",""],["noEmployees",""],["noStudents",""],["loadingData",""],[1,"row"],[1,"col-md-6","col-12"],["nbPrefix","","icon","search-outline","pack","eva"],["type","text","nbInput","","shape","round","placeholder","Search Institute","fullWidth","",3,"input"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","button","nbButton","","size","small",3,"status","click"],["type","text","nbInput","","shape","round","placeholder","Search Employee","fullWidth","",3,"input"],["type","text","nbInput","","shape","round","placeholder","Search Student","fullWidth","",3,"input"],[1,"pt-5","pb-5","text-center"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"nb-card"),r["\u0275\u0275elementStart"](1,"nb-card-header"),r["\u0275\u0275elementStart"](2,"h3"),r["\u0275\u0275text"](3,"USERS"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"nb-card-body"),r["\u0275\u0275elementStart"](5,"nb-tabset",0),r["\u0275\u0275listener"]("changeTab",(function(e){return t.changeTab(e.tabTitle)})),r["\u0275\u0275elementStart"](6,"nb-tab",1),r["\u0275\u0275template"](7,i,5,0,"div",2),r["\u0275\u0275element"](8,"br"),r["\u0275\u0275template"](9,m,20,1,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"nb-tab",4),r["\u0275\u0275template"](11,o,5,0,"div",2),r["\u0275\u0275element"](12,"br"),r["\u0275\u0275template"](13,u,20,1,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"nb-tab",5),r["\u0275\u0275template"](15,p,5,0,"div",2),r["\u0275\u0275element"](16,"br"),r["\u0275\u0275template"](17,S,20,1,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](18,f,2,0,"ng-template",null,6,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](20,E,2,0,"ng-template",null,7,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](22,x,2,0,"ng-template",null,8,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](24,v,2,0,"ng-template",null,9,r["\u0275\u0275templateRefExtractor"])),2&e){const e=r["\u0275\u0275reference"](19),n=r["\u0275\u0275reference"](21),a=r["\u0275\u0275reference"](23),l=r["\u0275\u0275reference"](25);r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("routeParam",t.curTab),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",l),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.filteredInstitutes.length>0)("ngIfElse",e),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",l),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.filteredEmployees.length>0)("ngIfElse",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",l),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.filteredStudents.length>0)("ngIfElse",a)}},directives:[a.x,a.z,a.w,a.yb,a.xb,l.n,a.K,a.M,a.ib,a.P,l.m,a.u],styles:[""]}),e})();var g=n("tyNb");const b=[{path:"",component:I},{path:"page-not-found",loadChildren:()=>n.e(0).then(n.bind(null,"DeSt")).then(e=>e.PageNotFoundModule)},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let y=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[g.g.forChild(b)],g.g]}),e})();n.d(t,"UsersModule",(function(){return w}));let w=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,y,a.A,a.Ib,a.O,a.Q,a.v,a.Gb,a.zb,a.L]]}),e})()}}]);