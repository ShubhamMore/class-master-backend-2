{"version":3,"sources":["webpack:///src/app/institute/transaction/view-transaction/view-transaction.component.html","webpack:///src/app/institute/transaction/view-transaction/view-transaction-routing.module.ts","webpack:///src/app/institute/transaction/view-transaction/view-transaction.component.ts","webpack:///src/app/institute/transaction/view-transaction/view-transaction.module.ts"],"names":["routes","path","component","ViewTransactionComponent","transactionService","router","route","dateService","toastrService","this","loading","gstNo","environment","address","getInstituteTransactionData","subscribe","transaction","showToastr","back","receiptAmount","amount","gstAmount","toFixed","totalAmount","navigate","relativeTo","position","status","message","show","canActivate","loadChildren","then","m","PageNotFoundModule","redirectTo","pathMatch","ViewTransactionRoutingModule","forChild","ViewTransactionModule"],"mappings":"6QAeI,uCACE,yCACE,yCACE,yCACE,yCACE,yCACE,oCAKF,8BACF,8BACA,yCACE,yCACE,yBACF,8BACF,8BACA,0CACE,0CAAiB,0BAAiB,8BACpC,8BACF,8BACA,kCACA,0CACE,2CACE,2CAAQ,mCAAM,8BAAS,0BACzB,8BACA,2CACE,2CAAQ,6CAAgB,8BAAS,0B,sCACnC,8BACA,2CACE,2CAAQ,uCAAU,8BAAS,0BAC7B,8BACA,2CACE,2CAAQ,mCAAM,8BACd,0BACF,8BACA,sCAGA,sCAGF,8BAEA,0CACE,2CACE,2CACE,6CACE,4CACE,uCACE,uCAAI,wCAAW,8BACf,uCAAI,mCAAM,8BACZ,8BACF,8BACA,0CACE,uCACE,uCAAI,0BAA6D,8BACjE,uCAAI,0BAAc,8BACpB,8BACA,uCACE,uCAAI,oCAAO,8BACX,uCAAI,0BAAiB,8BACvB,8BACF,8BACA,0CACE,uCACE,uCAAI,mCAAM,8BACV,uCAAI,0BAAmB,8BACzB,8BACF,8BACF,8BACF,8BACF,8BACF,8BAEA,kCACA,kCAEA,0CACE,0CACE,yCACE,0CAAO,0FAA6D,8BACtE,8BACF,8BACF,8BACF,8BACF,8BACF,+B,4CAzEY,iFAIe,mFAMM,6FAGU,0HAGN,6FAI3B,4JAsBY,8HACA,gFAIA,mFAMA,sF,sBAyBxB,wCAAiC,sCAAU,+BCxG7C,MAAMA,EAAiB,CACrB,CAAEC,KAAM,GAAIC,UCQP,M,MAAMC,EAUX,YACUC,EACAC,EACAC,EACDC,EACCC,GAJA,KAAAJ,qBACA,KAAAC,SACA,KAAAC,QACD,KAAAC,cACC,KAAAC,gBAGV,WACEC,KAAKC,SAAU,EAEfD,KAAKE,MAAQC,EAAA,EAAYD,MACzBF,KAAKI,QAAUD,EAAA,EAAYC,QAE3BJ,KAAKL,mBACFU,8BACAC,UAAWC,IACLA,IACHP,KAAKQ,WAAW,YAAa,SAAU,6BACvCR,KAAKS,QAEPT,KAAKO,YAAcA,EAEnB,MAAMG,GAAiBH,EAAYI,OAE7BA,EAASD,EAAgB,KAG/BV,KAAKY,WAFaF,EAAgBC,GAEPE,QAAQ,GACnCb,KAAKW,OAASA,EAAOE,QAAQ,GAE7Bb,KAAKc,YAAcJ,EAAcG,QAAQ,GAEzCb,KAAKC,SAAU,IAIrB,OACED,KAAKJ,OAAOmB,SAAS,CAAC,OAAQ,CAAEC,WAAYhB,KAAKH,QAG3C,WAAWoB,EAAeC,EAAaC,GAC7CnB,KAAKD,cAAcqB,KAAKF,EAAQC,EAAS,CACvCF,WACAC,WAIJ,gB,6CA1DWxB,GAAwB,iM,mDAAxBA,EAAwB,koB,GAAA,MFbrC,2CACE,kDACE,4CAME,qDAAS,EAAAe,UAET,kCACF,8BACA,sCAAI,uCAAW,8BACjB,8BACA,gDACE,6CAyFF,8BACF,8BAEA,+F,2CA5FS,yEAAkC,gB,8DEFpC,GDR4CY,YAAa,IAE9D,CACE7B,KAAM,iBACN8B,aAAc,IACZ,iCAA+DC,KAC5DC,GAAMA,EAAEC,qBAIf,CACEjC,KAAM,KACNkC,WAAY,iBACZC,UAAW,SAQR,Y,MAAMC,G,yDAAAA,I,+EAAAA,IAA4B,SAH9B,CAAC,IAAaC,SAAStC,IACtB,O,GAEL,GEfA,Q,MAAMuC,G,yDAAAA,I,+EAAAA,IAAqB,SAFvB,CAAC,IAAc,EAA8B,IAAc,Q,GAE/D","file":"x","sourcesContent":["<nb-card>\r\n  <nb-card-header>\r\n    <button\r\n      type=\"button\"\r\n      nbButton\r\n      class=\"float-right\"\r\n      status=\"warning\"\r\n      size=\"small\"\r\n      (click)=\"back()\"\r\n    >\r\n      Back\r\n    </button>\r\n    <h3>Transaction</h3>\r\n  </nb-card-header>\r\n  <nb-card-body>\r\n    <div *ngIf=\"!loading; else loadingData\">\r\n      <div class=\"row m-5\">\r\n        <div class=\"col-md-9 col-11 mx-auto\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4 col-sm-6 co-10 mx-auto\">\r\n              <div class=\"text-center\">\r\n                <img\r\n                  src=\"./../../../../assets/brand/class-master.png\"\r\n                  alt=\"Class Master\"\r\n                  width=\"75%\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"text-center pt-2\">\r\n                {{ address }}\r\n              </h6>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pt-2\">GSTN: {{ gstNo }}</h6>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 col-10 mx-auto\">\r\n              <strong>Name: </strong>{{ transaction.userName }}\r\n            </div>\r\n            <div class=\"col-md-6 col-10 mx-auto\">\r\n              <strong>Transaction Id: </strong>{{ transaction._id | uppercase }}\r\n            </div>\r\n            <div class=\"col-md-6 col-10 mx-auto\">\r\n              <strong>Order Id: </strong>{{ transaction.order_id }}\r\n            </div>\r\n            <div class=\"col-md-6 col-10 mx-auto\">\r\n              <strong>Date: </strong>\r\n              {{ dateService.formatDate(dateService.convertToDateString(transaction.createdAt)) }}\r\n            </div>\r\n            <div class=\"col-md-6 col-10 mx-auto\">\r\n              <!-- <strong>Branch: </strong>{{ transaction.branchBasicDetails.branchName }} -->\r\n            </div>\r\n            <div class=\"col-md-6 col-10 mx-auto\">\r\n              <!-- <strong>Branch City: </strong>{{ transaction.branchAddress.city }} -->\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-md-8 col-sm-10 col-12 mx-auto\">\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-bordered\">\r\n                  <thead class=\"text-center\">\r\n                    <tr>\r\n                      <th>Description</th>\r\n                      <th>Amount</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>{{ transaction.packageType }}&nbsp;{{ transaction.planType }}</td>\r\n                      <td>{{ amount }}/-</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>GST 18%</td>\r\n                      <td>{{ gstAmount }}/-</td>\r\n                    </tr>\r\n                  </tbody>\r\n                  <tfoot>\r\n                    <tr>\r\n                      <th>Total:</th>\r\n                      <th>{{ totalAmount }}/-</th>\r\n                    </tr>\r\n                  </tfoot>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <br />\r\n          <hr />\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <h6 class=\"text-center\">\r\n                <small>This is computer generated receipt and requires no signature.</small>\r\n              </h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nb-card-body>\r\n</nb-card>\r\n\r\n<ng-template #loadingData>\r\n  <p class=\"pt-5 pb-5 text-center\">Loading...</p>\r\n</ng-template>\r\n","import { ViewTransactionComponent } from './view-transaction.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: ViewTransactionComponent, canActivate: [] },\n\n  {\n    path: 'page-not-found',\n    loadChildren: () =>\n      import('../../../shared/page-not-found/page-not-found.module').then(\n        (m) => m.PageNotFoundModule,\n      ),\n  },\n\n  {\n    path: '**',\n    redirectTo: 'page-not-found',\n    pathMatch: 'full',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewTransactionRoutingModule {}\n","import { DateService } from './../../../services/shared-services/date.service';\nimport { NbToastrService } from '@nebular/theme';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { InstituteTransactionModel } from './../../../models/institute-transaction.model';\nimport { TransactionService } from './../../../services/transaction.service';\nimport { environment } from './../../../../environments/environment';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\n\n@Component({\n  selector: 'ngx-view-transaction',\n  templateUrl: './view-transaction.component.html',\n  styleUrls: ['./view-transaction.component.scss'],\n})\nexport class ViewTransactionComponent implements OnInit, OnDestroy {\n  loading: boolean;\n  transaction: InstituteTransactionModel;\n  address: string;\n\n  gstNo: string;\n  amount: string;\n  gstAmount: string;\n  totalAmount: string;\n\n  constructor(\n    private transactionService: TransactionService,\n    private router: Router,\n    private route: ActivatedRoute,\n    public dateService: DateService,\n    private toastrService: NbToastrService,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = true;\n\n    this.gstNo = environment.gstNo;\n    this.address = environment.address;\n\n    this.transactionService\n      .getInstituteTransactionData()\n      .subscribe((transaction: InstituteTransactionModel) => {\n        if (!transaction) {\n          this.showToastr('top-right', 'danger', 'Transaction Not Available');\n          this.back();\n        }\n        this.transaction = transaction;\n\n        const receiptAmount = +transaction.amount;\n\n        const amount = receiptAmount / 1.18;\n        const gstAmount = receiptAmount - amount;\n\n        this.gstAmount = gstAmount.toFixed(2);\n        this.amount = amount.toFixed(2);\n\n        this.totalAmount = receiptAmount.toFixed(2);\n\n        this.loading = false;\n      });\n  }\n\n  back() {\n    this.router.navigate(['../'], { relativeTo: this.route });\n  }\n\n  private showToastr(position: any, status: any, message: string) {\n    this.toastrService.show(status, message, {\n      position,\n      status,\n    });\n  }\n\n  ngOnDestroy() {}\n}\n","import { NbCardModule, NbButtonModule } from '@nebular/theme';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ViewTransactionRoutingModule } from './view-transaction-routing.module';\r\nimport { ViewTransactionComponent } from './view-transaction.component';\r\n\r\n@NgModule({\r\n  declarations: [ViewTransactionComponent],\r\n  imports: [CommonModule, ViewTransactionRoutingModule, NbCardModule, NbButtonModule],\r\n})\r\nexport class ViewTransactionModule {}\r\n"]}